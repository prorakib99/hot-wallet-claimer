var s0=Object.defineProperty;var Ra=ht=>{throw TypeError(ht)};var a0=(ht,Ot,ce)=>Ot in ht?s0(ht,Ot,{enumerable:!0,configurable:!0,writable:!0,value:ce}):ht[Ot]=ce;var de=(ht,Ot,ce)=>a0(ht,typeof Ot!="symbol"?Ot+"":Ot,ce),La=(ht,Ot,ce)=>Ot.has(ht)||Ra("Cannot "+ce);var pr=(ht,Ot,ce)=>(La(ht,Ot,"read from private field"),ce?ce.call(ht):Ot.get(ht)),gr=(ht,Ot,ce)=>Ot.has(ht)?Ra("Cannot add the same private member more than once"):Ot instanceof WeakSet?Ot.add(ht):Ot.set(ht,ce),yr=(ht,Ot,ce,pe)=>(La(ht,Ot,"write to private field"),pe?pe.call(ht,ce):Ot.set(ht,ce),ce);(function(){"use strict";var hn,ln,dn,pn,gn,yn,wn;var ht=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ot(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function ce(r){if(r.__esModule)return r;var t=r.default;if(typeof t=="function"){var e=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var a=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(e,n,a.get?a:{enumerable:!0,get:function(){return r[n]}})}),e}var pe={},Yr={};Yr.byteLength=Pa,Yr.toByteArray=Ha,Yr.fromByteArray=Qa;for(var je=[],Oe=[],Ta=typeof Uint8Array<"u"?Uint8Array:Array,ei="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",kr=0,Oa=ei.length;kr<Oa;++kr)je[kr]=ei[kr],Oe[ei.charCodeAt(kr)]=kr;Oe[45]=62,Oe[95]=63;function Fo(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");e===-1&&(e=t);var n=e===t?0:4-e%4;return[e,n]}function Pa(r){var t=Fo(r),e=t[0],n=t[1];return(e+n)*3/4-n}function Na(r,t,e){return(t+e)*3/4-e}function Ha(r){var t,e=Fo(r),n=e[0],a=e[1],s=new Ta(Na(r,n,a)),h=0,f=a>0?n-4:n,y;for(y=0;y<f;y+=4)t=Oe[r.charCodeAt(y)]<<18|Oe[r.charCodeAt(y+1)]<<12|Oe[r.charCodeAt(y+2)]<<6|Oe[r.charCodeAt(y+3)],s[h++]=t>>16&255,s[h++]=t>>8&255,s[h++]=t&255;return a===2&&(t=Oe[r.charCodeAt(y)]<<2|Oe[r.charCodeAt(y+1)]>>4,s[h++]=t&255),a===1&&(t=Oe[r.charCodeAt(y)]<<10|Oe[r.charCodeAt(y+1)]<<4|Oe[r.charCodeAt(y+2)]>>2,s[h++]=t>>8&255,s[h++]=t&255),s}function za(r){return je[r>>18&63]+je[r>>12&63]+je[r>>6&63]+je[r&63]}function Ka(r,t,e){for(var n,a=[],s=t;s<e;s+=3)n=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(r[s+2]&255),a.push(za(n));return a.join("")}function Qa(r){for(var t,e=r.length,n=e%3,a=[],s=16383,h=0,f=e-n;h<f;h+=s)a.push(Ka(r,h,h+s>f?f:h+s));return n===1?(t=r[e-1],a.push(je[t>>2]+je[t<<4&63]+"==")):n===2&&(t=(r[e-2]<<8)+r[e-1],a.push(je[t>>10]+je[t>>4&63]+je[t<<2&63]+"=")),a.join("")}var mn={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */mn.read=function(r,t,e,n,a){var s,h,f=a*8-n-1,y=(1<<f)-1,x=y>>1,M=-7,S=e?a-1:0,U=e?-1:1,C=r[t+S];for(S+=U,s=C&(1<<-M)-1,C>>=-M,M+=f;M>0;s=s*256+r[t+S],S+=U,M-=8);for(h=s&(1<<-M)-1,s>>=-M,M+=n;M>0;h=h*256+r[t+S],S+=U,M-=8);if(s===0)s=1-x;else{if(s===y)return h?NaN:(C?-1:1)*(1/0);h=h+Math.pow(2,n),s=s-x}return(C?-1:1)*h*Math.pow(2,s-n)},mn.write=function(r,t,e,n,a,s){var h,f,y,x=s*8-a-1,M=(1<<x)-1,S=M>>1,U=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,C=n?0:s-1,L=n?1:-1,D=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(f=isNaN(t)?1:0,h=M):(h=Math.floor(Math.log(t)/Math.LN2),t*(y=Math.pow(2,-h))<1&&(h--,y*=2),h+S>=1?t+=U/y:t+=U*Math.pow(2,1-S),t*y>=2&&(h++,y/=2),h+S>=M?(f=0,h=M):h+S>=1?(f=(t*y-1)*Math.pow(2,a),h=h+S):(f=t*Math.pow(2,S-1)*Math.pow(2,a),h=0));a>=8;r[e+C]=f&255,C+=L,f/=256,a-=8);for(h=h<<a|f,x+=a;x>0;r[e+C]=h&255,C+=L,h/=256,x-=8);r[e+C-L]|=D*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const t=Yr,e=mn,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=f,r.SlowBuffer=Q,r.INSPECT_MAX_BYTES=50;const a=2147483647;r.kMaxLength=a,f.TYPED_ARRAY_SUPPORT=s(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const c=new Uint8Array(1),i={foo:function(){return 42}};return Object.setPrototypeOf(i,Uint8Array.prototype),Object.setPrototypeOf(c,i),c.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function h(c){if(c>a)throw new RangeError('The value "'+c+'" is invalid for option "size"');const i=new Uint8Array(c);return Object.setPrototypeOf(i,f.prototype),i}function f(c,i,o){if(typeof c=="number"){if(typeof i=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return S(c)}return y(c,i,o)}f.poolSize=8192;function y(c,i,o){if(typeof c=="string")return U(c,i);if(ArrayBuffer.isView(c))return L(c);if(c==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c);if(Lt(c,ArrayBuffer)||c&&Lt(c.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Lt(c,SharedArrayBuffer)||c&&Lt(c.buffer,SharedArrayBuffer)))return D(c,i,o);if(typeof c=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const l=c.valueOf&&c.valueOf();if(l!=null&&l!==c)return f.from(l,i,o);const g=T(c);if(g)return g;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof c[Symbol.toPrimitive]=="function")return f.from(c[Symbol.toPrimitive]("string"),i,o);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c)}f.from=function(c,i,o){return y(c,i,o)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function x(c){if(typeof c!="number")throw new TypeError('"size" argument must be of type number');if(c<0)throw new RangeError('The value "'+c+'" is invalid for option "size"')}function M(c,i,o){return x(c),c<=0?h(c):i!==void 0?typeof o=="string"?h(c).fill(i,o):h(c).fill(i):h(c)}f.alloc=function(c,i,o){return M(c,i,o)};function S(c){return x(c),h(c<0?0:H(c)|0)}f.allocUnsafe=function(c){return S(c)},f.allocUnsafeSlow=function(c){return S(c)};function U(c,i){if((typeof i!="string"||i==="")&&(i="utf8"),!f.isEncoding(i))throw new TypeError("Unknown encoding: "+i);const o=N(c,i)|0;let l=h(o);const g=l.write(c,i);return g!==o&&(l=l.slice(0,g)),l}function C(c){const i=c.length<0?0:H(c.length)|0,o=h(i);for(let l=0;l<i;l+=1)o[l]=c[l]&255;return o}function L(c){if(Lt(c,Uint8Array)){const i=new Uint8Array(c);return D(i.buffer,i.byteOffset,i.byteLength)}return C(c)}function D(c,i,o){if(i<0||c.byteLength<i)throw new RangeError('"offset" is outside of buffer bounds');if(c.byteLength<i+(o||0))throw new RangeError('"length" is outside of buffer bounds');let l;return i===void 0&&o===void 0?l=new Uint8Array(c):o===void 0?l=new Uint8Array(c,i):l=new Uint8Array(c,i,o),Object.setPrototypeOf(l,f.prototype),l}function T(c){if(f.isBuffer(c)){const i=H(c.length)|0,o=h(i);return o.length===0||c.copy(o,0,0,i),o}if(c.length!==void 0)return typeof c.length!="number"||vt(c.length)?h(0):C(c);if(c.type==="Buffer"&&Array.isArray(c.data))return C(c.data)}function H(c){if(c>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return c|0}function Q(c){return+c!=c&&(c=0),f.alloc(+c)}f.isBuffer=function(i){return i!=null&&i._isBuffer===!0&&i!==f.prototype},f.compare=function(i,o){if(Lt(i,Uint8Array)&&(i=f.from(i,i.offset,i.byteLength)),Lt(o,Uint8Array)&&(o=f.from(o,o.offset,o.byteLength)),!f.isBuffer(i)||!f.isBuffer(o))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(i===o)return 0;let l=i.length,g=o.length;for(let w=0,b=Math.min(l,g);w<b;++w)if(i[w]!==o[w]){l=i[w],g=o[w];break}return l<g?-1:g<l?1:0},f.isEncoding=function(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(i,o){if(!Array.isArray(i))throw new TypeError('"list" argument must be an Array of Buffers');if(i.length===0)return f.alloc(0);let l;if(o===void 0)for(o=0,l=0;l<i.length;++l)o+=i[l].length;const g=f.allocUnsafe(o);let w=0;for(l=0;l<i.length;++l){let b=i[l];if(Lt(b,Uint8Array))w+b.length>g.length?(f.isBuffer(b)||(b=f.from(b)),b.copy(g,w)):Uint8Array.prototype.set.call(g,b,w);else if(f.isBuffer(b))b.copy(g,w);else throw new TypeError('"list" argument must be an Array of Buffers');w+=b.length}return g};function N(c,i){if(f.isBuffer(c))return c.length;if(ArrayBuffer.isView(c)||Lt(c,ArrayBuffer))return c.byteLength;if(typeof c!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof c);const o=c.length,l=arguments.length>2&&arguments[2]===!0;if(!l&&o===0)return 0;let g=!1;for(;;)switch(i){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":return Et(c).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o*2;case"hex":return o>>>1;case"base64":return St(c).length;default:if(g)return l?-1:Et(c).length;i=(""+i).toLowerCase(),g=!0}}f.byteLength=N;function nt(c,i,o){let l=!1;if((i===void 0||i<0)&&(i=0),i>this.length||((o===void 0||o>this.length)&&(o=this.length),o<=0)||(o>>>=0,i>>>=0,o<=i))return"";for(c||(c="utf8");;)switch(c){case"hex":return k(this,i,o);case"utf8":case"utf-8":return u(this,i,o);case"ascii":return B(this,i,o);case"latin1":case"binary":return v(this,i,o);case"base64":return I(this,i,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,i,o);default:if(l)throw new TypeError("Unknown encoding: "+c);c=(c+"").toLowerCase(),l=!0}}f.prototype._isBuffer=!0;function J(c,i,o){const l=c[i];c[i]=c[o],c[o]=l}f.prototype.swap16=function(){const i=this.length;if(i%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let o=0;o<i;o+=2)J(this,o,o+1);return this},f.prototype.swap32=function(){const i=this.length;if(i%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let o=0;o<i;o+=4)J(this,o,o+3),J(this,o+1,o+2);return this},f.prototype.swap64=function(){const i=this.length;if(i%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let o=0;o<i;o+=8)J(this,o,o+7),J(this,o+1,o+6),J(this,o+2,o+5),J(this,o+3,o+4);return this},f.prototype.toString=function(){const i=this.length;return i===0?"":arguments.length===0?u(this,0,i):nt.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(i){if(!f.isBuffer(i))throw new TypeError("Argument must be a Buffer");return this===i?!0:f.compare(this,i)===0},f.prototype.inspect=function(){let i="";const o=r.INSPECT_MAX_BYTES;return i=this.toString("hex",0,o).replace(/(.{2})/g,"$1 ").trim(),this.length>o&&(i+=" ... "),"<Buffer "+i+">"},n&&(f.prototype[n]=f.prototype.inspect),f.prototype.compare=function(i,o,l,g,w){if(Lt(i,Uint8Array)&&(i=f.from(i,i.offset,i.byteLength)),!f.isBuffer(i))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof i);if(o===void 0&&(o=0),l===void 0&&(l=i?i.length:0),g===void 0&&(g=0),w===void 0&&(w=this.length),o<0||l>i.length||g<0||w>this.length)throw new RangeError("out of range index");if(g>=w&&o>=l)return 0;if(g>=w)return-1;if(o>=l)return 1;if(o>>>=0,l>>>=0,g>>>=0,w>>>=0,this===i)return 0;let b=w-g,K=l-o;const j=Math.min(b,K),G=this.slice(g,w),it=i.slice(o,l);for(let q=0;q<j;++q)if(G[q]!==it[q]){b=G[q],K=it[q];break}return b<K?-1:K<b?1:0};function ut(c,i,o,l,g){if(c.length===0)return-1;if(typeof o=="string"?(l=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),o=+o,vt(o)&&(o=g?0:c.length-1),o<0&&(o=c.length+o),o>=c.length){if(g)return-1;o=c.length-1}else if(o<0)if(g)o=0;else return-1;if(typeof i=="string"&&(i=f.from(i,l)),f.isBuffer(i))return i.length===0?-1:Ut(c,i,o,l,g);if(typeof i=="number")return i=i&255,typeof Uint8Array.prototype.indexOf=="function"?g?Uint8Array.prototype.indexOf.call(c,i,o):Uint8Array.prototype.lastIndexOf.call(c,i,o):Ut(c,[i],o,l,g);throw new TypeError("val must be string, number or Buffer")}function Ut(c,i,o,l,g){let w=1,b=c.length,K=i.length;if(l!==void 0&&(l=String(l).toLowerCase(),l==="ucs2"||l==="ucs-2"||l==="utf16le"||l==="utf-16le")){if(c.length<2||i.length<2)return-1;w=2,b/=2,K/=2,o/=2}function j(it,q){return w===1?it[q]:it.readUInt16BE(q*w)}let G;if(g){let it=-1;for(G=o;G<b;G++)if(j(c,G)===j(i,it===-1?0:G-it)){if(it===-1&&(it=G),G-it+1===K)return it*w}else it!==-1&&(G-=G-it),it=-1}else for(o+K>b&&(o=b-K),G=o;G>=0;G--){let it=!0;for(let q=0;q<K;q++)if(j(c,G+q)!==j(i,q)){it=!1;break}if(it)return G}return-1}f.prototype.includes=function(i,o,l){return this.indexOf(i,o,l)!==-1},f.prototype.indexOf=function(i,o,l){return ut(this,i,o,l,!0)},f.prototype.lastIndexOf=function(i,o,l){return ut(this,i,o,l,!1)};function Kt(c,i,o,l){o=Number(o)||0;const g=c.length-o;l?(l=Number(l),l>g&&(l=g)):l=g;const w=i.length;l>w/2&&(l=w/2);let b;for(b=0;b<l;++b){const K=parseInt(i.substr(b*2,2),16);if(vt(K))return b;c[o+b]=K}return b}function ve(c,i,o,l){return xt(Et(i,c.length-o),c,o,l)}function Ke(c,i,o,l){return xt(Rt(i),c,o,l)}function bt(c,i,o,l){return xt(St(i),c,o,l)}function Ie(c,i,o,l){return xt(Wr(i,c.length-o),c,o,l)}f.prototype.write=function(i,o,l,g){if(o===void 0)g="utf8",l=this.length,o=0;else if(l===void 0&&typeof o=="string")g=o,l=this.length,o=0;else if(isFinite(o))o=o>>>0,isFinite(l)?(l=l>>>0,g===void 0&&(g="utf8")):(g=l,l=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const w=this.length-o;if((l===void 0||l>w)&&(l=w),i.length>0&&(l<0||o<0)||o>this.length)throw new RangeError("Attempt to write outside buffer bounds");g||(g="utf8");let b=!1;for(;;)switch(g){case"hex":return Kt(this,i,o,l);case"utf8":case"utf-8":return ve(this,i,o,l);case"ascii":case"latin1":case"binary":return Ke(this,i,o,l);case"base64":return bt(this,i,o,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ie(this,i,o,l);default:if(b)throw new TypeError("Unknown encoding: "+g);g=(""+g).toLowerCase(),b=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(c,i,o){return i===0&&o===c.length?t.fromByteArray(c):t.fromByteArray(c.slice(i,o))}function u(c,i,o){o=Math.min(c.length,o);const l=[];let g=i;for(;g<o;){const w=c[g];let b=null,K=w>239?4:w>223?3:w>191?2:1;if(g+K<=o){let j,G,it,q;switch(K){case 1:w<128&&(b=w);break;case 2:j=c[g+1],(j&192)===128&&(q=(w&31)<<6|j&63,q>127&&(b=q));break;case 3:j=c[g+1],G=c[g+2],(j&192)===128&&(G&192)===128&&(q=(w&15)<<12|(j&63)<<6|G&63,q>2047&&(q<55296||q>57343)&&(b=q));break;case 4:j=c[g+1],G=c[g+2],it=c[g+3],(j&192)===128&&(G&192)===128&&(it&192)===128&&(q=(w&15)<<18|(j&63)<<12|(G&63)<<6|it&63,q>65535&&q<1114112&&(b=q))}}b===null?(b=65533,K=1):b>65535&&(b-=65536,l.push(b>>>10&1023|55296),b=56320|b&1023),l.push(b),g+=K}return m(l)}const p=4096;function m(c){const i=c.length;if(i<=p)return String.fromCharCode.apply(String,c);let o="",l=0;for(;l<i;)o+=String.fromCharCode.apply(String,c.slice(l,l+=p));return o}function B(c,i,o){let l="";o=Math.min(c.length,o);for(let g=i;g<o;++g)l+=String.fromCharCode(c[g]&127);return l}function v(c,i,o){let l="";o=Math.min(c.length,o);for(let g=i;g<o;++g)l+=String.fromCharCode(c[g]);return l}function k(c,i,o){const l=c.length;(!i||i<0)&&(i=0),(!o||o<0||o>l)&&(o=l);let g="";for(let w=i;w<o;++w)g+=Dt[c[w]];return g}function F(c,i,o){const l=c.slice(i,o);let g="";for(let w=0;w<l.length-1;w+=2)g+=String.fromCharCode(l[w]+l[w+1]*256);return g}f.prototype.slice=function(i,o){const l=this.length;i=~~i,o=o===void 0?l:~~o,i<0?(i+=l,i<0&&(i=0)):i>l&&(i=l),o<0?(o+=l,o<0&&(o=0)):o>l&&(o=l),o<i&&(o=i);const g=this.subarray(i,o);return Object.setPrototypeOf(g,f.prototype),g};function A(c,i,o){if(c%1!==0||c<0)throw new RangeError("offset is not uint");if(c+i>o)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(i,o,l){i=i>>>0,o=o>>>0,l||A(i,o,this.length);let g=this[i],w=1,b=0;for(;++b<o&&(w*=256);)g+=this[i+b]*w;return g},f.prototype.readUintBE=f.prototype.readUIntBE=function(i,o,l){i=i>>>0,o=o>>>0,l||A(i,o,this.length);let g=this[i+--o],w=1;for(;o>0&&(w*=256);)g+=this[i+--o]*w;return g},f.prototype.readUint8=f.prototype.readUInt8=function(i,o){return i=i>>>0,o||A(i,1,this.length),this[i]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(i,o){return i=i>>>0,o||A(i,2,this.length),this[i]|this[i+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(i,o){return i=i>>>0,o||A(i,2,this.length),this[i]<<8|this[i+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(i,o){return i=i>>>0,o||A(i,4,this.length),(this[i]|this[i+1]<<8|this[i+2]<<16)+this[i+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(i,o){return i=i>>>0,o||A(i,4,this.length),this[i]*16777216+(this[i+1]<<16|this[i+2]<<8|this[i+3])},f.prototype.readBigUInt64LE=qt(function(i){i=i>>>0,Se(i,"offset");const o=this[i],l=this[i+7];(o===void 0||l===void 0)&&gt(i,this.length-8);const g=o+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24,w=this[++i]+this[++i]*2**8+this[++i]*2**16+l*2**24;return BigInt(g)+(BigInt(w)<<BigInt(32))}),f.prototype.readBigUInt64BE=qt(function(i){i=i>>>0,Se(i,"offset");const o=this[i],l=this[i+7];(o===void 0||l===void 0)&&gt(i,this.length-8);const g=o*2**24+this[++i]*2**16+this[++i]*2**8+this[++i],w=this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+l;return(BigInt(g)<<BigInt(32))+BigInt(w)}),f.prototype.readIntLE=function(i,o,l){i=i>>>0,o=o>>>0,l||A(i,o,this.length);let g=this[i],w=1,b=0;for(;++b<o&&(w*=256);)g+=this[i+b]*w;return w*=128,g>=w&&(g-=Math.pow(2,8*o)),g},f.prototype.readIntBE=function(i,o,l){i=i>>>0,o=o>>>0,l||A(i,o,this.length);let g=o,w=1,b=this[i+--g];for(;g>0&&(w*=256);)b+=this[i+--g]*w;return w*=128,b>=w&&(b-=Math.pow(2,8*o)),b},f.prototype.readInt8=function(i,o){return i=i>>>0,o||A(i,1,this.length),this[i]&128?(255-this[i]+1)*-1:this[i]},f.prototype.readInt16LE=function(i,o){i=i>>>0,o||A(i,2,this.length);const l=this[i]|this[i+1]<<8;return l&32768?l|4294901760:l},f.prototype.readInt16BE=function(i,o){i=i>>>0,o||A(i,2,this.length);const l=this[i+1]|this[i]<<8;return l&32768?l|4294901760:l},f.prototype.readInt32LE=function(i,o){return i=i>>>0,o||A(i,4,this.length),this[i]|this[i+1]<<8|this[i+2]<<16|this[i+3]<<24},f.prototype.readInt32BE=function(i,o){return i=i>>>0,o||A(i,4,this.length),this[i]<<24|this[i+1]<<16|this[i+2]<<8|this[i+3]},f.prototype.readBigInt64LE=qt(function(i){i=i>>>0,Se(i,"offset");const o=this[i],l=this[i+7];(o===void 0||l===void 0)&&gt(i,this.length-8);const g=this[i+4]+this[i+5]*2**8+this[i+6]*2**16+(l<<24);return(BigInt(g)<<BigInt(32))+BigInt(o+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24)}),f.prototype.readBigInt64BE=qt(function(i){i=i>>>0,Se(i,"offset");const o=this[i],l=this[i+7];(o===void 0||l===void 0)&&gt(i,this.length-8);const g=(o<<24)+this[++i]*2**16+this[++i]*2**8+this[++i];return(BigInt(g)<<BigInt(32))+BigInt(this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+l)}),f.prototype.readFloatLE=function(i,o){return i=i>>>0,o||A(i,4,this.length),e.read(this,i,!0,23,4)},f.prototype.readFloatBE=function(i,o){return i=i>>>0,o||A(i,4,this.length),e.read(this,i,!1,23,4)},f.prototype.readDoubleLE=function(i,o){return i=i>>>0,o||A(i,8,this.length),e.read(this,i,!0,52,8)},f.prototype.readDoubleBE=function(i,o){return i=i>>>0,o||A(i,8,this.length),e.read(this,i,!1,52,8)};function d(c,i,o,l,g,w){if(!f.isBuffer(c))throw new TypeError('"buffer" argument must be a Buffer instance');if(i>g||i<w)throw new RangeError('"value" argument is out of bounds');if(o+l>c.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(i,o,l,g){if(i=+i,o=o>>>0,l=l>>>0,!g){const K=Math.pow(2,8*l)-1;d(this,i,o,l,K,0)}let w=1,b=0;for(this[o]=i&255;++b<l&&(w*=256);)this[o+b]=i/w&255;return o+l},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(i,o,l,g){if(i=+i,o=o>>>0,l=l>>>0,!g){const K=Math.pow(2,8*l)-1;d(this,i,o,l,K,0)}let w=l-1,b=1;for(this[o+w]=i&255;--w>=0&&(b*=256);)this[o+w]=i/b&255;return o+l},f.prototype.writeUint8=f.prototype.writeUInt8=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,1,255,0),this[o]=i&255,o+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,2,65535,0),this[o]=i&255,this[o+1]=i>>>8,o+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,2,65535,0),this[o]=i>>>8,this[o+1]=i&255,o+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,4,4294967295,0),this[o+3]=i>>>24,this[o+2]=i>>>16,this[o+1]=i>>>8,this[o]=i&255,o+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,4,4294967295,0),this[o]=i>>>24,this[o+1]=i>>>16,this[o+2]=i>>>8,this[o+3]=i&255,o+4};function E(c,i,o,l,g){It(i,l,g,c,o,7);let w=Number(i&BigInt(4294967295));c[o++]=w,w=w>>8,c[o++]=w,w=w>>8,c[o++]=w,w=w>>8,c[o++]=w;let b=Number(i>>BigInt(32)&BigInt(4294967295));return c[o++]=b,b=b>>8,c[o++]=b,b=b>>8,c[o++]=b,b=b>>8,c[o++]=b,o}function et(c,i,o,l,g){It(i,l,g,c,o,7);let w=Number(i&BigInt(4294967295));c[o+7]=w,w=w>>8,c[o+6]=w,w=w>>8,c[o+5]=w,w=w>>8,c[o+4]=w;let b=Number(i>>BigInt(32)&BigInt(4294967295));return c[o+3]=b,b=b>>8,c[o+2]=b,b=b>>8,c[o+1]=b,b=b>>8,c[o]=b,o+8}f.prototype.writeBigUInt64LE=qt(function(i,o=0){return E(this,i,o,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=qt(function(i,o=0){return et(this,i,o,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(i,o,l,g){if(i=+i,o=o>>>0,!g){const j=Math.pow(2,8*l-1);d(this,i,o,l,j-1,-j)}let w=0,b=1,K=0;for(this[o]=i&255;++w<l&&(b*=256);)i<0&&K===0&&this[o+w-1]!==0&&(K=1),this[o+w]=(i/b>>0)-K&255;return o+l},f.prototype.writeIntBE=function(i,o,l,g){if(i=+i,o=o>>>0,!g){const j=Math.pow(2,8*l-1);d(this,i,o,l,j-1,-j)}let w=l-1,b=1,K=0;for(this[o+w]=i&255;--w>=0&&(b*=256);)i<0&&K===0&&this[o+w+1]!==0&&(K=1),this[o+w]=(i/b>>0)-K&255;return o+l},f.prototype.writeInt8=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,1,127,-128),i<0&&(i=255+i+1),this[o]=i&255,o+1},f.prototype.writeInt16LE=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,2,32767,-32768),this[o]=i&255,this[o+1]=i>>>8,o+2},f.prototype.writeInt16BE=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,2,32767,-32768),this[o]=i>>>8,this[o+1]=i&255,o+2},f.prototype.writeInt32LE=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,4,2147483647,-2147483648),this[o]=i&255,this[o+1]=i>>>8,this[o+2]=i>>>16,this[o+3]=i>>>24,o+4},f.prototype.writeInt32BE=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,4,2147483647,-2147483648),i<0&&(i=4294967295+i+1),this[o]=i>>>24,this[o+1]=i>>>16,this[o+2]=i>>>8,this[o+3]=i&255,o+4},f.prototype.writeBigInt64LE=qt(function(i,o=0){return E(this,i,o,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=qt(function(i,o=0){return et(this,i,o,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function $(c,i,o,l,g,w){if(o+l>c.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("Index out of range")}function rt(c,i,o,l,g){return i=+i,o=o>>>0,g||$(c,i,o,4),e.write(c,i,o,l,23,4),o+4}f.prototype.writeFloatLE=function(i,o,l){return rt(this,i,o,!0,l)},f.prototype.writeFloatBE=function(i,o,l){return rt(this,i,o,!1,l)};function Ht(c,i,o,l,g){return i=+i,o=o>>>0,g||$(c,i,o,8),e.write(c,i,o,l,52,8),o+8}f.prototype.writeDoubleLE=function(i,o,l){return Ht(this,i,o,!0,l)},f.prototype.writeDoubleBE=function(i,o,l){return Ht(this,i,o,!1,l)},f.prototype.copy=function(i,o,l,g){if(!f.isBuffer(i))throw new TypeError("argument should be a Buffer");if(l||(l=0),!g&&g!==0&&(g=this.length),o>=i.length&&(o=i.length),o||(o=0),g>0&&g<l&&(g=l),g===l||i.length===0||this.length===0)return 0;if(o<0)throw new RangeError("targetStart out of bounds");if(l<0||l>=this.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("sourceEnd out of bounds");g>this.length&&(g=this.length),i.length-o<g-l&&(g=i.length-o+l);const w=g-l;return this===i&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(o,l,g):Uint8Array.prototype.set.call(i,this.subarray(l,g),o),w},f.prototype.fill=function(i,o,l,g){if(typeof i=="string"){if(typeof o=="string"?(g=o,o=0,l=this.length):typeof l=="string"&&(g=l,l=this.length),g!==void 0&&typeof g!="string")throw new TypeError("encoding must be a string");if(typeof g=="string"&&!f.isEncoding(g))throw new TypeError("Unknown encoding: "+g);if(i.length===1){const b=i.charCodeAt(0);(g==="utf8"&&b<128||g==="latin1")&&(i=b)}}else typeof i=="number"?i=i&255:typeof i=="boolean"&&(i=Number(i));if(o<0||this.length<o||this.length<l)throw new RangeError("Out of range index");if(l<=o)return this;o=o>>>0,l=l===void 0?this.length:l>>>0,i||(i=0);let w;if(typeof i=="number")for(w=o;w<l;++w)this[w]=i;else{const b=f.isBuffer(i)?i:f.from(i,g),K=b.length;if(K===0)throw new TypeError('The value "'+i+'" is invalid for argument "value"');for(w=0;w<l-o;++w)this[w+o]=b[w%K]}return this};const ct={};function mt(c,i,o){ct[c]=class extends o{constructor(){super(),Object.defineProperty(this,"message",{value:i.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${c}]`,this.stack,delete this.name}get code(){return c}set code(g){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:g,writable:!0})}toString(){return`${this.name} [${c}]: ${this.message}`}}}mt("ERR_BUFFER_OUT_OF_BOUNDS",function(c){return c?`${c} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),mt("ERR_INVALID_ARG_TYPE",function(c,i){return`The "${c}" argument must be of type number. Received type ${typeof i}`},TypeError),mt("ERR_OUT_OF_RANGE",function(c,i,o){let l=`The value of "${c}" is out of range.`,g=o;return Number.isInteger(o)&&Math.abs(o)>2**32?g=dr(String(o)):typeof o=="bigint"&&(g=String(o),(o>BigInt(2)**BigInt(32)||o<-(BigInt(2)**BigInt(32)))&&(g=dr(g)),g+="n"),l+=` It must be ${i}. Received ${g}`,l},RangeError);function dr(c){let i="",o=c.length;const l=c[0]==="-"?1:0;for(;o>=l+4;o-=3)i=`_${c.slice(o-3,o)}${i}`;return`${c.slice(0,o)}${i}`}function Ft(c,i,o){Se(i,"offset"),(c[i]===void 0||c[i+o]===void 0)&&gt(i,c.length-(o+1))}function It(c,i,o,l,g,w){if(c>o||c<i){const b=typeof i=="bigint"?"n":"";let K;throw i===0||i===BigInt(0)?K=`>= 0${b} and < 2${b} ** ${(w+1)*8}${b}`:K=`>= -(2${b} ** ${(w+1)*8-1}${b}) and < 2 ** ${(w+1)*8-1}${b}`,new ct.ERR_OUT_OF_RANGE("value",K,c)}Ft(l,g,w)}function Se(c,i){if(typeof c!="number")throw new ct.ERR_INVALID_ARG_TYPE(i,"number",c)}function gt(c,i,o){throw Math.floor(c)!==c?(Se(c,o),new ct.ERR_OUT_OF_RANGE("offset","an integer",c)):i<0?new ct.ERR_BUFFER_OUT_OF_BOUNDS:new ct.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${i}`,c)}const _t=/[^+/0-9A-Za-z-_]/g;function jr(c){if(c=c.split("=")[0],c=c.trim().replace(_t,""),c.length<2)return"";for(;c.length%4!==0;)c=c+"=";return c}function Et(c,i){i=i||1/0;let o;const l=c.length;let g=null;const w=[];for(let b=0;b<l;++b){if(o=c.charCodeAt(b),o>55295&&o<57344){if(!g){if(o>56319){(i-=3)>-1&&w.push(239,191,189);continue}else if(b+1===l){(i-=3)>-1&&w.push(239,191,189);continue}g=o;continue}if(o<56320){(i-=3)>-1&&w.push(239,191,189),g=o;continue}o=(g-55296<<10|o-56320)+65536}else g&&(i-=3)>-1&&w.push(239,191,189);if(g=null,o<128){if((i-=1)<0)break;w.push(o)}else if(o<2048){if((i-=2)<0)break;w.push(o>>6|192,o&63|128)}else if(o<65536){if((i-=3)<0)break;w.push(o>>12|224,o>>6&63|128,o&63|128)}else if(o<1114112){if((i-=4)<0)break;w.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else throw new Error("Invalid code point")}return w}function Rt(c){const i=[];for(let o=0;o<c.length;++o)i.push(c.charCodeAt(o)&255);return i}function Wr(c,i){let o,l,g;const w=[];for(let b=0;b<c.length&&!((i-=2)<0);++b)o=c.charCodeAt(b),l=o>>8,g=o%256,w.push(g),w.push(l);return w}function St(c){return t.toByteArray(jr(c))}function xt(c,i,o,l){let g;for(g=0;g<l&&!(g+o>=i.length||g>=c.length);++g)i[g+o]=c[g];return g}function Lt(c,i){return c instanceof i||c!=null&&c.constructor!=null&&c.constructor.name!=null&&c.constructor.name===i.name}function vt(c){return c!==c}const Dt=function(){const c="0123456789abcdef",i=new Array(256);for(let o=0;o<16;++o){const l=o*16;for(let g=0;g<16;++g)i[l+g]=c[o]+c[g]}return i}();function qt(c){return typeof BigInt>"u"?Tt:c}function Tt(){throw new Error("BigInt not supported")}})(pe);var X={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const t=Yr,e=mn,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=f,r.SlowBuffer=Q,r.INSPECT_MAX_BYTES=50;const a=2147483647;r.kMaxLength=a,f.TYPED_ARRAY_SUPPORT=s(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const c=new Uint8Array(1),i={foo:function(){return 42}};return Object.setPrototypeOf(i,Uint8Array.prototype),Object.setPrototypeOf(c,i),c.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function h(c){if(c>a)throw new RangeError('The value "'+c+'" is invalid for option "size"');const i=new Uint8Array(c);return Object.setPrototypeOf(i,f.prototype),i}function f(c,i,o){if(typeof c=="number"){if(typeof i=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return S(c)}return y(c,i,o)}f.poolSize=8192;function y(c,i,o){if(typeof c=="string")return U(c,i);if(ArrayBuffer.isView(c))return L(c);if(c==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c);if(Lt(c,ArrayBuffer)||c&&Lt(c.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Lt(c,SharedArrayBuffer)||c&&Lt(c.buffer,SharedArrayBuffer)))return D(c,i,o);if(typeof c=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const l=c.valueOf&&c.valueOf();if(l!=null&&l!==c)return f.from(l,i,o);const g=T(c);if(g)return g;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof c[Symbol.toPrimitive]=="function")return f.from(c[Symbol.toPrimitive]("string"),i,o);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c)}f.from=function(c,i,o){return y(c,i,o)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function x(c){if(typeof c!="number")throw new TypeError('"size" argument must be of type number');if(c<0)throw new RangeError('The value "'+c+'" is invalid for option "size"')}function M(c,i,o){return x(c),c<=0?h(c):i!==void 0?typeof o=="string"?h(c).fill(i,o):h(c).fill(i):h(c)}f.alloc=function(c,i,o){return M(c,i,o)};function S(c){return x(c),h(c<0?0:H(c)|0)}f.allocUnsafe=function(c){return S(c)},f.allocUnsafeSlow=function(c){return S(c)};function U(c,i){if((typeof i!="string"||i==="")&&(i="utf8"),!f.isEncoding(i))throw new TypeError("Unknown encoding: "+i);const o=N(c,i)|0;let l=h(o);const g=l.write(c,i);return g!==o&&(l=l.slice(0,g)),l}function C(c){const i=c.length<0?0:H(c.length)|0,o=h(i);for(let l=0;l<i;l+=1)o[l]=c[l]&255;return o}function L(c){if(Lt(c,Uint8Array)){const i=new Uint8Array(c);return D(i.buffer,i.byteOffset,i.byteLength)}return C(c)}function D(c,i,o){if(i<0||c.byteLength<i)throw new RangeError('"offset" is outside of buffer bounds');if(c.byteLength<i+(o||0))throw new RangeError('"length" is outside of buffer bounds');let l;return i===void 0&&o===void 0?l=new Uint8Array(c):o===void 0?l=new Uint8Array(c,i):l=new Uint8Array(c,i,o),Object.setPrototypeOf(l,f.prototype),l}function T(c){if(f.isBuffer(c)){const i=H(c.length)|0,o=h(i);return o.length===0||c.copy(o,0,0,i),o}if(c.length!==void 0)return typeof c.length!="number"||vt(c.length)?h(0):C(c);if(c.type==="Buffer"&&Array.isArray(c.data))return C(c.data)}function H(c){if(c>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return c|0}function Q(c){return+c!=c&&(c=0),f.alloc(+c)}f.isBuffer=function(i){return i!=null&&i._isBuffer===!0&&i!==f.prototype},f.compare=function(i,o){if(Lt(i,Uint8Array)&&(i=f.from(i,i.offset,i.byteLength)),Lt(o,Uint8Array)&&(o=f.from(o,o.offset,o.byteLength)),!f.isBuffer(i)||!f.isBuffer(o))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(i===o)return 0;let l=i.length,g=o.length;for(let w=0,b=Math.min(l,g);w<b;++w)if(i[w]!==o[w]){l=i[w],g=o[w];break}return l<g?-1:g<l?1:0},f.isEncoding=function(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(i,o){if(!Array.isArray(i))throw new TypeError('"list" argument must be an Array of Buffers');if(i.length===0)return f.alloc(0);let l;if(o===void 0)for(o=0,l=0;l<i.length;++l)o+=i[l].length;const g=f.allocUnsafe(o);let w=0;for(l=0;l<i.length;++l){let b=i[l];if(Lt(b,Uint8Array))w+b.length>g.length?(f.isBuffer(b)||(b=f.from(b)),b.copy(g,w)):Uint8Array.prototype.set.call(g,b,w);else if(f.isBuffer(b))b.copy(g,w);else throw new TypeError('"list" argument must be an Array of Buffers');w+=b.length}return g};function N(c,i){if(f.isBuffer(c))return c.length;if(ArrayBuffer.isView(c)||Lt(c,ArrayBuffer))return c.byteLength;if(typeof c!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof c);const o=c.length,l=arguments.length>2&&arguments[2]===!0;if(!l&&o===0)return 0;let g=!1;for(;;)switch(i){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":return Et(c).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o*2;case"hex":return o>>>1;case"base64":return St(c).length;default:if(g)return l?-1:Et(c).length;i=(""+i).toLowerCase(),g=!0}}f.byteLength=N;function nt(c,i,o){let l=!1;if((i===void 0||i<0)&&(i=0),i>this.length||((o===void 0||o>this.length)&&(o=this.length),o<=0)||(o>>>=0,i>>>=0,o<=i))return"";for(c||(c="utf8");;)switch(c){case"hex":return k(this,i,o);case"utf8":case"utf-8":return u(this,i,o);case"ascii":return B(this,i,o);case"latin1":case"binary":return v(this,i,o);case"base64":return I(this,i,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,i,o);default:if(l)throw new TypeError("Unknown encoding: "+c);c=(c+"").toLowerCase(),l=!0}}f.prototype._isBuffer=!0;function J(c,i,o){const l=c[i];c[i]=c[o],c[o]=l}f.prototype.swap16=function(){const i=this.length;if(i%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let o=0;o<i;o+=2)J(this,o,o+1);return this},f.prototype.swap32=function(){const i=this.length;if(i%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let o=0;o<i;o+=4)J(this,o,o+3),J(this,o+1,o+2);return this},f.prototype.swap64=function(){const i=this.length;if(i%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let o=0;o<i;o+=8)J(this,o,o+7),J(this,o+1,o+6),J(this,o+2,o+5),J(this,o+3,o+4);return this},f.prototype.toString=function(){const i=this.length;return i===0?"":arguments.length===0?u(this,0,i):nt.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(i){if(!f.isBuffer(i))throw new TypeError("Argument must be a Buffer");return this===i?!0:f.compare(this,i)===0},f.prototype.inspect=function(){let i="";const o=r.INSPECT_MAX_BYTES;return i=this.toString("hex",0,o).replace(/(.{2})/g,"$1 ").trim(),this.length>o&&(i+=" ... "),"<Buffer "+i+">"},n&&(f.prototype[n]=f.prototype.inspect),f.prototype.compare=function(i,o,l,g,w){if(Lt(i,Uint8Array)&&(i=f.from(i,i.offset,i.byteLength)),!f.isBuffer(i))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof i);if(o===void 0&&(o=0),l===void 0&&(l=i?i.length:0),g===void 0&&(g=0),w===void 0&&(w=this.length),o<0||l>i.length||g<0||w>this.length)throw new RangeError("out of range index");if(g>=w&&o>=l)return 0;if(g>=w)return-1;if(o>=l)return 1;if(o>>>=0,l>>>=0,g>>>=0,w>>>=0,this===i)return 0;let b=w-g,K=l-o;const j=Math.min(b,K),G=this.slice(g,w),it=i.slice(o,l);for(let q=0;q<j;++q)if(G[q]!==it[q]){b=G[q],K=it[q];break}return b<K?-1:K<b?1:0};function ut(c,i,o,l,g){if(c.length===0)return-1;if(typeof o=="string"?(l=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),o=+o,vt(o)&&(o=g?0:c.length-1),o<0&&(o=c.length+o),o>=c.length){if(g)return-1;o=c.length-1}else if(o<0)if(g)o=0;else return-1;if(typeof i=="string"&&(i=f.from(i,l)),f.isBuffer(i))return i.length===0?-1:Ut(c,i,o,l,g);if(typeof i=="number")return i=i&255,typeof Uint8Array.prototype.indexOf=="function"?g?Uint8Array.prototype.indexOf.call(c,i,o):Uint8Array.prototype.lastIndexOf.call(c,i,o):Ut(c,[i],o,l,g);throw new TypeError("val must be string, number or Buffer")}function Ut(c,i,o,l,g){let w=1,b=c.length,K=i.length;if(l!==void 0&&(l=String(l).toLowerCase(),l==="ucs2"||l==="ucs-2"||l==="utf16le"||l==="utf-16le")){if(c.length<2||i.length<2)return-1;w=2,b/=2,K/=2,o/=2}function j(it,q){return w===1?it[q]:it.readUInt16BE(q*w)}let G;if(g){let it=-1;for(G=o;G<b;G++)if(j(c,G)===j(i,it===-1?0:G-it)){if(it===-1&&(it=G),G-it+1===K)return it*w}else it!==-1&&(G-=G-it),it=-1}else for(o+K>b&&(o=b-K),G=o;G>=0;G--){let it=!0;for(let q=0;q<K;q++)if(j(c,G+q)!==j(i,q)){it=!1;break}if(it)return G}return-1}f.prototype.includes=function(i,o,l){return this.indexOf(i,o,l)!==-1},f.prototype.indexOf=function(i,o,l){return ut(this,i,o,l,!0)},f.prototype.lastIndexOf=function(i,o,l){return ut(this,i,o,l,!1)};function Kt(c,i,o,l){o=Number(o)||0;const g=c.length-o;l?(l=Number(l),l>g&&(l=g)):l=g;const w=i.length;l>w/2&&(l=w/2);let b;for(b=0;b<l;++b){const K=parseInt(i.substr(b*2,2),16);if(vt(K))return b;c[o+b]=K}return b}function ve(c,i,o,l){return xt(Et(i,c.length-o),c,o,l)}function Ke(c,i,o,l){return xt(Rt(i),c,o,l)}function bt(c,i,o,l){return xt(St(i),c,o,l)}function Ie(c,i,o,l){return xt(Wr(i,c.length-o),c,o,l)}f.prototype.write=function(i,o,l,g){if(o===void 0)g="utf8",l=this.length,o=0;else if(l===void 0&&typeof o=="string")g=o,l=this.length,o=0;else if(isFinite(o))o=o>>>0,isFinite(l)?(l=l>>>0,g===void 0&&(g="utf8")):(g=l,l=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const w=this.length-o;if((l===void 0||l>w)&&(l=w),i.length>0&&(l<0||o<0)||o>this.length)throw new RangeError("Attempt to write outside buffer bounds");g||(g="utf8");let b=!1;for(;;)switch(g){case"hex":return Kt(this,i,o,l);case"utf8":case"utf-8":return ve(this,i,o,l);case"ascii":case"latin1":case"binary":return Ke(this,i,o,l);case"base64":return bt(this,i,o,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ie(this,i,o,l);default:if(b)throw new TypeError("Unknown encoding: "+g);g=(""+g).toLowerCase(),b=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(c,i,o){return i===0&&o===c.length?t.fromByteArray(c):t.fromByteArray(c.slice(i,o))}function u(c,i,o){o=Math.min(c.length,o);const l=[];let g=i;for(;g<o;){const w=c[g];let b=null,K=w>239?4:w>223?3:w>191?2:1;if(g+K<=o){let j,G,it,q;switch(K){case 1:w<128&&(b=w);break;case 2:j=c[g+1],(j&192)===128&&(q=(w&31)<<6|j&63,q>127&&(b=q));break;case 3:j=c[g+1],G=c[g+2],(j&192)===128&&(G&192)===128&&(q=(w&15)<<12|(j&63)<<6|G&63,q>2047&&(q<55296||q>57343)&&(b=q));break;case 4:j=c[g+1],G=c[g+2],it=c[g+3],(j&192)===128&&(G&192)===128&&(it&192)===128&&(q=(w&15)<<18|(j&63)<<12|(G&63)<<6|it&63,q>65535&&q<1114112&&(b=q))}}b===null?(b=65533,K=1):b>65535&&(b-=65536,l.push(b>>>10&1023|55296),b=56320|b&1023),l.push(b),g+=K}return m(l)}const p=4096;function m(c){const i=c.length;if(i<=p)return String.fromCharCode.apply(String,c);let o="",l=0;for(;l<i;)o+=String.fromCharCode.apply(String,c.slice(l,l+=p));return o}function B(c,i,o){let l="";o=Math.min(c.length,o);for(let g=i;g<o;++g)l+=String.fromCharCode(c[g]&127);return l}function v(c,i,o){let l="";o=Math.min(c.length,o);for(let g=i;g<o;++g)l+=String.fromCharCode(c[g]);return l}function k(c,i,o){const l=c.length;(!i||i<0)&&(i=0),(!o||o<0||o>l)&&(o=l);let g="";for(let w=i;w<o;++w)g+=Dt[c[w]];return g}function F(c,i,o){const l=c.slice(i,o);let g="";for(let w=0;w<l.length-1;w+=2)g+=String.fromCharCode(l[w]+l[w+1]*256);return g}f.prototype.slice=function(i,o){const l=this.length;i=~~i,o=o===void 0?l:~~o,i<0?(i+=l,i<0&&(i=0)):i>l&&(i=l),o<0?(o+=l,o<0&&(o=0)):o>l&&(o=l),o<i&&(o=i);const g=this.subarray(i,o);return Object.setPrototypeOf(g,f.prototype),g};function A(c,i,o){if(c%1!==0||c<0)throw new RangeError("offset is not uint");if(c+i>o)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(i,o,l){i=i>>>0,o=o>>>0,l||A(i,o,this.length);let g=this[i],w=1,b=0;for(;++b<o&&(w*=256);)g+=this[i+b]*w;return g},f.prototype.readUintBE=f.prototype.readUIntBE=function(i,o,l){i=i>>>0,o=o>>>0,l||A(i,o,this.length);let g=this[i+--o],w=1;for(;o>0&&(w*=256);)g+=this[i+--o]*w;return g},f.prototype.readUint8=f.prototype.readUInt8=function(i,o){return i=i>>>0,o||A(i,1,this.length),this[i]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(i,o){return i=i>>>0,o||A(i,2,this.length),this[i]|this[i+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(i,o){return i=i>>>0,o||A(i,2,this.length),this[i]<<8|this[i+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(i,o){return i=i>>>0,o||A(i,4,this.length),(this[i]|this[i+1]<<8|this[i+2]<<16)+this[i+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(i,o){return i=i>>>0,o||A(i,4,this.length),this[i]*16777216+(this[i+1]<<16|this[i+2]<<8|this[i+3])},f.prototype.readBigUInt64LE=qt(function(i){i=i>>>0,Se(i,"offset");const o=this[i],l=this[i+7];(o===void 0||l===void 0)&&gt(i,this.length-8);const g=o+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24,w=this[++i]+this[++i]*2**8+this[++i]*2**16+l*2**24;return BigInt(g)+(BigInt(w)<<BigInt(32))}),f.prototype.readBigUInt64BE=qt(function(i){i=i>>>0,Se(i,"offset");const o=this[i],l=this[i+7];(o===void 0||l===void 0)&&gt(i,this.length-8);const g=o*2**24+this[++i]*2**16+this[++i]*2**8+this[++i],w=this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+l;return(BigInt(g)<<BigInt(32))+BigInt(w)}),f.prototype.readIntLE=function(i,o,l){i=i>>>0,o=o>>>0,l||A(i,o,this.length);let g=this[i],w=1,b=0;for(;++b<o&&(w*=256);)g+=this[i+b]*w;return w*=128,g>=w&&(g-=Math.pow(2,8*o)),g},f.prototype.readIntBE=function(i,o,l){i=i>>>0,o=o>>>0,l||A(i,o,this.length);let g=o,w=1,b=this[i+--g];for(;g>0&&(w*=256);)b+=this[i+--g]*w;return w*=128,b>=w&&(b-=Math.pow(2,8*o)),b},f.prototype.readInt8=function(i,o){return i=i>>>0,o||A(i,1,this.length),this[i]&128?(255-this[i]+1)*-1:this[i]},f.prototype.readInt16LE=function(i,o){i=i>>>0,o||A(i,2,this.length);const l=this[i]|this[i+1]<<8;return l&32768?l|4294901760:l},f.prototype.readInt16BE=function(i,o){i=i>>>0,o||A(i,2,this.length);const l=this[i+1]|this[i]<<8;return l&32768?l|4294901760:l},f.prototype.readInt32LE=function(i,o){return i=i>>>0,o||A(i,4,this.length),this[i]|this[i+1]<<8|this[i+2]<<16|this[i+3]<<24},f.prototype.readInt32BE=function(i,o){return i=i>>>0,o||A(i,4,this.length),this[i]<<24|this[i+1]<<16|this[i+2]<<8|this[i+3]},f.prototype.readBigInt64LE=qt(function(i){i=i>>>0,Se(i,"offset");const o=this[i],l=this[i+7];(o===void 0||l===void 0)&&gt(i,this.length-8);const g=this[i+4]+this[i+5]*2**8+this[i+6]*2**16+(l<<24);return(BigInt(g)<<BigInt(32))+BigInt(o+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24)}),f.prototype.readBigInt64BE=qt(function(i){i=i>>>0,Se(i,"offset");const o=this[i],l=this[i+7];(o===void 0||l===void 0)&&gt(i,this.length-8);const g=(o<<24)+this[++i]*2**16+this[++i]*2**8+this[++i];return(BigInt(g)<<BigInt(32))+BigInt(this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+l)}),f.prototype.readFloatLE=function(i,o){return i=i>>>0,o||A(i,4,this.length),e.read(this,i,!0,23,4)},f.prototype.readFloatBE=function(i,o){return i=i>>>0,o||A(i,4,this.length),e.read(this,i,!1,23,4)},f.prototype.readDoubleLE=function(i,o){return i=i>>>0,o||A(i,8,this.length),e.read(this,i,!0,52,8)},f.prototype.readDoubleBE=function(i,o){return i=i>>>0,o||A(i,8,this.length),e.read(this,i,!1,52,8)};function d(c,i,o,l,g,w){if(!f.isBuffer(c))throw new TypeError('"buffer" argument must be a Buffer instance');if(i>g||i<w)throw new RangeError('"value" argument is out of bounds');if(o+l>c.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(i,o,l,g){if(i=+i,o=o>>>0,l=l>>>0,!g){const K=Math.pow(2,8*l)-1;d(this,i,o,l,K,0)}let w=1,b=0;for(this[o]=i&255;++b<l&&(w*=256);)this[o+b]=i/w&255;return o+l},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(i,o,l,g){if(i=+i,o=o>>>0,l=l>>>0,!g){const K=Math.pow(2,8*l)-1;d(this,i,o,l,K,0)}let w=l-1,b=1;for(this[o+w]=i&255;--w>=0&&(b*=256);)this[o+w]=i/b&255;return o+l},f.prototype.writeUint8=f.prototype.writeUInt8=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,1,255,0),this[o]=i&255,o+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,2,65535,0),this[o]=i&255,this[o+1]=i>>>8,o+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,2,65535,0),this[o]=i>>>8,this[o+1]=i&255,o+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,4,4294967295,0),this[o+3]=i>>>24,this[o+2]=i>>>16,this[o+1]=i>>>8,this[o]=i&255,o+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,4,4294967295,0),this[o]=i>>>24,this[o+1]=i>>>16,this[o+2]=i>>>8,this[o+3]=i&255,o+4};function E(c,i,o,l,g){It(i,l,g,c,o,7);let w=Number(i&BigInt(4294967295));c[o++]=w,w=w>>8,c[o++]=w,w=w>>8,c[o++]=w,w=w>>8,c[o++]=w;let b=Number(i>>BigInt(32)&BigInt(4294967295));return c[o++]=b,b=b>>8,c[o++]=b,b=b>>8,c[o++]=b,b=b>>8,c[o++]=b,o}function et(c,i,o,l,g){It(i,l,g,c,o,7);let w=Number(i&BigInt(4294967295));c[o+7]=w,w=w>>8,c[o+6]=w,w=w>>8,c[o+5]=w,w=w>>8,c[o+4]=w;let b=Number(i>>BigInt(32)&BigInt(4294967295));return c[o+3]=b,b=b>>8,c[o+2]=b,b=b>>8,c[o+1]=b,b=b>>8,c[o]=b,o+8}f.prototype.writeBigUInt64LE=qt(function(i,o=0){return E(this,i,o,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=qt(function(i,o=0){return et(this,i,o,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(i,o,l,g){if(i=+i,o=o>>>0,!g){const j=Math.pow(2,8*l-1);d(this,i,o,l,j-1,-j)}let w=0,b=1,K=0;for(this[o]=i&255;++w<l&&(b*=256);)i<0&&K===0&&this[o+w-1]!==0&&(K=1),this[o+w]=(i/b>>0)-K&255;return o+l},f.prototype.writeIntBE=function(i,o,l,g){if(i=+i,o=o>>>0,!g){const j=Math.pow(2,8*l-1);d(this,i,o,l,j-1,-j)}let w=l-1,b=1,K=0;for(this[o+w]=i&255;--w>=0&&(b*=256);)i<0&&K===0&&this[o+w+1]!==0&&(K=1),this[o+w]=(i/b>>0)-K&255;return o+l},f.prototype.writeInt8=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,1,127,-128),i<0&&(i=255+i+1),this[o]=i&255,o+1},f.prototype.writeInt16LE=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,2,32767,-32768),this[o]=i&255,this[o+1]=i>>>8,o+2},f.prototype.writeInt16BE=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,2,32767,-32768),this[o]=i>>>8,this[o+1]=i&255,o+2},f.prototype.writeInt32LE=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,4,2147483647,-2147483648),this[o]=i&255,this[o+1]=i>>>8,this[o+2]=i>>>16,this[o+3]=i>>>24,o+4},f.prototype.writeInt32BE=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,4,2147483647,-2147483648),i<0&&(i=4294967295+i+1),this[o]=i>>>24,this[o+1]=i>>>16,this[o+2]=i>>>8,this[o+3]=i&255,o+4},f.prototype.writeBigInt64LE=qt(function(i,o=0){return E(this,i,o,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=qt(function(i,o=0){return et(this,i,o,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function $(c,i,o,l,g,w){if(o+l>c.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("Index out of range")}function rt(c,i,o,l,g){return i=+i,o=o>>>0,g||$(c,i,o,4),e.write(c,i,o,l,23,4),o+4}f.prototype.writeFloatLE=function(i,o,l){return rt(this,i,o,!0,l)},f.prototype.writeFloatBE=function(i,o,l){return rt(this,i,o,!1,l)};function Ht(c,i,o,l,g){return i=+i,o=o>>>0,g||$(c,i,o,8),e.write(c,i,o,l,52,8),o+8}f.prototype.writeDoubleLE=function(i,o,l){return Ht(this,i,o,!0,l)},f.prototype.writeDoubleBE=function(i,o,l){return Ht(this,i,o,!1,l)},f.prototype.copy=function(i,o,l,g){if(!f.isBuffer(i))throw new TypeError("argument should be a Buffer");if(l||(l=0),!g&&g!==0&&(g=this.length),o>=i.length&&(o=i.length),o||(o=0),g>0&&g<l&&(g=l),g===l||i.length===0||this.length===0)return 0;if(o<0)throw new RangeError("targetStart out of bounds");if(l<0||l>=this.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("sourceEnd out of bounds");g>this.length&&(g=this.length),i.length-o<g-l&&(g=i.length-o+l);const w=g-l;return this===i&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(o,l,g):Uint8Array.prototype.set.call(i,this.subarray(l,g),o),w},f.prototype.fill=function(i,o,l,g){if(typeof i=="string"){if(typeof o=="string"?(g=o,o=0,l=this.length):typeof l=="string"&&(g=l,l=this.length),g!==void 0&&typeof g!="string")throw new TypeError("encoding must be a string");if(typeof g=="string"&&!f.isEncoding(g))throw new TypeError("Unknown encoding: "+g);if(i.length===1){const b=i.charCodeAt(0);(g==="utf8"&&b<128||g==="latin1")&&(i=b)}}else typeof i=="number"?i=i&255:typeof i=="boolean"&&(i=Number(i));if(o<0||this.length<o||this.length<l)throw new RangeError("Out of range index");if(l<=o)return this;o=o>>>0,l=l===void 0?this.length:l>>>0,i||(i=0);let w;if(typeof i=="number")for(w=o;w<l;++w)this[w]=i;else{const b=f.isBuffer(i)?i:f.from(i,g),K=b.length;if(K===0)throw new TypeError('The value "'+i+'" is invalid for argument "value"');for(w=0;w<l-o;++w)this[w+o]=b[w%K]}return this};const ct={};function mt(c,i,o){ct[c]=class extends o{constructor(){super(),Object.defineProperty(this,"message",{value:i.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${c}]`,this.stack,delete this.name}get code(){return c}set code(g){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:g,writable:!0})}toString(){return`${this.name} [${c}]: ${this.message}`}}}mt("ERR_BUFFER_OUT_OF_BOUNDS",function(c){return c?`${c} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),mt("ERR_INVALID_ARG_TYPE",function(c,i){return`The "${c}" argument must be of type number. Received type ${typeof i}`},TypeError),mt("ERR_OUT_OF_RANGE",function(c,i,o){let l=`The value of "${c}" is out of range.`,g=o;return Number.isInteger(o)&&Math.abs(o)>2**32?g=dr(String(o)):typeof o=="bigint"&&(g=String(o),(o>BigInt(2)**BigInt(32)||o<-(BigInt(2)**BigInt(32)))&&(g=dr(g)),g+="n"),l+=` It must be ${i}. Received ${g}`,l},RangeError);function dr(c){let i="",o=c.length;const l=c[0]==="-"?1:0;for(;o>=l+4;o-=3)i=`_${c.slice(o-3,o)}${i}`;return`${c.slice(0,o)}${i}`}function Ft(c,i,o){Se(i,"offset"),(c[i]===void 0||c[i+o]===void 0)&&gt(i,c.length-(o+1))}function It(c,i,o,l,g,w){if(c>o||c<i){const b=typeof i=="bigint"?"n":"";let K;throw i===0||i===BigInt(0)?K=`>= 0${b} and < 2${b} ** ${(w+1)*8}${b}`:K=`>= -(2${b} ** ${(w+1)*8-1}${b}) and < 2 ** ${(w+1)*8-1}${b}`,new ct.ERR_OUT_OF_RANGE("value",K,c)}Ft(l,g,w)}function Se(c,i){if(typeof c!="number")throw new ct.ERR_INVALID_ARG_TYPE(i,"number",c)}function gt(c,i,o){throw Math.floor(c)!==c?(Se(c,o),new ct.ERR_OUT_OF_RANGE("offset","an integer",c)):i<0?new ct.ERR_BUFFER_OUT_OF_BOUNDS:new ct.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${i}`,c)}const _t=/[^+/0-9A-Za-z-_]/g;function jr(c){if(c=c.split("=")[0],c=c.trim().replace(_t,""),c.length<2)return"";for(;c.length%4!==0;)c=c+"=";return c}function Et(c,i){i=i||1/0;let o;const l=c.length;let g=null;const w=[];for(let b=0;b<l;++b){if(o=c.charCodeAt(b),o>55295&&o<57344){if(!g){if(o>56319){(i-=3)>-1&&w.push(239,191,189);continue}else if(b+1===l){(i-=3)>-1&&w.push(239,191,189);continue}g=o;continue}if(o<56320){(i-=3)>-1&&w.push(239,191,189),g=o;continue}o=(g-55296<<10|o-56320)+65536}else g&&(i-=3)>-1&&w.push(239,191,189);if(g=null,o<128){if((i-=1)<0)break;w.push(o)}else if(o<2048){if((i-=2)<0)break;w.push(o>>6|192,o&63|128)}else if(o<65536){if((i-=3)<0)break;w.push(o>>12|224,o>>6&63|128,o&63|128)}else if(o<1114112){if((i-=4)<0)break;w.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else throw new Error("Invalid code point")}return w}function Rt(c){const i=[];for(let o=0;o<c.length;++o)i.push(c.charCodeAt(o)&255);return i}function Wr(c,i){let o,l,g;const w=[];for(let b=0;b<c.length&&!((i-=2)<0);++b)o=c.charCodeAt(b),l=o>>8,g=o%256,w.push(g),w.push(l);return w}function St(c){return t.toByteArray(jr(c))}function xt(c,i,o,l){let g;for(g=0;g<l&&!(g+o>=i.length||g>=c.length);++g)i[g+o]=c[g];return g}function Lt(c,i){return c instanceof i||c!=null&&c.constructor!=null&&c.constructor.name!=null&&c.constructor.name===i.name}function vt(c){return c!==c}const Dt=function(){const c="0123456789abcdef",i=new Array(256);for(let o=0;o<16;++o){const l=o*16;for(let g=0;g<16;++g)i[l+g]=c[o]+c[g]}return i}();function qt(c){return typeof BigInt>"u"?Tt:c}function Tt(){throw new Error("BigInt not supported")}})(X);function _o(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`positive integer expected, not ${r}`)}function qa(r){return r instanceof Uint8Array||r!=null&&typeof r=="object"&&r.constructor.name==="Uint8Array"}function ri(r,...t){if(!qa(r))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(r.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${r.length}`)}function Ga(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");_o(r.outputLen),_o(r.blockLen)}function An(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}function ja(r,t){ri(r);const e=t.outputLen;if(r.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ni=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),We=(r,t)=>r<<32-t|r>>>t;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function Wa(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function ii(r){return typeof r=="string"&&(r=Wa(r)),ri(r),r}class Ro{clone(){return this._cloneInto()}}function Lo(r){const t=n=>r().update(ii(n)).digest(),e=r();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>r(),t}function Ya(r,t,e,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(t,e,n);const a=BigInt(32),s=BigInt(4294967295),h=Number(e>>a&s),f=Number(e&s),y=n?4:0,x=n?0:4;r.setUint32(t+y,h,n),r.setUint32(t+x,f,n)}const Va=(r,t,e)=>r&t^~r&e,Za=(r,t,e)=>r&t^r&e^t&e;class Do extends Ro{constructor(t,e,n,a){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=a,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=ni(this.buffer)}update(t){An(this);const{view:e,buffer:n,blockLen:a}=this;t=ii(t);const s=t.length;for(let h=0;h<s;){const f=Math.min(a-this.pos,s-h);if(f===a){const y=ni(t);for(;a<=s-h;h+=a)this.process(y,h);continue}n.set(t.subarray(h,h+f),this.pos),this.pos+=f,h+=f,this.pos===a&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){An(this),ja(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:a,isLE:s}=this;let{pos:h}=this;e[h++]=128,this.buffer.subarray(h).fill(0),this.padOffset>a-h&&(this.process(n,0),h=0);for(let S=h;S<a;S++)e[S]=0;Ya(n,a-8,BigInt(this.length*8),s),this.process(n,0);const f=ni(t),y=this.outputLen;if(y%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const x=y/4,M=this.get();if(x>M.length)throw new Error("_sha2: outputLen bigger than state");for(let S=0;S<x;S++)f.setUint32(4*S,M[S],s)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:a,finished:s,destroyed:h,pos:f}=this;return t.length=a,t.pos=f,t.finished=s,t.destroyed=h,a%e&&t.buffer.set(n),t}}const xn=BigInt(2**32-1),oi=BigInt(32);function To(r,t=!1){return t?{h:Number(r&xn),l:Number(r>>oi&xn)}:{h:Number(r>>oi&xn)|0,l:Number(r&xn)|0}}function Xa(r,t=!1){let e=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let a=0;a<r.length;a++){const{h:s,l:h}=To(r[a],t);[e[a],n[a]]=[s,h]}return[e,n]}const Ja=(r,t)=>BigInt(r>>>0)<<oi|BigInt(t>>>0),$a=(r,t,e)=>r>>>e,tc=(r,t,e)=>r<<32-e|t>>>e,ec=(r,t,e)=>r>>>e|t<<32-e,rc=(r,t,e)=>r<<32-e|t>>>e,nc=(r,t,e)=>r<<64-e|t>>>e-32,ic=(r,t,e)=>r>>>e-32|t<<64-e,oc=(r,t)=>t,sc=(r,t)=>r,ac=(r,t,e)=>r<<e|t>>>32-e,cc=(r,t,e)=>t<<e|r>>>32-e,uc=(r,t,e)=>t<<e-32|r>>>64-e,fc=(r,t,e)=>r<<e-32|t>>>64-e;function hc(r,t,e,n){const a=(t>>>0)+(n>>>0);return{h:r+e+(a/2**32|0)|0,l:a|0}}const at={fromBig:To,split:Xa,toBig:Ja,shrSH:$a,shrSL:tc,rotrSH:ec,rotrSL:rc,rotrBH:nc,rotrBL:ic,rotr32H:oc,rotr32L:sc,rotlSH:ac,rotlSL:cc,rotlBH:uc,rotlBL:fc,add:hc,add3L:(r,t,e)=>(r>>>0)+(t>>>0)+(e>>>0),add3H:(r,t,e,n)=>t+e+n+(r/2**32|0)|0,add4L:(r,t,e,n)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0),add4H:(r,t,e,n,a)=>t+e+n+a+(r/2**32|0)|0,add5H:(r,t,e,n,a,s)=>t+e+n+a+s+(r/2**32|0)|0,add5L:(r,t,e,n,a)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0)+(a>>>0)},[lc,dc]=at.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),er=new Uint32Array(80),rr=new Uint32Array(80);class pc extends Do{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:n,Bl:a,Ch:s,Cl:h,Dh:f,Dl:y,Eh:x,El:M,Fh:S,Fl:U,Gh:C,Gl:L,Hh:D,Hl:T}=this;return[t,e,n,a,s,h,f,y,x,M,S,U,C,L,D,T]}set(t,e,n,a,s,h,f,y,x,M,S,U,C,L,D,T){this.Ah=t|0,this.Al=e|0,this.Bh=n|0,this.Bl=a|0,this.Ch=s|0,this.Cl=h|0,this.Dh=f|0,this.Dl=y|0,this.Eh=x|0,this.El=M|0,this.Fh=S|0,this.Fl=U|0,this.Gh=C|0,this.Gl=L|0,this.Hh=D|0,this.Hl=T|0}process(t,e){for(let N=0;N<16;N++,e+=4)er[N]=t.getUint32(e),rr[N]=t.getUint32(e+=4);for(let N=16;N<80;N++){const nt=er[N-15]|0,J=rr[N-15]|0,ut=at.rotrSH(nt,J,1)^at.rotrSH(nt,J,8)^at.shrSH(nt,J,7),Ut=at.rotrSL(nt,J,1)^at.rotrSL(nt,J,8)^at.shrSL(nt,J,7),Kt=er[N-2]|0,ve=rr[N-2]|0,Ke=at.rotrSH(Kt,ve,19)^at.rotrBH(Kt,ve,61)^at.shrSH(Kt,ve,6),bt=at.rotrSL(Kt,ve,19)^at.rotrBL(Kt,ve,61)^at.shrSL(Kt,ve,6),Ie=at.add4L(Ut,bt,rr[N-7],rr[N-16]),I=at.add4H(Ie,ut,Ke,er[N-7],er[N-16]);er[N]=I|0,rr[N]=Ie|0}let{Ah:n,Al:a,Bh:s,Bl:h,Ch:f,Cl:y,Dh:x,Dl:M,Eh:S,El:U,Fh:C,Fl:L,Gh:D,Gl:T,Hh:H,Hl:Q}=this;for(let N=0;N<80;N++){const nt=at.rotrSH(S,U,14)^at.rotrSH(S,U,18)^at.rotrBH(S,U,41),J=at.rotrSL(S,U,14)^at.rotrSL(S,U,18)^at.rotrBL(S,U,41),ut=S&C^~S&D,Ut=U&L^~U&T,Kt=at.add5L(Q,J,Ut,dc[N],rr[N]),ve=at.add5H(Kt,H,nt,ut,lc[N],er[N]),Ke=Kt|0,bt=at.rotrSH(n,a,28)^at.rotrBH(n,a,34)^at.rotrBH(n,a,39),Ie=at.rotrSL(n,a,28)^at.rotrBL(n,a,34)^at.rotrBL(n,a,39),I=n&s^n&f^s&f,u=a&h^a&y^h&y;H=D|0,Q=T|0,D=C|0,T=L|0,C=S|0,L=U|0,{h:S,l:U}=at.add(x|0,M|0,ve|0,Ke|0),x=f|0,M=y|0,f=s|0,y=h|0,s=n|0,h=a|0;const p=at.add3L(Ke,Ie,u);n=at.add3H(p,ve,bt,I),a=p|0}({h:n,l:a}=at.add(this.Ah|0,this.Al|0,n|0,a|0)),{h:s,l:h}=at.add(this.Bh|0,this.Bl|0,s|0,h|0),{h:f,l:y}=at.add(this.Ch|0,this.Cl|0,f|0,y|0),{h:x,l:M}=at.add(this.Dh|0,this.Dl|0,x|0,M|0),{h:S,l:U}=at.add(this.Eh|0,this.El|0,S|0,U|0),{h:C,l:L}=at.add(this.Fh|0,this.Fl|0,C|0,L|0),{h:D,l:T}=at.add(this.Gh|0,this.Gl|0,D|0,T|0),{h:H,l:Q}=at.add(this.Hh|0,this.Hl|0,H|0,Q|0),this.set(n,a,s,h,f,y,x,M,S,U,C,L,D,T,H,Q)}roundClean(){er.fill(0),rr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const gc=Lo(()=>new pc),si=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}));/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const ge=BigInt(0),lt=BigInt(1),nr=BigInt(2),yc=BigInt(8),Oo=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),Mt=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:Oo,n:Oo,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")}),Po=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),Vr=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742");const wc=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),mc=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Ac=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),xc=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class dt{constructor(t,e,n,a){this.x=t,this.y=e,this.z=n,this.t=a}static fromAffine(t){if(!(t instanceof Qt))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return t.equals(Qt.ZERO)?dt.ZERO:new dt(t.x,t.y,lt,O(t.x*t.y))}static toAffineBatch(t){const e=Ec(t.map(n=>n.z));return t.map((n,a)=>n.toAffine(e[a]))}static normalizeZ(t){return this.toAffineBatch(t).map(this.fromAffine)}equals(t){Ho(t);const{x:e,y:n,z:a}=this,{x:s,y:h,z:f}=t,y=O(e*f),x=O(s*a),M=O(n*f),S=O(h*a);return y===x&&M===S}negate(){return new dt(O(-this.x),this.y,this.z,O(-this.t))}double(){const{x:t,y:e,z:n}=this,{a}=Mt,s=O(t*t),h=O(e*e),f=O(nr*O(n*n)),y=O(a*s),x=t+e,M=O(O(x*x)-s-h),S=y+h,U=S-f,C=y-h,L=O(M*U),D=O(S*C),T=O(M*C),H=O(U*S);return new dt(L,D,H,T)}add(t){Ho(t);const{x:e,y:n,z:a,t:s}=this,{x:h,y:f,z:y,t:x}=t,M=O((n-e)*(f+h)),S=O((n+e)*(f-h)),U=O(S-M);if(U===ge)return this.double();const C=O(a*nr*x),L=O(s*nr*y),D=L+C,T=S+M,H=L-C,Q=O(D*U),N=O(T*H),nt=O(D*H),J=O(U*T);return new dt(Q,N,J,nt)}subtract(t){return this.add(t.negate())}precomputeWindow(t){const e=1+256/t,n=[];let a=this,s=a;for(let h=0;h<e;h++){s=a,n.push(s);for(let f=1;f<2**(t-1);f++)s=s.add(a),n.push(s);a=s.double()}return n}wNAF(t,e){!e&&this.equals(dt.BASE)&&(e=Qt.BASE);const n=e&&e._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let a=e&&ui.get(e);a||(a=this.precomputeWindow(n),e&&n!==1&&(a=dt.normalizeZ(a),ui.set(e,a)));let s=dt.ZERO,h=dt.BASE;const f=1+256/n,y=2**(n-1),x=BigInt(2**n-1),M=2**n,S=BigInt(n);for(let U=0;U<f;U++){const C=U*y;let L=Number(t&x);t>>=S,L>y&&(L-=M,t+=lt);const D=C,T=C+Math.abs(L)-1,H=U%2!==0,Q=L<0;L===0?h=h.add(No(H,a[D])):s=s.add(No(Q,a[T]))}return dt.normalizeZ([s,h])[0]}multiply(t,e){return this.wNAF(En(t,Mt.l),e)}multiplyUnsafe(t){let e=En(t,Mt.l,!1);const n=dt.BASE,a=dt.ZERO;if(e===ge)return a;if(this.equals(a)||e===lt)return this;if(this.equals(n))return this.wNAF(e);let s=a,h=this;for(;e>ge;)e&lt&&(s=s.add(h)),h=h.double(),e>>=lt;return s}isSmallOrder(){return this.multiplyUnsafe(Mt.h).equals(dt.ZERO)}isTorsionFree(){let t=this.multiplyUnsafe(Mt.l/nr).double();return Mt.l%nr&&(t=t.add(this)),t.equals(dt.ZERO)}toAffine(t){const{x:e,y:n,z:a}=this,s=this.equals(dt.ZERO);t==null&&(t=s?yc:Bn(a));const h=O(e*t),f=O(n*t),y=O(a*t);if(s)return Qt.ZERO;if(y!==lt)throw new Error("invZ was invalid");return new Qt(h,f)}fromRistrettoBytes(){ci()}toRistrettoBytes(){ci()}fromRistrettoHash(){ci()}}dt.BASE=new dt(Mt.Gx,Mt.Gy,lt,O(Mt.Gx*Mt.Gy)),dt.ZERO=new dt(ge,lt,lt,ge);function No(r,t){const e=t.negate();return r?e:t}function Ho(r){if(!(r instanceof dt))throw new TypeError("ExtendedPoint expected")}function ai(r){if(!(r instanceof Pe))throw new TypeError("RistrettoPoint expected")}function ci(){throw new Error("Legacy method: switch to RistrettoPoint")}class Pe{constructor(t){this.ep=t}static calcElligatorRistrettoMap(t){const{d:e}=Mt,n=O(Vr*t*t),a=O((n+lt)*Ac);let s=BigInt(-1);const h=O((s-e*n)*O(n+e));let{isValid:f,value:y}=di(a,h),x=O(y*t);ir(x)||(x=O(-x)),f||(y=x),f||(s=n);const M=O(s*(n-lt)*xc-h),S=y*y,U=O((y+y)*h),C=O(M*wc),L=O(lt-S),D=O(lt+S);return new dt(O(U*D),O(L*C),O(C*D),O(U*L))}static hashToCurve(t){t=or(t,64);const e=li(t.slice(0,32)),n=this.calcElligatorRistrettoMap(e),a=li(t.slice(32,64)),s=this.calcElligatorRistrettoMap(a);return new Pe(n.add(s))}static fromHex(t){t=or(t,32);const{a:e,d:n}=Mt,a="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",s=li(t);if(!Ic(Xr(s),t)||ir(s))throw new Error(a);const h=O(s*s),f=O(lt+e*h),y=O(lt-e*h),x=O(f*f),M=O(y*y),S=O(e*n*x-M),{isValid:U,value:C}=Qo(O(S*M)),L=O(C*y),D=O(C*L*S);let T=O((s+s)*L);ir(T)&&(T=O(-T));const H=O(f*D),Q=O(T*H);if(!U||ir(Q)||H===ge)throw new Error(a);return new Pe(new dt(T,H,lt,Q))}toRawBytes(){let{x:t,y:e,z:n,t:a}=this.ep;const s=O(O(n+e)*O(n-e)),h=O(t*e),f=O(h*h),{value:y}=Qo(O(s*f)),x=O(y*s),M=O(y*h),S=O(x*M*a);let U;if(ir(a*S)){let L=O(e*Vr),D=O(t*Vr);t=L,e=D,U=O(x*mc)}else U=M;ir(t*S)&&(e=O(-e));let C=O((n-e)*U);return ir(C)&&(C=O(-C)),Xr(C)}toHex(){return Zr(this.toRawBytes())}toString(){return this.toHex()}equals(t){ai(t);const e=this.ep,n=t.ep,a=O(e.x*n.y)===O(e.y*n.x),s=O(e.y*n.y)===O(e.x*n.x);return a||s}add(t){return ai(t),new Pe(this.ep.add(t.ep))}subtract(t){return ai(t),new Pe(this.ep.subtract(t.ep))}multiply(t){return new Pe(this.ep.multiply(t))}multiplyUnsafe(t){return new Pe(this.ep.multiplyUnsafe(t))}}Pe.BASE=new Pe(dt.BASE),Pe.ZERO=new Pe(dt.ZERO);const ui=new WeakMap;let Qt=class Co{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,ui.delete(this)}static fromHex(t,e=!0){const{d:n,P:a}=Mt;t=or(t,32);const s=t.slice();s[31]=t[31]&-129;const h=Jr(s);if(e&&h>=a)throw new Error("Expected 0 < hex < P");if(!e&&h>=Po)throw new Error("Expected 0 < hex < 2**256");const f=O(h*h),y=O(f-lt),x=O(n*f+lt);let{isValid:M,value:S}=di(y,x);if(!M)throw new Error("Point.fromHex: invalid y coordinate");const U=(S&lt)===lt;return(t[31]&128)!==0!==U&&(S=O(-S)),new Co(S,h)}static async fromPrivateKey(t){return(await jo(t)).point}toRawBytes(){const t=Xr(this.y);return t[31]|=this.x&lt?128:0,t}toHex(){return Zr(this.toRawBytes())}toX25519(){const{y:t}=this,e=O((lt+t)*Bn(lt-t));return Xr(e)}isTorsionFree(){return dt.fromAffine(this).isTorsionFree()}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new Co(O(-this.x),this.y)}add(t){return dt.fromAffine(this).add(dt.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return dt.fromAffine(this).multiply(t,this).toAffine()}};Qt.BASE=new Qt(Mt.Gx,Mt.Gy),Qt.ZERO=new Qt(ge,lt);let fi=class Da{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromHex(t){const e=or(t,64),n=Qt.fromHex(e.slice(0,32),!1),a=Jr(e.slice(32,64));return new Da(n,a)}assertValidity(){const{r:t,s:e}=this;if(!(t instanceof Qt))throw new Error("Expected Point instance");return En(e,Mt.l,!1),this}toRawBytes(){const t=new Uint8Array(64);return t.set(this.r.toRawBytes()),t.set(Xr(this.s),32),t}toHex(){return Zr(this.toRawBytes())}};function zo(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(r.length===1)return r[0];const t=r.reduce((n,a)=>n+a.length,0),e=new Uint8Array(t);for(let n=0,a=0;n<r.length;n++){const s=r[n];e.set(s,a),a+=s.length}return e}const Bc=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function Zr(r){if(!(r instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let e=0;e<r.length;e++)t+=Bc[r[e]];return t}function hi(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(r.length/2);for(let e=0;e<t.length;e++){const n=e*2,a=r.slice(n,n+2),s=Number.parseInt(a,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[e]=s}return t}function Ko(r){const e=r.toString(16).padStart(64,"0");return hi(e)}function Xr(r){return Ko(r).reverse()}function ir(r){return(O(r)&lt)===lt}function Jr(r){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+Zr(Uint8Array.from(r).reverse()))}const bc=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function li(r){return O(Jr(r)&bc)}function O(r,t=Mt.P){const e=r%t;return e>=ge?e:t+e}function Bn(r,t=Mt.P){if(r===ge||t<=ge)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let e=O(r,t),n=t,a=ge,s=lt;for(;e!==ge;){const f=n/e,y=n%e,x=a-s*f;n=e,e=y,a=s,s=x}if(n!==lt)throw new Error("invert: does not exist");return O(a,t)}function Ec(r,t=Mt.P){const e=new Array(r.length),n=r.reduce((s,h,f)=>h===ge?s:(e[f]=s,O(s*h,t)),lt),a=Bn(n,t);return r.reduceRight((s,h,f)=>h===ge?s:(e[f]=O(s*e[f],t),O(s*h,t)),a),e}function Ye(r,t){const{P:e}=Mt;let n=r;for(;t-- >ge;)n*=n,n%=e;return n}function vc(r){const{P:t}=Mt,e=BigInt(5),n=BigInt(10),a=BigInt(20),s=BigInt(40),h=BigInt(80),y=r*r%t*r%t,x=Ye(y,nr)*y%t,M=Ye(x,lt)*r%t,S=Ye(M,e)*M%t,U=Ye(S,n)*S%t,C=Ye(U,a)*U%t,L=Ye(C,s)*C%t,D=Ye(L,h)*L%t,T=Ye(D,h)*L%t,H=Ye(T,n)*S%t;return{pow_p_5_8:Ye(H,nr)*r%t,b2:y}}function di(r,t){const e=O(t*t*t),n=O(e*e*t),a=vc(r*n).pow_p_5_8;let s=O(r*e*a);const h=O(t*s*s),f=s,y=O(s*Vr),x=h===r,M=h===O(-r),S=h===O(-r*Vr);return x&&(s=f),(M||S)&&(s=y),ir(s)&&(s=O(-s)),{isValid:x||M,value:s}}function Qo(r){return di(lt,r)}function bn(r){return O(Jr(r),Mt.l)}function Ic(r,t){if(r.length!==t.length)return!1;for(let e=0;e<r.length;e++)if(r[e]!==t[e])return!1;return!0}function or(r,t){const e=r instanceof Uint8Array?Uint8Array.from(r):hi(r);if(typeof t=="number"&&e.length!==t)throw new Error(`Expected ${t} bytes`);return e}function En(r,t,e=!0){if(!t)throw new TypeError("Specify max value");if(typeof r=="number"&&Number.isSafeInteger(r)&&(r=BigInt(r)),typeof r=="bigint"&&r<t){if(e){if(ge<r)return r}else if(ge<=r)return r}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function Sc(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function qo(r){if(r=typeof r=="bigint"||typeof r=="number"?Ko(En(r,Po)):or(r),r.length!==32)throw new Error("Expected 32 bytes");return r}function Go(r){const t=Sc(r.slice(0,32)),e=r.slice(32,64),n=bn(t),a=Qt.BASE.multiply(n),s=a.toRawBytes();return{head:t,prefix:e,scalar:n,point:a,pointBytes:s}}let $r;function vn(...r){if(typeof $r!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return $r(...r)}async function jo(r){return Go(await Ur.sha512(qo(r)))}function pi(r){return Go(vn(qo(r)))}function Mc(r){return pi(r).pointBytes}function kc(r,t){r=or(r);const{prefix:e,scalar:n,pointBytes:a}=pi(t),s=bn(vn(e,r)),h=Qt.BASE.multiply(s),f=bn(vn(h.toRawBytes(),a,r)),y=O(s+f*n,Mt.l);return new fi(h,y).toRawBytes()}function Uc(r,t,e){t=or(t),e instanceof Qt||(e=Qt.fromHex(e,!1));const{r:n,s:a}=r instanceof fi?r.assertValidity():fi.fromHex(r),s=dt.BASE.multiplyUnsafe(a);return{r:n,s:a,SB:s,pub:e,msg:t}}function Cc(r,t,e,n){const a=bn(n),s=dt.fromAffine(r).multiplyUnsafe(a);return dt.fromAffine(t).add(s).subtract(e).multiplyUnsafe(Mt.h).equals(dt.ZERO)}function Fc(r,t,e){const{r:n,SB:a,msg:s,pub:h}=Uc(r,t,e),f=vn(n.toRawBytes(),h.toRawBytes(),s);return Cc(h,n,a,f)}const Wo={getExtendedPublicKey:pi,getPublicKey:Mc,sign:kc,verify:Fc};Qt.BASE._setWindowSize(8);const sr={node:si,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Ur={bytesToHex:Zr,hexToBytes:hi,concatBytes:zo,getExtendedPublicKey:jo,mod:O,invert:Bn,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:r=>{if(r=or(r),r.length<40||r.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return O(Jr(r),Mt.l-lt)+lt},randomBytes:(r=32)=>{if(sr.web)return sr.web.getRandomValues(new Uint8Array(r));if(sr.node){const{randomBytes:t}=sr.node;return new Uint8Array(t(r).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Ur.randomBytes(32),sha512:async(...r)=>{const t=zo(...r);if(sr.web){const e=await sr.web.subtle.digest("SHA-512",t.buffer);return new Uint8Array(e)}else{if(sr.node)return Uint8Array.from(sr.node.createHash("sha512").update(t).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(r=8,t=Qt.BASE){const e=t.equals(Qt.BASE)?t:new Qt(t.x,t.y);return e._setWindowSize(r),e.multiply(nr),e},sha512Sync:void 0};Object.defineProperties(Ur,{sha512Sync:{configurable:!1,get(){return $r},set(r){$r||($r=r)}}});var gi={exports:{}};const _c=ce(si);gi.exports,function(r){(function(t,e){function n(I,u){if(!I)throw new Error(u||"Assertion failed")}function a(I,u){I.super_=u;var p=function(){};p.prototype=u.prototype,I.prototype=new p,I.prototype.constructor=I}function s(I,u,p){if(s.isBN(I))return I;this.negative=0,this.words=null,this.length=0,this.red=null,I!==null&&((u==="le"||u==="be")&&(p=u,u=10),this._init(I||0,u||10,p||"be"))}typeof t=="object"?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=_c.Buffer}catch{}s.isBN=function(u){return u instanceof s?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===s.wordSize&&Array.isArray(u.words)},s.max=function(u,p){return u.cmp(p)>0?u:p},s.min=function(u,p){return u.cmp(p)<0?u:p},s.prototype._init=function(u,p,m){if(typeof u=="number")return this._initNumber(u,p,m);if(typeof u=="object")return this._initArray(u,p,m);p==="hex"&&(p=16),n(p===(p|0)&&p>=2&&p<=36),u=u.toString().replace(/\s+/g,"");var B=0;u[0]==="-"&&(B++,this.negative=1),B<u.length&&(p===16?this._parseHex(u,B,m):(this._parseBase(u,p,B),m==="le"&&this._initArray(this.toArray(),p,m)))},s.prototype._initNumber=function(u,p,m){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(n(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),p,m)},s.prototype._initArray=function(u,p,m){if(n(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var B=0;B<this.length;B++)this.words[B]=0;var v,k,F=0;if(m==="be")for(B=u.length-1,v=0;B>=0;B-=3)k=u[B]|u[B-1]<<8|u[B-2]<<16,this.words[v]|=k<<F&67108863,this.words[v+1]=k>>>26-F&67108863,F+=24,F>=26&&(F-=26,v++);else if(m==="le")for(B=0,v=0;B<u.length;B+=3)k=u[B]|u[B+1]<<8|u[B+2]<<16,this.words[v]|=k<<F&67108863,this.words[v+1]=k>>>26-F&67108863,F+=24,F>=26&&(F-=26,v++);return this._strip()};function f(I,u){var p=I.charCodeAt(u);if(p>=48&&p<=57)return p-48;if(p>=65&&p<=70)return p-55;if(p>=97&&p<=102)return p-87;n(!1,"Invalid character in "+I)}function y(I,u,p){var m=f(I,p);return p-1>=u&&(m|=f(I,p-1)<<4),m}s.prototype._parseHex=function(u,p,m){this.length=Math.ceil((u.length-p)/6),this.words=new Array(this.length);for(var B=0;B<this.length;B++)this.words[B]=0;var v=0,k=0,F;if(m==="be")for(B=u.length-1;B>=p;B-=2)F=y(u,p,B)<<v,this.words[k]|=F&67108863,v>=18?(v-=18,k+=1,this.words[k]|=F>>>26):v+=8;else{var A=u.length-p;for(B=A%2===0?p+1:p;B<u.length;B+=2)F=y(u,p,B)<<v,this.words[k]|=F&67108863,v>=18?(v-=18,k+=1,this.words[k]|=F>>>26):v+=8}this._strip()};function x(I,u,p,m){for(var B=0,v=0,k=Math.min(I.length,p),F=u;F<k;F++){var A=I.charCodeAt(F)-48;B*=m,A>=49?v=A-49+10:A>=17?v=A-17+10:v=A,n(A>=0&&v<m,"Invalid character"),B+=v}return B}s.prototype._parseBase=function(u,p,m){this.words=[0],this.length=1;for(var B=0,v=1;v<=67108863;v*=p)B++;B--,v=v/p|0;for(var k=u.length-m,F=k%B,A=Math.min(k,k-F)+m,d=0,E=m;E<A;E+=B)d=x(u,E,E+B,p),this.imuln(v),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(F!==0){var et=1;for(d=x(u,E,u.length,p),E=0;E<F;E++)et*=p;this.imuln(et),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this._strip()},s.prototype.copy=function(u){u.words=new Array(this.length);for(var p=0;p<this.length;p++)u.words[p]=this.words[p];u.length=this.length,u.negative=this.negative,u.red=this.red};function M(I,u){I.words=u.words,I.length=u.length,I.negative=u.negative,I.red=u.red}if(s.prototype._move=function(u){M(u,this)},s.prototype.clone=function(){var u=new s(null);return this.copy(u),u},s.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=S}catch{s.prototype.inspect=S}else s.prototype.inspect=S;function S(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var U=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],C=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],L=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(u,p){u=u||10,p=p|0||1;var m;if(u===16||u==="hex"){m="";for(var B=0,v=0,k=0;k<this.length;k++){var F=this.words[k],A=((F<<B|v)&16777215).toString(16);v=F>>>24-B&16777215,B+=2,B>=26&&(B-=26,k--),v!==0||k!==this.length-1?m=U[6-A.length]+A+m:m=A+m}for(v!==0&&(m=v.toString(16)+m);m.length%p!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(u===(u|0)&&u>=2&&u<=36){var d=C[u],E=L[u];m="";var et=this.clone();for(et.negative=0;!et.isZero();){var $=et.modrn(E).toString(u);et=et.idivn(E),et.isZero()?m=$+m:m=U[d-$.length]+$+m}for(this.isZero()&&(m="0"+m);m.length%p!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},s.prototype.toJSON=function(){return this.toString(16,2)},h&&(s.prototype.toBuffer=function(u,p){return this.toArrayLike(h,u,p)}),s.prototype.toArray=function(u,p){return this.toArrayLike(Array,u,p)};var D=function(u,p){return u.allocUnsafe?u.allocUnsafe(p):new u(p)};s.prototype.toArrayLike=function(u,p,m){this._strip();var B=this.byteLength(),v=m||Math.max(1,B);n(B<=v,"byte array longer than desired length"),n(v>0,"Requested array length <= 0");var k=D(u,v),F=p==="le"?"LE":"BE";return this["_toArrayLike"+F](k,B),k},s.prototype._toArrayLikeLE=function(u,p){for(var m=0,B=0,v=0,k=0;v<this.length;v++){var F=this.words[v]<<k|B;u[m++]=F&255,m<u.length&&(u[m++]=F>>8&255),m<u.length&&(u[m++]=F>>16&255),k===6?(m<u.length&&(u[m++]=F>>24&255),B=0,k=0):(B=F>>>24,k+=2)}if(m<u.length)for(u[m++]=B;m<u.length;)u[m++]=0},s.prototype._toArrayLikeBE=function(u,p){for(var m=u.length-1,B=0,v=0,k=0;v<this.length;v++){var F=this.words[v]<<k|B;u[m--]=F&255,m>=0&&(u[m--]=F>>8&255),m>=0&&(u[m--]=F>>16&255),k===6?(m>=0&&(u[m--]=F>>24&255),B=0,k=0):(B=F>>>24,k+=2)}if(m>=0)for(u[m--]=B;m>=0;)u[m--]=0},Math.clz32?s.prototype._countBits=function(u){return 32-Math.clz32(u)}:s.prototype._countBits=function(u){var p=u,m=0;return p>=4096&&(m+=13,p>>>=13),p>=64&&(m+=7,p>>>=7),p>=8&&(m+=4,p>>>=4),p>=2&&(m+=2,p>>>=2),m+p},s.prototype._zeroBits=function(u){if(u===0)return 26;var p=u,m=0;return p&8191||(m+=13,p>>>=13),p&127||(m+=7,p>>>=7),p&15||(m+=4,p>>>=4),p&3||(m+=2,p>>>=2),p&1||m++,m},s.prototype.bitLength=function(){var u=this.words[this.length-1],p=this._countBits(u);return(this.length-1)*26+p};function T(I){for(var u=new Array(I.bitLength()),p=0;p<u.length;p++){var m=p/26|0,B=p%26;u[p]=I.words[m]>>>B&1}return u}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,p=0;p<this.length;p++){var m=this._zeroBits(this.words[p]);if(u+=m,m!==26)break}return u},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},s.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var p=0;p<u.length;p++)this.words[p]=this.words[p]|u.words[p];return this._strip()},s.prototype.ior=function(u){return n((this.negative|u.negative)===0),this.iuor(u)},s.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},s.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},s.prototype.iuand=function(u){var p;this.length>u.length?p=u:p=this;for(var m=0;m<p.length;m++)this.words[m]=this.words[m]&u.words[m];return this.length=p.length,this._strip()},s.prototype.iand=function(u){return n((this.negative|u.negative)===0),this.iuand(u)},s.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},s.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},s.prototype.iuxor=function(u){var p,m;this.length>u.length?(p=this,m=u):(p=u,m=this);for(var B=0;B<m.length;B++)this.words[B]=p.words[B]^m.words[B];if(this!==p)for(;B<p.length;B++)this.words[B]=p.words[B];return this.length=p.length,this._strip()},s.prototype.ixor=function(u){return n((this.negative|u.negative)===0),this.iuxor(u)},s.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},s.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},s.prototype.inotn=function(u){n(typeof u=="number"&&u>=0);var p=Math.ceil(u/26)|0,m=u%26;this._expand(p),m>0&&p--;for(var B=0;B<p;B++)this.words[B]=~this.words[B]&67108863;return m>0&&(this.words[B]=~this.words[B]&67108863>>26-m),this._strip()},s.prototype.notn=function(u){return this.clone().inotn(u)},s.prototype.setn=function(u,p){n(typeof u=="number"&&u>=0);var m=u/26|0,B=u%26;return this._expand(m+1),p?this.words[m]=this.words[m]|1<<B:this.words[m]=this.words[m]&~(1<<B),this._strip()},s.prototype.iadd=function(u){var p;if(this.negative!==0&&u.negative===0)return this.negative=0,p=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,p=this.isub(u),u.negative=1,p._normSign();var m,B;this.length>u.length?(m=this,B=u):(m=u,B=this);for(var v=0,k=0;k<B.length;k++)p=(m.words[k]|0)+(B.words[k]|0)+v,this.words[k]=p&67108863,v=p>>>26;for(;v!==0&&k<m.length;k++)p=(m.words[k]|0)+v,this.words[k]=p&67108863,v=p>>>26;if(this.length=m.length,v!==0)this.words[this.length]=v,this.length++;else if(m!==this)for(;k<m.length;k++)this.words[k]=m.words[k];return this},s.prototype.add=function(u){var p;return u.negative!==0&&this.negative===0?(u.negative=0,p=this.sub(u),u.negative^=1,p):u.negative===0&&this.negative!==0?(this.negative=0,p=u.sub(this),this.negative=1,p):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},s.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var p=this.iadd(u);return u.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var m=this.cmp(u);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var B,v;m>0?(B=this,v=u):(B=u,v=this);for(var k=0,F=0;F<v.length;F++)p=(B.words[F]|0)-(v.words[F]|0)+k,k=p>>26,this.words[F]=p&67108863;for(;k!==0&&F<B.length;F++)p=(B.words[F]|0)+k,k=p>>26,this.words[F]=p&67108863;if(k===0&&F<B.length&&B!==this)for(;F<B.length;F++)this.words[F]=B.words[F];return this.length=Math.max(this.length,F),B!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(u){return this.clone().isub(u)};function H(I,u,p){p.negative=u.negative^I.negative;var m=I.length+u.length|0;p.length=m,m=m-1|0;var B=I.words[0]|0,v=u.words[0]|0,k=B*v,F=k&67108863,A=k/67108864|0;p.words[0]=F;for(var d=1;d<m;d++){for(var E=A>>>26,et=A&67108863,$=Math.min(d,u.length-1),rt=Math.max(0,d-I.length+1);rt<=$;rt++){var Ht=d-rt|0;B=I.words[Ht]|0,v=u.words[rt]|0,k=B*v+et,E+=k/67108864|0,et=k&67108863}p.words[d]=et|0,A=E|0}return A!==0?p.words[d]=A|0:p.length--,p._strip()}var Q=function(u,p,m){var B=u.words,v=p.words,k=m.words,F=0,A,d,E,et=B[0]|0,$=et&8191,rt=et>>>13,Ht=B[1]|0,ct=Ht&8191,mt=Ht>>>13,dr=B[2]|0,Ft=dr&8191,It=dr>>>13,Se=B[3]|0,gt=Se&8191,_t=Se>>>13,jr=B[4]|0,Et=jr&8191,Rt=jr>>>13,Wr=B[5]|0,St=Wr&8191,xt=Wr>>>13,Lt=B[6]|0,vt=Lt&8191,Dt=Lt>>>13,qt=B[7]|0,Tt=qt&8191,c=qt>>>13,i=B[8]|0,o=i&8191,l=i>>>13,g=B[9]|0,w=g&8191,b=g>>>13,K=v[0]|0,j=K&8191,G=K>>>13,it=v[1]|0,q=it&8191,Gt=it>>>13,Ia=v[2]|0,jt=Ia&8191,Wt=Ia>>>13,Sa=v[3]|0,Yt=Sa&8191,Vt=Sa>>>13,Ma=v[4]|0,Zt=Ma&8191,Xt=Ma>>>13,ka=v[5]|0,Jt=ka&8191,$t=ka>>>13,Ua=v[6]|0,te=Ua&8191,ee=Ua>>>13,Ca=v[7]|0,re=Ca&8191,ne=Ca>>>13,Fa=v[8]|0,ie=Fa&8191,oe=Fa>>>13,_a=v[9]|0,se=_a&8191,ae=_a>>>13;m.negative=u.negative^p.negative,m.length=19,A=Math.imul($,j),d=Math.imul($,G),d=d+Math.imul(rt,j)|0,E=Math.imul(rt,G);var fo=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(fo>>>26)|0,fo&=67108863,A=Math.imul(ct,j),d=Math.imul(ct,G),d=d+Math.imul(mt,j)|0,E=Math.imul(mt,G),A=A+Math.imul($,q)|0,d=d+Math.imul($,Gt)|0,d=d+Math.imul(rt,q)|0,E=E+Math.imul(rt,Gt)|0;var ho=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(ho>>>26)|0,ho&=67108863,A=Math.imul(Ft,j),d=Math.imul(Ft,G),d=d+Math.imul(It,j)|0,E=Math.imul(It,G),A=A+Math.imul(ct,q)|0,d=d+Math.imul(ct,Gt)|0,d=d+Math.imul(mt,q)|0,E=E+Math.imul(mt,Gt)|0,A=A+Math.imul($,jt)|0,d=d+Math.imul($,Wt)|0,d=d+Math.imul(rt,jt)|0,E=E+Math.imul(rt,Wt)|0;var lo=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(lo>>>26)|0,lo&=67108863,A=Math.imul(gt,j),d=Math.imul(gt,G),d=d+Math.imul(_t,j)|0,E=Math.imul(_t,G),A=A+Math.imul(Ft,q)|0,d=d+Math.imul(Ft,Gt)|0,d=d+Math.imul(It,q)|0,E=E+Math.imul(It,Gt)|0,A=A+Math.imul(ct,jt)|0,d=d+Math.imul(ct,Wt)|0,d=d+Math.imul(mt,jt)|0,E=E+Math.imul(mt,Wt)|0,A=A+Math.imul($,Yt)|0,d=d+Math.imul($,Vt)|0,d=d+Math.imul(rt,Yt)|0,E=E+Math.imul(rt,Vt)|0;var po=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(po>>>26)|0,po&=67108863,A=Math.imul(Et,j),d=Math.imul(Et,G),d=d+Math.imul(Rt,j)|0,E=Math.imul(Rt,G),A=A+Math.imul(gt,q)|0,d=d+Math.imul(gt,Gt)|0,d=d+Math.imul(_t,q)|0,E=E+Math.imul(_t,Gt)|0,A=A+Math.imul(Ft,jt)|0,d=d+Math.imul(Ft,Wt)|0,d=d+Math.imul(It,jt)|0,E=E+Math.imul(It,Wt)|0,A=A+Math.imul(ct,Yt)|0,d=d+Math.imul(ct,Vt)|0,d=d+Math.imul(mt,Yt)|0,E=E+Math.imul(mt,Vt)|0,A=A+Math.imul($,Zt)|0,d=d+Math.imul($,Xt)|0,d=d+Math.imul(rt,Zt)|0,E=E+Math.imul(rt,Xt)|0;var go=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(go>>>26)|0,go&=67108863,A=Math.imul(St,j),d=Math.imul(St,G),d=d+Math.imul(xt,j)|0,E=Math.imul(xt,G),A=A+Math.imul(Et,q)|0,d=d+Math.imul(Et,Gt)|0,d=d+Math.imul(Rt,q)|0,E=E+Math.imul(Rt,Gt)|0,A=A+Math.imul(gt,jt)|0,d=d+Math.imul(gt,Wt)|0,d=d+Math.imul(_t,jt)|0,E=E+Math.imul(_t,Wt)|0,A=A+Math.imul(Ft,Yt)|0,d=d+Math.imul(Ft,Vt)|0,d=d+Math.imul(It,Yt)|0,E=E+Math.imul(It,Vt)|0,A=A+Math.imul(ct,Zt)|0,d=d+Math.imul(ct,Xt)|0,d=d+Math.imul(mt,Zt)|0,E=E+Math.imul(mt,Xt)|0,A=A+Math.imul($,Jt)|0,d=d+Math.imul($,$t)|0,d=d+Math.imul(rt,Jt)|0,E=E+Math.imul(rt,$t)|0;var yo=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(yo>>>26)|0,yo&=67108863,A=Math.imul(vt,j),d=Math.imul(vt,G),d=d+Math.imul(Dt,j)|0,E=Math.imul(Dt,G),A=A+Math.imul(St,q)|0,d=d+Math.imul(St,Gt)|0,d=d+Math.imul(xt,q)|0,E=E+Math.imul(xt,Gt)|0,A=A+Math.imul(Et,jt)|0,d=d+Math.imul(Et,Wt)|0,d=d+Math.imul(Rt,jt)|0,E=E+Math.imul(Rt,Wt)|0,A=A+Math.imul(gt,Yt)|0,d=d+Math.imul(gt,Vt)|0,d=d+Math.imul(_t,Yt)|0,E=E+Math.imul(_t,Vt)|0,A=A+Math.imul(Ft,Zt)|0,d=d+Math.imul(Ft,Xt)|0,d=d+Math.imul(It,Zt)|0,E=E+Math.imul(It,Xt)|0,A=A+Math.imul(ct,Jt)|0,d=d+Math.imul(ct,$t)|0,d=d+Math.imul(mt,Jt)|0,E=E+Math.imul(mt,$t)|0,A=A+Math.imul($,te)|0,d=d+Math.imul($,ee)|0,d=d+Math.imul(rt,te)|0,E=E+Math.imul(rt,ee)|0;var wo=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(wo>>>26)|0,wo&=67108863,A=Math.imul(Tt,j),d=Math.imul(Tt,G),d=d+Math.imul(c,j)|0,E=Math.imul(c,G),A=A+Math.imul(vt,q)|0,d=d+Math.imul(vt,Gt)|0,d=d+Math.imul(Dt,q)|0,E=E+Math.imul(Dt,Gt)|0,A=A+Math.imul(St,jt)|0,d=d+Math.imul(St,Wt)|0,d=d+Math.imul(xt,jt)|0,E=E+Math.imul(xt,Wt)|0,A=A+Math.imul(Et,Yt)|0,d=d+Math.imul(Et,Vt)|0,d=d+Math.imul(Rt,Yt)|0,E=E+Math.imul(Rt,Vt)|0,A=A+Math.imul(gt,Zt)|0,d=d+Math.imul(gt,Xt)|0,d=d+Math.imul(_t,Zt)|0,E=E+Math.imul(_t,Xt)|0,A=A+Math.imul(Ft,Jt)|0,d=d+Math.imul(Ft,$t)|0,d=d+Math.imul(It,Jt)|0,E=E+Math.imul(It,$t)|0,A=A+Math.imul(ct,te)|0,d=d+Math.imul(ct,ee)|0,d=d+Math.imul(mt,te)|0,E=E+Math.imul(mt,ee)|0,A=A+Math.imul($,re)|0,d=d+Math.imul($,ne)|0,d=d+Math.imul(rt,re)|0,E=E+Math.imul(rt,ne)|0;var mo=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(mo>>>26)|0,mo&=67108863,A=Math.imul(o,j),d=Math.imul(o,G),d=d+Math.imul(l,j)|0,E=Math.imul(l,G),A=A+Math.imul(Tt,q)|0,d=d+Math.imul(Tt,Gt)|0,d=d+Math.imul(c,q)|0,E=E+Math.imul(c,Gt)|0,A=A+Math.imul(vt,jt)|0,d=d+Math.imul(vt,Wt)|0,d=d+Math.imul(Dt,jt)|0,E=E+Math.imul(Dt,Wt)|0,A=A+Math.imul(St,Yt)|0,d=d+Math.imul(St,Vt)|0,d=d+Math.imul(xt,Yt)|0,E=E+Math.imul(xt,Vt)|0,A=A+Math.imul(Et,Zt)|0,d=d+Math.imul(Et,Xt)|0,d=d+Math.imul(Rt,Zt)|0,E=E+Math.imul(Rt,Xt)|0,A=A+Math.imul(gt,Jt)|0,d=d+Math.imul(gt,$t)|0,d=d+Math.imul(_t,Jt)|0,E=E+Math.imul(_t,$t)|0,A=A+Math.imul(Ft,te)|0,d=d+Math.imul(Ft,ee)|0,d=d+Math.imul(It,te)|0,E=E+Math.imul(It,ee)|0,A=A+Math.imul(ct,re)|0,d=d+Math.imul(ct,ne)|0,d=d+Math.imul(mt,re)|0,E=E+Math.imul(mt,ne)|0,A=A+Math.imul($,ie)|0,d=d+Math.imul($,oe)|0,d=d+Math.imul(rt,ie)|0,E=E+Math.imul(rt,oe)|0;var Ao=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,A=Math.imul(w,j),d=Math.imul(w,G),d=d+Math.imul(b,j)|0,E=Math.imul(b,G),A=A+Math.imul(o,q)|0,d=d+Math.imul(o,Gt)|0,d=d+Math.imul(l,q)|0,E=E+Math.imul(l,Gt)|0,A=A+Math.imul(Tt,jt)|0,d=d+Math.imul(Tt,Wt)|0,d=d+Math.imul(c,jt)|0,E=E+Math.imul(c,Wt)|0,A=A+Math.imul(vt,Yt)|0,d=d+Math.imul(vt,Vt)|0,d=d+Math.imul(Dt,Yt)|0,E=E+Math.imul(Dt,Vt)|0,A=A+Math.imul(St,Zt)|0,d=d+Math.imul(St,Xt)|0,d=d+Math.imul(xt,Zt)|0,E=E+Math.imul(xt,Xt)|0,A=A+Math.imul(Et,Jt)|0,d=d+Math.imul(Et,$t)|0,d=d+Math.imul(Rt,Jt)|0,E=E+Math.imul(Rt,$t)|0,A=A+Math.imul(gt,te)|0,d=d+Math.imul(gt,ee)|0,d=d+Math.imul(_t,te)|0,E=E+Math.imul(_t,ee)|0,A=A+Math.imul(Ft,re)|0,d=d+Math.imul(Ft,ne)|0,d=d+Math.imul(It,re)|0,E=E+Math.imul(It,ne)|0,A=A+Math.imul(ct,ie)|0,d=d+Math.imul(ct,oe)|0,d=d+Math.imul(mt,ie)|0,E=E+Math.imul(mt,oe)|0,A=A+Math.imul($,se)|0,d=d+Math.imul($,ae)|0,d=d+Math.imul(rt,se)|0,E=E+Math.imul(rt,ae)|0;var xo=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(xo>>>26)|0,xo&=67108863,A=Math.imul(w,q),d=Math.imul(w,Gt),d=d+Math.imul(b,q)|0,E=Math.imul(b,Gt),A=A+Math.imul(o,jt)|0,d=d+Math.imul(o,Wt)|0,d=d+Math.imul(l,jt)|0,E=E+Math.imul(l,Wt)|0,A=A+Math.imul(Tt,Yt)|0,d=d+Math.imul(Tt,Vt)|0,d=d+Math.imul(c,Yt)|0,E=E+Math.imul(c,Vt)|0,A=A+Math.imul(vt,Zt)|0,d=d+Math.imul(vt,Xt)|0,d=d+Math.imul(Dt,Zt)|0,E=E+Math.imul(Dt,Xt)|0,A=A+Math.imul(St,Jt)|0,d=d+Math.imul(St,$t)|0,d=d+Math.imul(xt,Jt)|0,E=E+Math.imul(xt,$t)|0,A=A+Math.imul(Et,te)|0,d=d+Math.imul(Et,ee)|0,d=d+Math.imul(Rt,te)|0,E=E+Math.imul(Rt,ee)|0,A=A+Math.imul(gt,re)|0,d=d+Math.imul(gt,ne)|0,d=d+Math.imul(_t,re)|0,E=E+Math.imul(_t,ne)|0,A=A+Math.imul(Ft,ie)|0,d=d+Math.imul(Ft,oe)|0,d=d+Math.imul(It,ie)|0,E=E+Math.imul(It,oe)|0,A=A+Math.imul(ct,se)|0,d=d+Math.imul(ct,ae)|0,d=d+Math.imul(mt,se)|0,E=E+Math.imul(mt,ae)|0;var Bo=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,A=Math.imul(w,jt),d=Math.imul(w,Wt),d=d+Math.imul(b,jt)|0,E=Math.imul(b,Wt),A=A+Math.imul(o,Yt)|0,d=d+Math.imul(o,Vt)|0,d=d+Math.imul(l,Yt)|0,E=E+Math.imul(l,Vt)|0,A=A+Math.imul(Tt,Zt)|0,d=d+Math.imul(Tt,Xt)|0,d=d+Math.imul(c,Zt)|0,E=E+Math.imul(c,Xt)|0,A=A+Math.imul(vt,Jt)|0,d=d+Math.imul(vt,$t)|0,d=d+Math.imul(Dt,Jt)|0,E=E+Math.imul(Dt,$t)|0,A=A+Math.imul(St,te)|0,d=d+Math.imul(St,ee)|0,d=d+Math.imul(xt,te)|0,E=E+Math.imul(xt,ee)|0,A=A+Math.imul(Et,re)|0,d=d+Math.imul(Et,ne)|0,d=d+Math.imul(Rt,re)|0,E=E+Math.imul(Rt,ne)|0,A=A+Math.imul(gt,ie)|0,d=d+Math.imul(gt,oe)|0,d=d+Math.imul(_t,ie)|0,E=E+Math.imul(_t,oe)|0,A=A+Math.imul(Ft,se)|0,d=d+Math.imul(Ft,ae)|0,d=d+Math.imul(It,se)|0,E=E+Math.imul(It,ae)|0;var bo=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(bo>>>26)|0,bo&=67108863,A=Math.imul(w,Yt),d=Math.imul(w,Vt),d=d+Math.imul(b,Yt)|0,E=Math.imul(b,Vt),A=A+Math.imul(o,Zt)|0,d=d+Math.imul(o,Xt)|0,d=d+Math.imul(l,Zt)|0,E=E+Math.imul(l,Xt)|0,A=A+Math.imul(Tt,Jt)|0,d=d+Math.imul(Tt,$t)|0,d=d+Math.imul(c,Jt)|0,E=E+Math.imul(c,$t)|0,A=A+Math.imul(vt,te)|0,d=d+Math.imul(vt,ee)|0,d=d+Math.imul(Dt,te)|0,E=E+Math.imul(Dt,ee)|0,A=A+Math.imul(St,re)|0,d=d+Math.imul(St,ne)|0,d=d+Math.imul(xt,re)|0,E=E+Math.imul(xt,ne)|0,A=A+Math.imul(Et,ie)|0,d=d+Math.imul(Et,oe)|0,d=d+Math.imul(Rt,ie)|0,E=E+Math.imul(Rt,oe)|0,A=A+Math.imul(gt,se)|0,d=d+Math.imul(gt,ae)|0,d=d+Math.imul(_t,se)|0,E=E+Math.imul(_t,ae)|0;var Eo=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,A=Math.imul(w,Zt),d=Math.imul(w,Xt),d=d+Math.imul(b,Zt)|0,E=Math.imul(b,Xt),A=A+Math.imul(o,Jt)|0,d=d+Math.imul(o,$t)|0,d=d+Math.imul(l,Jt)|0,E=E+Math.imul(l,$t)|0,A=A+Math.imul(Tt,te)|0,d=d+Math.imul(Tt,ee)|0,d=d+Math.imul(c,te)|0,E=E+Math.imul(c,ee)|0,A=A+Math.imul(vt,re)|0,d=d+Math.imul(vt,ne)|0,d=d+Math.imul(Dt,re)|0,E=E+Math.imul(Dt,ne)|0,A=A+Math.imul(St,ie)|0,d=d+Math.imul(St,oe)|0,d=d+Math.imul(xt,ie)|0,E=E+Math.imul(xt,oe)|0,A=A+Math.imul(Et,se)|0,d=d+Math.imul(Et,ae)|0,d=d+Math.imul(Rt,se)|0,E=E+Math.imul(Rt,ae)|0;var vo=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(vo>>>26)|0,vo&=67108863,A=Math.imul(w,Jt),d=Math.imul(w,$t),d=d+Math.imul(b,Jt)|0,E=Math.imul(b,$t),A=A+Math.imul(o,te)|0,d=d+Math.imul(o,ee)|0,d=d+Math.imul(l,te)|0,E=E+Math.imul(l,ee)|0,A=A+Math.imul(Tt,re)|0,d=d+Math.imul(Tt,ne)|0,d=d+Math.imul(c,re)|0,E=E+Math.imul(c,ne)|0,A=A+Math.imul(vt,ie)|0,d=d+Math.imul(vt,oe)|0,d=d+Math.imul(Dt,ie)|0,E=E+Math.imul(Dt,oe)|0,A=A+Math.imul(St,se)|0,d=d+Math.imul(St,ae)|0,d=d+Math.imul(xt,se)|0,E=E+Math.imul(xt,ae)|0;var Io=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(Io>>>26)|0,Io&=67108863,A=Math.imul(w,te),d=Math.imul(w,ee),d=d+Math.imul(b,te)|0,E=Math.imul(b,ee),A=A+Math.imul(o,re)|0,d=d+Math.imul(o,ne)|0,d=d+Math.imul(l,re)|0,E=E+Math.imul(l,ne)|0,A=A+Math.imul(Tt,ie)|0,d=d+Math.imul(Tt,oe)|0,d=d+Math.imul(c,ie)|0,E=E+Math.imul(c,oe)|0,A=A+Math.imul(vt,se)|0,d=d+Math.imul(vt,ae)|0,d=d+Math.imul(Dt,se)|0,E=E+Math.imul(Dt,ae)|0;var So=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(So>>>26)|0,So&=67108863,A=Math.imul(w,re),d=Math.imul(w,ne),d=d+Math.imul(b,re)|0,E=Math.imul(b,ne),A=A+Math.imul(o,ie)|0,d=d+Math.imul(o,oe)|0,d=d+Math.imul(l,ie)|0,E=E+Math.imul(l,oe)|0,A=A+Math.imul(Tt,se)|0,d=d+Math.imul(Tt,ae)|0,d=d+Math.imul(c,se)|0,E=E+Math.imul(c,ae)|0;var Mo=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,A=Math.imul(w,ie),d=Math.imul(w,oe),d=d+Math.imul(b,ie)|0,E=Math.imul(b,oe),A=A+Math.imul(o,se)|0,d=d+Math.imul(o,ae)|0,d=d+Math.imul(l,se)|0,E=E+Math.imul(l,ae)|0;var ko=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(ko>>>26)|0,ko&=67108863,A=Math.imul(w,se),d=Math.imul(w,ae),d=d+Math.imul(b,se)|0,E=Math.imul(b,ae);var Uo=(F+A|0)+((d&8191)<<13)|0;return F=(E+(d>>>13)|0)+(Uo>>>26)|0,Uo&=67108863,k[0]=fo,k[1]=ho,k[2]=lo,k[3]=po,k[4]=go,k[5]=yo,k[6]=wo,k[7]=mo,k[8]=Ao,k[9]=xo,k[10]=Bo,k[11]=bo,k[12]=Eo,k[13]=vo,k[14]=Io,k[15]=So,k[16]=Mo,k[17]=ko,k[18]=Uo,F!==0&&(k[19]=F,m.length++),m};Math.imul||(Q=H);function N(I,u,p){p.negative=u.negative^I.negative,p.length=I.length+u.length;for(var m=0,B=0,v=0;v<p.length-1;v++){var k=B;B=0;for(var F=m&67108863,A=Math.min(v,u.length-1),d=Math.max(0,v-I.length+1);d<=A;d++){var E=v-d,et=I.words[E]|0,$=u.words[d]|0,rt=et*$,Ht=rt&67108863;k=k+(rt/67108864|0)|0,Ht=Ht+F|0,F=Ht&67108863,k=k+(Ht>>>26)|0,B+=k>>>26,k&=67108863}p.words[v]=F,m=k,k=B}return m!==0?p.words[v]=m:p.length--,p._strip()}function nt(I,u,p){return N(I,u,p)}s.prototype.mulTo=function(u,p){var m,B=this.length+u.length;return this.length===10&&u.length===10?m=Q(this,u,p):B<63?m=H(this,u,p):B<1024?m=N(this,u,p):m=nt(this,u,p),m},s.prototype.mul=function(u){var p=new s(null);return p.words=new Array(this.length+u.length),this.mulTo(u,p)},s.prototype.mulf=function(u){var p=new s(null);return p.words=new Array(this.length+u.length),nt(this,u,p)},s.prototype.imul=function(u){return this.clone().mulTo(u,this)},s.prototype.imuln=function(u){var p=u<0;p&&(u=-u),n(typeof u=="number"),n(u<67108864);for(var m=0,B=0;B<this.length;B++){var v=(this.words[B]|0)*u,k=(v&67108863)+(m&67108863);m>>=26,m+=v/67108864|0,m+=k>>>26,this.words[B]=k&67108863}return m!==0&&(this.words[B]=m,this.length++),p?this.ineg():this},s.prototype.muln=function(u){return this.clone().imuln(u)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(u){var p=T(u);if(p.length===0)return new s(1);for(var m=this,B=0;B<p.length&&p[B]===0;B++,m=m.sqr());if(++B<p.length)for(var v=m.sqr();B<p.length;B++,v=v.sqr())p[B]!==0&&(m=m.mul(v));return m},s.prototype.iushln=function(u){n(typeof u=="number"&&u>=0);var p=u%26,m=(u-p)/26,B=67108863>>>26-p<<26-p,v;if(p!==0){var k=0;for(v=0;v<this.length;v++){var F=this.words[v]&B,A=(this.words[v]|0)-F<<p;this.words[v]=A|k,k=F>>>26-p}k&&(this.words[v]=k,this.length++)}if(m!==0){for(v=this.length-1;v>=0;v--)this.words[v+m]=this.words[v];for(v=0;v<m;v++)this.words[v]=0;this.length+=m}return this._strip()},s.prototype.ishln=function(u){return n(this.negative===0),this.iushln(u)},s.prototype.iushrn=function(u,p,m){n(typeof u=="number"&&u>=0);var B;p?B=(p-p%26)/26:B=0;var v=u%26,k=Math.min((u-v)/26,this.length),F=67108863^67108863>>>v<<v,A=m;if(B-=k,B=Math.max(0,B),A){for(var d=0;d<k;d++)A.words[d]=this.words[d];A.length=k}if(k!==0)if(this.length>k)for(this.length-=k,d=0;d<this.length;d++)this.words[d]=this.words[d+k];else this.words[0]=0,this.length=1;var E=0;for(d=this.length-1;d>=0&&(E!==0||d>=B);d--){var et=this.words[d]|0;this.words[d]=E<<26-v|et>>>v,E=et&F}return A&&E!==0&&(A.words[A.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(u,p,m){return n(this.negative===0),this.iushrn(u,p,m)},s.prototype.shln=function(u){return this.clone().ishln(u)},s.prototype.ushln=function(u){return this.clone().iushln(u)},s.prototype.shrn=function(u){return this.clone().ishrn(u)},s.prototype.ushrn=function(u){return this.clone().iushrn(u)},s.prototype.testn=function(u){n(typeof u=="number"&&u>=0);var p=u%26,m=(u-p)/26,B=1<<p;if(this.length<=m)return!1;var v=this.words[m];return!!(v&B)},s.prototype.imaskn=function(u){n(typeof u=="number"&&u>=0);var p=u%26,m=(u-p)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(p!==0&&m++,this.length=Math.min(m,this.length),p!==0){var B=67108863^67108863>>>p<<p;this.words[this.length-1]&=B}return this._strip()},s.prototype.maskn=function(u){return this.clone().imaskn(u)},s.prototype.iaddn=function(u){return n(typeof u=="number"),n(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},s.prototype._iaddn=function(u){this.words[0]+=u;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},s.prototype.isubn=function(u){if(n(typeof u=="number"),n(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},s.prototype.addn=function(u){return this.clone().iaddn(u)},s.prototype.subn=function(u){return this.clone().isubn(u)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(u,p,m){var B=u.length+m,v;this._expand(B);var k,F=0;for(v=0;v<u.length;v++){k=(this.words[v+m]|0)+F;var A=(u.words[v]|0)*p;k-=A&67108863,F=(k>>26)-(A/67108864|0),this.words[v+m]=k&67108863}for(;v<this.length-m;v++)k=(this.words[v+m]|0)+F,F=k>>26,this.words[v+m]=k&67108863;if(F===0)return this._strip();for(n(F===-1),F=0,v=0;v<this.length;v++)k=-(this.words[v]|0)+F,F=k>>26,this.words[v]=k&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(u,p){var m=this.length-u.length,B=this.clone(),v=u,k=v.words[v.length-1]|0,F=this._countBits(k);m=26-F,m!==0&&(v=v.ushln(m),B.iushln(m),k=v.words[v.length-1]|0);var A=B.length-v.length,d;if(p!=="mod"){d=new s(null),d.length=A+1,d.words=new Array(d.length);for(var E=0;E<d.length;E++)d.words[E]=0}var et=B.clone()._ishlnsubmul(v,1,A);et.negative===0&&(B=et,d&&(d.words[A]=1));for(var $=A-1;$>=0;$--){var rt=(B.words[v.length+$]|0)*67108864+(B.words[v.length+$-1]|0);for(rt=Math.min(rt/k|0,67108863),B._ishlnsubmul(v,rt,$);B.negative!==0;)rt--,B.negative=0,B._ishlnsubmul(v,1,$),B.isZero()||(B.negative^=1);d&&(d.words[$]=rt)}return d&&d._strip(),B._strip(),p!=="div"&&m!==0&&B.iushrn(m),{div:d||null,mod:B}},s.prototype.divmod=function(u,p,m){if(n(!u.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var B,v,k;return this.negative!==0&&u.negative===0?(k=this.neg().divmod(u,p),p!=="mod"&&(B=k.div.neg()),p!=="div"&&(v=k.mod.neg(),m&&v.negative!==0&&v.iadd(u)),{div:B,mod:v}):this.negative===0&&u.negative!==0?(k=this.divmod(u.neg(),p),p!=="mod"&&(B=k.div.neg()),{div:B,mod:k.mod}):this.negative&u.negative?(k=this.neg().divmod(u.neg(),p),p!=="div"&&(v=k.mod.neg(),m&&v.negative!==0&&v.isub(u)),{div:k.div,mod:v}):u.length>this.length||this.cmp(u)<0?{div:new s(0),mod:this}:u.length===1?p==="div"?{div:this.divn(u.words[0]),mod:null}:p==="mod"?{div:null,mod:new s(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new s(this.modrn(u.words[0]))}:this._wordDiv(u,p)},s.prototype.div=function(u){return this.divmod(u,"div",!1).div},s.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},s.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},s.prototype.divRound=function(u){var p=this.divmod(u);if(p.mod.isZero())return p.div;var m=p.div.negative!==0?p.mod.isub(u):p.mod,B=u.ushrn(1),v=u.andln(1),k=m.cmp(B);return k<0||v===1&&k===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},s.prototype.modrn=function(u){var p=u<0;p&&(u=-u),n(u<=67108863);for(var m=(1<<26)%u,B=0,v=this.length-1;v>=0;v--)B=(m*B+(this.words[v]|0))%u;return p?-B:B},s.prototype.modn=function(u){return this.modrn(u)},s.prototype.idivn=function(u){var p=u<0;p&&(u=-u),n(u<=67108863);for(var m=0,B=this.length-1;B>=0;B--){var v=(this.words[B]|0)+m*67108864;this.words[B]=v/u|0,m=v%u}return this._strip(),p?this.ineg():this},s.prototype.divn=function(u){return this.clone().idivn(u)},s.prototype.egcd=function(u){n(u.negative===0),n(!u.isZero());var p=this,m=u.clone();p.negative!==0?p=p.umod(u):p=p.clone();for(var B=new s(1),v=new s(0),k=new s(0),F=new s(1),A=0;p.isEven()&&m.isEven();)p.iushrn(1),m.iushrn(1),++A;for(var d=m.clone(),E=p.clone();!p.isZero();){for(var et=0,$=1;!(p.words[0]&$)&&et<26;++et,$<<=1);if(et>0)for(p.iushrn(et);et-- >0;)(B.isOdd()||v.isOdd())&&(B.iadd(d),v.isub(E)),B.iushrn(1),v.iushrn(1);for(var rt=0,Ht=1;!(m.words[0]&Ht)&&rt<26;++rt,Ht<<=1);if(rt>0)for(m.iushrn(rt);rt-- >0;)(k.isOdd()||F.isOdd())&&(k.iadd(d),F.isub(E)),k.iushrn(1),F.iushrn(1);p.cmp(m)>=0?(p.isub(m),B.isub(k),v.isub(F)):(m.isub(p),k.isub(B),F.isub(v))}return{a:k,b:F,gcd:m.iushln(A)}},s.prototype._invmp=function(u){n(u.negative===0),n(!u.isZero());var p=this,m=u.clone();p.negative!==0?p=p.umod(u):p=p.clone();for(var B=new s(1),v=new s(0),k=m.clone();p.cmpn(1)>0&&m.cmpn(1)>0;){for(var F=0,A=1;!(p.words[0]&A)&&F<26;++F,A<<=1);if(F>0)for(p.iushrn(F);F-- >0;)B.isOdd()&&B.iadd(k),B.iushrn(1);for(var d=0,E=1;!(m.words[0]&E)&&d<26;++d,E<<=1);if(d>0)for(m.iushrn(d);d-- >0;)v.isOdd()&&v.iadd(k),v.iushrn(1);p.cmp(m)>=0?(p.isub(m),B.isub(v)):(m.isub(p),v.isub(B))}var et;return p.cmpn(1)===0?et=B:et=v,et.cmpn(0)<0&&et.iadd(u),et},s.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var p=this.clone(),m=u.clone();p.negative=0,m.negative=0;for(var B=0;p.isEven()&&m.isEven();B++)p.iushrn(1),m.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;m.isEven();)m.iushrn(1);var v=p.cmp(m);if(v<0){var k=p;p=m,m=k}else if(v===0||m.cmpn(1)===0)break;p.isub(m)}while(!0);return m.iushln(B)},s.prototype.invm=function(u){return this.egcd(u).a.umod(u)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(u){return this.words[0]&u},s.prototype.bincn=function(u){n(typeof u=="number");var p=u%26,m=(u-p)/26,B=1<<p;if(this.length<=m)return this._expand(m+1),this.words[m]|=B,this;for(var v=B,k=m;v!==0&&k<this.length;k++){var F=this.words[k]|0;F+=v,v=F>>>26,F&=67108863,this.words[k]=F}return v!==0&&(this.words[k]=v,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(u){var p=u<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var m;if(this.length>1)m=1;else{p&&(u=-u),n(u<=67108863,"Number is too big");var B=this.words[0]|0;m=B===u?0:B<u?-1:1}return this.negative!==0?-m|0:m},s.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var p=this.ucmp(u);return this.negative!==0?-p|0:p},s.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var p=0,m=this.length-1;m>=0;m--){var B=this.words[m]|0,v=u.words[m]|0;if(B!==v){B<v?p=-1:B>v&&(p=1);break}}return p},s.prototype.gtn=function(u){return this.cmpn(u)===1},s.prototype.gt=function(u){return this.cmp(u)===1},s.prototype.gten=function(u){return this.cmpn(u)>=0},s.prototype.gte=function(u){return this.cmp(u)>=0},s.prototype.ltn=function(u){return this.cmpn(u)===-1},s.prototype.lt=function(u){return this.cmp(u)===-1},s.prototype.lten=function(u){return this.cmpn(u)<=0},s.prototype.lte=function(u){return this.cmp(u)<=0},s.prototype.eqn=function(u){return this.cmpn(u)===0},s.prototype.eq=function(u){return this.cmp(u)===0},s.red=function(u){return new bt(u)},s.prototype.toRed=function(u){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(u){return this.red=u,this},s.prototype.forceRed=function(u){return n(!this.red,"Already a number in reduction context"),this._forceRed(u)},s.prototype.redAdd=function(u){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},s.prototype.redIAdd=function(u){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},s.prototype.redSub=function(u){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},s.prototype.redISub=function(u){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},s.prototype.redShl=function(u){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},s.prototype.redMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},s.prototype.redIMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(u){return n(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var J={k256:null,p224:null,p192:null,p25519:null};function ut(I,u){this.name=I,this.p=new s(u,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ut.prototype._tmp=function(){var u=new s(null);return u.words=new Array(Math.ceil(this.n/13)),u},ut.prototype.ireduce=function(u){var p=u,m;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),m=p.bitLength();while(m>this.n);var B=m<this.n?-1:p.ucmp(this.p);return B===0?(p.words[0]=0,p.length=1):B>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},ut.prototype.split=function(u,p){u.iushrn(this.n,0,p)},ut.prototype.imulK=function(u){return u.imul(this.k)};function Ut(){ut.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(Ut,ut),Ut.prototype.split=function(u,p){for(var m=4194303,B=Math.min(u.length,9),v=0;v<B;v++)p.words[v]=u.words[v];if(p.length=B,u.length<=9){u.words[0]=0,u.length=1;return}var k=u.words[9];for(p.words[p.length++]=k&m,v=10;v<u.length;v++){var F=u.words[v]|0;u.words[v-10]=(F&m)<<4|k>>>22,k=F}k>>>=22,u.words[v-10]=k,k===0&&u.length>10?u.length-=10:u.length-=9},Ut.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var p=0,m=0;m<u.length;m++){var B=u.words[m]|0;p+=B*977,u.words[m]=p&67108863,p=B*64+(p/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function Kt(){ut.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(Kt,ut);function ve(){ut.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(ve,ut);function Ke(){ut.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(Ke,ut),Ke.prototype.imulK=function(u){for(var p=0,m=0;m<u.length;m++){var B=(u.words[m]|0)*19+p,v=B&67108863;B>>>=26,u.words[m]=v,p=B}return p!==0&&(u.words[u.length++]=p),u},s._prime=function(u){if(J[u])return J[u];var p;if(u==="k256")p=new Ut;else if(u==="p224")p=new Kt;else if(u==="p192")p=new ve;else if(u==="p25519")p=new Ke;else throw new Error("Unknown prime "+u);return J[u]=p,p};function bt(I){if(typeof I=="string"){var u=s._prime(I);this.m=u.p,this.prime=u}else n(I.gtn(1),"modulus must be greater than 1"),this.m=I,this.prime=null}bt.prototype._verify1=function(u){n(u.negative===0,"red works only with positives"),n(u.red,"red works only with red numbers")},bt.prototype._verify2=function(u,p){n((u.negative|p.negative)===0,"red works only with positives"),n(u.red&&u.red===p.red,"red works only with red numbers")},bt.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(M(u,u.umod(this.m)._forceRed(this)),u)},bt.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},bt.prototype.add=function(u,p){this._verify2(u,p);var m=u.add(p);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},bt.prototype.iadd=function(u,p){this._verify2(u,p);var m=u.iadd(p);return m.cmp(this.m)>=0&&m.isub(this.m),m},bt.prototype.sub=function(u,p){this._verify2(u,p);var m=u.sub(p);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},bt.prototype.isub=function(u,p){this._verify2(u,p);var m=u.isub(p);return m.cmpn(0)<0&&m.iadd(this.m),m},bt.prototype.shl=function(u,p){return this._verify1(u),this.imod(u.ushln(p))},bt.prototype.imul=function(u,p){return this._verify2(u,p),this.imod(u.imul(p))},bt.prototype.mul=function(u,p){return this._verify2(u,p),this.imod(u.mul(p))},bt.prototype.isqr=function(u){return this.imul(u,u.clone())},bt.prototype.sqr=function(u){return this.mul(u,u)},bt.prototype.sqrt=function(u){if(u.isZero())return u.clone();var p=this.m.andln(3);if(n(p%2===1),p===3){var m=this.m.add(new s(1)).iushrn(2);return this.pow(u,m)}for(var B=this.m.subn(1),v=0;!B.isZero()&&B.andln(1)===0;)v++,B.iushrn(1);n(!B.isZero());var k=new s(1).toRed(this),F=k.redNeg(),A=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new s(2*d*d).toRed(this);this.pow(d,A).cmp(F)!==0;)d.redIAdd(F);for(var E=this.pow(d,B),et=this.pow(u,B.addn(1).iushrn(1)),$=this.pow(u,B),rt=v;$.cmp(k)!==0;){for(var Ht=$,ct=0;Ht.cmp(k)!==0;ct++)Ht=Ht.redSqr();n(ct<rt);var mt=this.pow(E,new s(1).iushln(rt-ct-1));et=et.redMul(mt),E=mt.redSqr(),$=$.redMul(E),rt=ct}return et},bt.prototype.invm=function(u){var p=u._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},bt.prototype.pow=function(u,p){if(p.isZero())return new s(1).toRed(this);if(p.cmpn(1)===0)return u.clone();var m=4,B=new Array(1<<m);B[0]=new s(1).toRed(this),B[1]=u;for(var v=2;v<B.length;v++)B[v]=this.mul(B[v-1],u);var k=B[0],F=0,A=0,d=p.bitLength()%26;for(d===0&&(d=26),v=p.length-1;v>=0;v--){for(var E=p.words[v],et=d-1;et>=0;et--){var $=E>>et&1;if(k!==B[0]&&(k=this.sqr(k)),$===0&&F===0){A=0;continue}F<<=1,F|=$,A++,!(A!==m&&(v!==0||et!==0))&&(k=this.mul(k,B[F]),A=0,F=0)}d=26}return k},bt.prototype.convertTo=function(u){var p=u.umod(this.m);return p===u?p.clone():p},bt.prototype.convertFrom=function(u){var p=u.clone();return p.red=null,p},s.mont=function(u){return new Ie(u)};function Ie(I){bt.call(this,I),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(Ie,bt),Ie.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},Ie.prototype.convertFrom=function(u){var p=this.imod(u.mul(this.rinv));return p.red=null,p},Ie.prototype.imul=function(u,p){if(u.isZero()||p.isZero())return u.words[0]=0,u.length=1,u;var m=u.imul(p),B=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=m.isub(B).iushrn(this.shift),k=v;return v.cmp(this.m)>=0?k=v.isub(this.m):v.cmpn(0)<0&&(k=v.iadd(this.m)),k._forceRed(this)},Ie.prototype.mul=function(u,p){if(u.isZero()||p.isZero())return new s(0)._forceRed(this);var m=u.mul(p),B=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=m.isub(B).iushrn(this.shift),k=v;return v.cmp(this.m)>=0?k=v.isub(this.m):v.cmpn(0)<0&&(k=v.iadd(this.m)),k._forceRed(this)},Ie.prototype.invm=function(u){var p=this.imod(u._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(r,ht)}(gi);var Yo=gi.exports;const Vo=Ot(Yo);var yi={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(r,t){var e=pe,n=e.Buffer;function a(h,f){for(var y in h)f[y]=h[y]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?r.exports=e:(a(e,t),t.Buffer=s);function s(h,f,y){return n(h,f,y)}s.prototype=Object.create(n.prototype),a(n,s),s.from=function(h,f,y){if(typeof h=="number")throw new TypeError("Argument must not be a number");return n(h,f,y)},s.alloc=function(h,f,y){if(typeof h!="number")throw new TypeError("Argument must be a number");var x=n(h);return f!==void 0?typeof y=="string"?x.fill(f,y):x.fill(f):x.fill(0),x},s.allocUnsafe=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return n(h)},s.allocUnsafeSlow=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return e.SlowBuffer(h)}})(yi,yi.exports);var Rc=yi.exports,In=Rc.Buffer;function Lc(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var n=0;n<r.length;n++){var a=r.charAt(n),s=a.charCodeAt(0);if(t[s]!==255)throw new TypeError(a+" is ambiguous");t[s]=n}var h=r.length,f=r.charAt(0),y=Math.log(h)/Math.log(256),x=Math.log(256)/Math.log(h);function M(C){if((Array.isArray(C)||C instanceof Uint8Array)&&(C=In.from(C)),!In.isBuffer(C))throw new TypeError("Expected Buffer");if(C.length===0)return"";for(var L=0,D=0,T=0,H=C.length;T!==H&&C[T]===0;)T++,L++;for(var Q=(H-T)*x+1>>>0,N=new Uint8Array(Q);T!==H;){for(var nt=C[T],J=0,ut=Q-1;(nt!==0||J<D)&&ut!==-1;ut--,J++)nt+=256*N[ut]>>>0,N[ut]=nt%h>>>0,nt=nt/h>>>0;if(nt!==0)throw new Error("Non-zero carry");D=J,T++}for(var Ut=Q-D;Ut!==Q&&N[Ut]===0;)Ut++;for(var Kt=f.repeat(L);Ut<Q;++Ut)Kt+=r.charAt(N[Ut]);return Kt}function S(C){if(typeof C!="string")throw new TypeError("Expected String");if(C.length===0)return In.alloc(0);for(var L=0,D=0,T=0;C[L]===f;)D++,L++;for(var H=(C.length-L)*y+1>>>0,Q=new Uint8Array(H);L<C.length;){var N=t[C.charCodeAt(L)];if(N===255)return;for(var nt=0,J=H-1;(N!==0||nt<T)&&J!==-1;J--,nt++)N+=h*Q[J]>>>0,Q[J]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");T=nt,L++}for(var ut=H-T;ut!==H&&Q[ut]===0;)ut++;var Ut=In.allocUnsafe(D+(H-ut));Ut.fill(0,0,D);for(var Kt=D;ut!==H;)Ut[Kt++]=Q[ut++];return Ut}function U(C){var L=S(C);if(L)return L;throw new Error("Non-base"+h+" character")}return{encode:M,decodeUnsafe:S,decode:U}}var Dc=Lc,Tc=Dc,Oc="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Zo=Tc(Oc);const Me=Ot(Zo),Pc=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ar=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),cr=new Uint32Array(64);class Nc extends Do{constructor(){super(64,32,8,!1),this.A=ar[0]|0,this.B=ar[1]|0,this.C=ar[2]|0,this.D=ar[3]|0,this.E=ar[4]|0,this.F=ar[5]|0,this.G=ar[6]|0,this.H=ar[7]|0}get(){const{A:t,B:e,C:n,D:a,E:s,F:h,G:f,H:y}=this;return[t,e,n,a,s,h,f,y]}set(t,e,n,a,s,h,f,y){this.A=t|0,this.B=e|0,this.C=n|0,this.D=a|0,this.E=s|0,this.F=h|0,this.G=f|0,this.H=y|0}process(t,e){for(let S=0;S<16;S++,e+=4)cr[S]=t.getUint32(e,!1);for(let S=16;S<64;S++){const U=cr[S-15],C=cr[S-2],L=We(U,7)^We(U,18)^U>>>3,D=We(C,17)^We(C,19)^C>>>10;cr[S]=D+cr[S-7]+L+cr[S-16]|0}let{A:n,B:a,C:s,D:h,E:f,F:y,G:x,H:M}=this;for(let S=0;S<64;S++){const U=We(f,6)^We(f,11)^We(f,25),C=M+U+Va(f,y,x)+Pc[S]+cr[S]|0,D=(We(n,2)^We(n,13)^We(n,22))+Za(n,a,s)|0;M=x,x=y,y=f,f=h+C|0,h=s,s=a,a=n,n=C+D|0}n=n+this.A|0,a=a+this.B|0,s=s+this.C|0,h=h+this.D|0,f=f+this.E|0,y=y+this.F|0,x=x+this.G|0,M=M+this.H|0,this.set(n,a,s,h,f,y,x,M)}roundClean(){cr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const wi=Lo(()=>new Nc);var ye={};function $e(r,t,e){return t<=r&&r<=e}function Sn(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function Hc(r){for(var t=String(r),e=t.length,n=0,a=[];n<e;){var s=t.charCodeAt(n);if(s<55296||s>57343)a.push(s);else if(56320<=s&&s<=57343)a.push(65533);else if(55296<=s&&s<=56319)if(n===e-1)a.push(65533);else{var h=r.charCodeAt(n+1);if(56320<=h&&h<=57343){var f=s&1023,y=h&1023;a.push(65536+(f<<10)+y),n+=1}else a.push(65533)}n+=1}return a}function zc(r){for(var t="",e=0;e<r.length;++e){var n=r[e];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return t}var Mn=-1;function mi(r){this.tokens=[].slice.call(r)}mi.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Mn},prepend:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.push(t.shift());else this.tokens.push(r)}};var Cr=-1;function Ai(r,t){if(r)throw TypeError("Decoder error");return t||65533}var kn="utf-8";function Un(r,t){if(!(this instanceof Un))return new Un(r,t);if(r=r!==void 0?String(r).toLowerCase():kn,r!==kn)throw new Error("Encoding not supported. Only utf-8 is supported");t=Sn(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Un.prototype={decode:function(t,e){var n;typeof t=="object"&&t instanceof ArrayBuffer?n=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):n=new Uint8Array(0),e=Sn(e),this._streaming||(this._decoder=new Kc({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!e.stream;for(var a=new mi(n),s=[],h;!a.endOfStream()&&(h=this._decoder.handler(a,a.read()),h!==Cr);)h!==null&&(Array.isArray(h)?s.push.apply(s,h):s.push(h));if(!this._streaming){do{if(h=this._decoder.handler(a,a.read()),h===Cr)break;h!==null&&(Array.isArray(h)?s.push.apply(s,h):s.push(h))}while(!a.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),zc(s)}};function Cn(r,t){if(!(this instanceof Cn))return new Cn(r,t);if(r=r!==void 0?String(r).toLowerCase():kn,r!==kn)throw new Error("Encoding not supported. Only utf-8 is supported");t=Sn(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Cn.prototype={encode:function(t,e){t=t?String(t):"",e=Sn(e),this._streaming||(this._encoder=new Qc(this._options)),this._streaming=!!e.stream;for(var n=[],a=new mi(Hc(t)),s;!a.endOfStream()&&(s=this._encoder.handler(a,a.read()),s!==Cr);)Array.isArray(s)?n.push.apply(n,s):n.push(s);if(!this._streaming){for(;s=this._encoder.handler(a,a.read()),s!==Cr;)Array.isArray(s)?n.push.apply(n,s):n.push(s);this._encoder=null}return new Uint8Array(n)}};function Kc(r){var t=r.fatal,e=0,n=0,a=0,s=128,h=191;this.handler=function(f,y){if(y===Mn&&a!==0)return a=0,Ai(t);if(y===Mn)return Cr;if(a===0){if($e(y,0,127))return y;if($e(y,194,223))a=1,e=y-192;else if($e(y,224,239))y===224&&(s=160),y===237&&(h=159),a=2,e=y-224;else if($e(y,240,244))y===240&&(s=144),y===244&&(h=143),a=3,e=y-240;else return Ai(t);return e=e<<6*a,null}if(!$e(y,s,h))return e=a=n=0,s=128,h=191,f.prepend(y),Ai(t);if(s=128,h=191,n+=1,e+=y-128<<6*(a-n),n!==a)return null;var x=e;return e=a=n=0,x}}function Qc(r){r.fatal,this.handler=function(t,e){if(e===Mn)return Cr;if($e(e,0,127))return e;var n,a;$e(e,128,2047)?(n=1,a=192):$e(e,2048,65535)?(n=2,a=224):$e(e,65536,1114111)&&(n=3,a=240);for(var s=[(e>>6*n)+a];n>0;){var h=e>>6*(n-1);s.push(128|h&63),n-=1}return s}}const qc=ce(Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Un,TextEncoder:Cn},Symbol.toStringTag,{value:"Module"})));var Gc=ht&&ht.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),jc=ht&&ht.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),Ve=ht&&ht.__decorate||function(r,t,e,n){var a=arguments.length,s=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,n);else for(var f=r.length-1;f>=0;f--)(h=r[f])&&(s=(a<3?h(s):a>3?h(t,e,s):h(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},Wc=ht&&ht.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.hasOwnProperty.call(r,e)&&Gc(t,r,e);return jc(t,r),t},Xo=ht&&ht.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ye,"__esModule",{value:!0});var Jo=ye.deserializeUnchecked=is=ye.deserialize=ns=ye.serialize=ye.BinaryReader=ye.BinaryWriter=ye.BorshError=ye.baseDecode=ye.baseEncode=void 0;const ur=Xo(Yo),$o=Xo(Zo),Yc=Wc(qc),Vc=typeof TextDecoder!="function"?Yc.TextDecoder:TextDecoder,Zc=new Vc("utf-8",{fatal:!0});function Xc(r){return typeof r=="string"&&(r=X.Buffer.from(r,"utf8")),$o.default.encode(X.Buffer.from(r))}ye.baseEncode=Xc;function Jc(r){return X.Buffer.from($o.default.decode(r))}ye.baseDecode=Jc;const xi=1024;class ke extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}ye.BorshError=ke;class ts{constructor(){this.buf=X.Buffer.alloc(xi),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=X.Buffer.concat([this.buf,X.Buffer.alloc(xi)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(X.Buffer.from(new ur.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(X.Buffer.from(new ur.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(X.Buffer.from(new ur.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(X.Buffer.from(new ur.default(t).toArray("le",64)))}writeBuffer(t){this.buf=X.Buffer.concat([X.Buffer.from(this.buf.subarray(0,this.length)),t,X.Buffer.alloc(xi)]),this.length+=t.length}writeString(t){this.maybeResize();const e=X.Buffer.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(X.Buffer.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const n of t)this.maybeResize(),e(n)}toArray(){return this.buf.subarray(0,this.length)}}ye.BinaryWriter=ts;function Ze(r,t,e){const n=e.value;e.value=function(...a){try{return n.apply(this,a)}catch(s){if(s instanceof RangeError){const h=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(h)>=0)throw new ke("Reached the end of buffer when deserializing")}throw s}}}class _e{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new ur.default(t,"le")}readU128(){const t=this.readBuffer(16);return new ur.default(t,"le")}readU256(){const t=this.readBuffer(32);return new ur.default(t,"le")}readU512(){const t=this.readBuffer(64);return new ur.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new ke(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return Zc.decode(e)}catch(n){throw new ke(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),n=Array();for(let a=0;a<e;++a)n.push(t());return n}}Ve([Ze],_e.prototype,"readU8",null),Ve([Ze],_e.prototype,"readU16",null),Ve([Ze],_e.prototype,"readU32",null),Ve([Ze],_e.prototype,"readU64",null),Ve([Ze],_e.prototype,"readU128",null),Ve([Ze],_e.prototype,"readU256",null),Ve([Ze],_e.prototype,"readU512",null),Ve([Ze],_e.prototype,"readString",null),Ve([Ze],_e.prototype,"readFixedArray",null),Ve([Ze],_e.prototype,"readArray",null),ye.BinaryReader=_e;function es(r){return r.charAt(0).toUpperCase()+r.slice(1)}function wr(r,t,e,n,a){try{if(typeof n=="string")a[`write${es(n)}`](e);else if(n instanceof Array)if(typeof n[0]=="number"){if(e.length!==n[0])throw new ke(`Expecting byte array of length ${n[0]}, but got ${e.length} bytes`);a.writeFixedArray(e)}else if(n.length===2&&typeof n[1]=="number"){if(e.length!==n[1])throw new ke(`Expecting byte array of length ${n[1]}, but got ${e.length} bytes`);for(let s=0;s<n[1];s++)wr(r,null,e[s],n[0],a)}else a.writeArray(e,s=>{wr(r,t,s,n[0],a)});else if(n.kind!==void 0)switch(n.kind){case"option":{e==null?a.writeU8(0):(a.writeU8(1),wr(r,t,e,n.type,a));break}case"map":{a.writeU32(e.size),e.forEach((s,h)=>{wr(r,t,h,n.key,a),wr(r,t,s,n.value,a)});break}default:throw new ke(`FieldType ${n} unrecognized`)}else rs(r,e,a)}catch(s){throw s instanceof ke&&s.addToFieldPath(t),s}}function rs(r,t,e){if(typeof t.borshSerialize=="function"){t.borshSerialize(e);return}const n=r.get(t.constructor);if(!n)throw new ke(`Class ${t.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([a,s])=>{wr(r,a,t[a],s,e)});else if(n.kind==="enum"){const a=t[n.field];for(let s=0;s<n.values.length;++s){const[h,f]=n.values[s];if(h===a){e.writeU8(s),wr(r,h,t[h],f,e);break}}}else throw new ke(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function $c(r,t,e=ts){const n=new e;return rs(r,t,n),n.toArray()}var ns=ye.serialize=$c;function mr(r,t,e,n){try{if(typeof e=="string")return n[`read${es(e)}`]();if(e instanceof Array){if(typeof e[0]=="number")return n.readFixedArray(e[0]);if(typeof e[1]=="number"){const a=[];for(let s=0;s<e[1];s++)a.push(mr(r,null,e[0],n));return a}else return n.readArray(()=>mr(r,t,e[0],n))}if(e.kind==="option")return n.readU8()?mr(r,t,e.type,n):void 0;if(e.kind==="map"){let a=new Map;const s=n.readU32();for(let h=0;h<s;h++){const f=mr(r,t,e.key,n),y=mr(r,t,e.value,n);a.set(f,y)}return a}return Bi(r,e,n)}catch(a){throw a instanceof ke&&a.addToFieldPath(t),a}}function Bi(r,t,e){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(e);const n=r.get(t);if(!n)throw new ke(`Class ${t.name} is missing in schema`);if(n.kind==="struct"){const a={};for(const[s,h]of r.get(t).fields)a[s]=mr(r,s,h,e);return new t(a)}if(n.kind==="enum"){const a=e.readU8();if(a>=n.values.length)throw new ke(`Enum index: ${a} is out of range`);const[s,h]=n.values[a],f=mr(r,s,h,e);return new t({[s]:f})}throw new ke(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function tu(r,t,e,n=_e){const a=new n(e),s=Bi(r,t,a);if(a.offset<e.length)throw new ke(`Unexpected ${e.length-a.offset} bytes after deserialized data`);return s}var is=ye.deserialize=tu;function eu(r,t,e,n=_e){const a=new n(e);return Bi(r,t,a)}Jo=ye.deserializeUnchecked=eu;var _={};Object.defineProperty(_,"__esModule",{value:!0}),_.s16=_.s8=_.nu64be=_.u48be=_.u40be=_.u32be=_.u24be=_.u16be=we=_.nu64=_.u48=_.u40=tt=_.u32=_.u24=He=_.u16=yt=_.u8=xr=_.offset=_.greedy=_.Constant=_.UTF8=_.CString=_.Blob=_.Boolean=_.BitField=_.BitStructure=_.VariantLayout=_.Union=_.UnionLayoutDiscriminator=_.UnionDiscriminator=_.Structure=_.Sequence=_.DoubleBE=_.Double=_.FloatBE=_.Float=_.NearInt64BE=_.NearInt64=_.NearUInt64BE=_.NearUInt64=_.IntBE=_.Int=_.UIntBE=_.UInt=_.OffsetLayout=_.GreedyCount=_.ExternalLayout=_.bindConstructorLayout=_.nameWithProperty=_.Layout=_.uint8ArrayToBuffer=_.checkUint8Array=void 0,_.constant=_.utf8=_.cstr=kt=_.blob=_.unionLayoutDiscriminator=_.union=Ue=_.seq=_.bits=Z=_.struct=_.f64be=_.f64=_.f32be=_.f32=_.ns64be=_.s48be=_.s40be=_.s32be=_.s24be=_.s16be=Re=_.ns64=_.s48=_.s40=_.s32=_.s24=void 0;const bi=pe;function Fr(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}_.checkUint8Array=Fr;function pt(r){return Fr(r),bi.Buffer.from(r.buffer,r.byteOffset,r.length)}_.uint8ArrayToBuffer=pt;class Bt{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}_.Layout=Bt;function Ei(r,t){return t.property?r+"["+t.property+"]":r}_.nameWithProperty=Ei;function ru(r,t){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof Bt))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=t,t.boundConstructor_=r,t.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(r,"decode",{value(e,n){return t.decode(e,n)},writable:!0})}_.bindConstructorLayout=ru;class Ce extends Bt{isCount(){throw new Error("ExternalLayout is abstract")}}_.ExternalLayout=Ce;class os extends Ce{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e=0){Fr(t);const n=t.length-e;return Math.floor(n/this.elementSpan)}encode(t,e,n){return 0}}_.GreedyCount=os;class vi extends Ce{constructor(t,e=0,n){if(!(t instanceof Bt))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof Ne||this.layout instanceof Qe}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,n=0){return this.layout.encode(t,e,n+this.offset)}}_.OffsetLayout=vi;class Ne extends Bt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return pt(t).readUIntLE(e,this.span)}encode(t,e,n=0){return pt(e).writeUIntLE(t,n,this.span),this.span}}_.UInt=Ne;class Qe extends Bt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return pt(t).readUIntBE(e,this.span)}encode(t,e,n=0){return pt(e).writeUIntBE(t,n,this.span),this.span}}_.UIntBE=Qe;class Ar extends Bt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return pt(t).readIntLE(e,this.span)}encode(t,e,n=0){return pt(e).writeIntLE(t,n,this.span),this.span}}_.Int=Ar;class _r extends Bt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return pt(t).readIntBE(e,this.span)}encode(t,e,n=0){return pt(e).writeIntBE(t,n,this.span),this.span}}_.IntBE=_r;const Ii=Math.pow(2,32);function Fn(r){const t=Math.floor(r/Ii),e=r-t*Ii;return{hi32:t,lo32:e}}function _n(r,t){return r*Ii+t}class ss extends Bt{constructor(t){super(8,t)}decode(t,e=0){const n=pt(t),a=n.readUInt32LE(e),s=n.readUInt32LE(e+4);return _n(s,a)}encode(t,e,n=0){const a=Fn(t),s=pt(e);return s.writeUInt32LE(a.lo32,n),s.writeUInt32LE(a.hi32,n+4),8}}_.NearUInt64=ss;class as extends Bt{constructor(t){super(8,t)}decode(t,e=0){const n=pt(t),a=n.readUInt32BE(e),s=n.readUInt32BE(e+4);return _n(a,s)}encode(t,e,n=0){const a=Fn(t),s=pt(e);return s.writeUInt32BE(a.hi32,n),s.writeUInt32BE(a.lo32,n+4),8}}_.NearUInt64BE=as;class cs extends Bt{constructor(t){super(8,t)}decode(t,e=0){const n=pt(t),a=n.readUInt32LE(e),s=n.readInt32LE(e+4);return _n(s,a)}encode(t,e,n=0){const a=Fn(t),s=pt(e);return s.writeUInt32LE(a.lo32,n),s.writeInt32LE(a.hi32,n+4),8}}_.NearInt64=cs;class us extends Bt{constructor(t){super(8,t)}decode(t,e=0){const n=pt(t),a=n.readInt32BE(e),s=n.readUInt32BE(e+4);return _n(a,s)}encode(t,e,n=0){const a=Fn(t),s=pt(e);return s.writeInt32BE(a.hi32,n),s.writeUInt32BE(a.lo32,n+4),8}}_.NearInt64BE=us;class fs extends Bt{constructor(t){super(4,t)}decode(t,e=0){return pt(t).readFloatLE(e)}encode(t,e,n=0){return pt(e).writeFloatLE(t,n),4}}_.Float=fs;class hs extends Bt{constructor(t){super(4,t)}decode(t,e=0){return pt(t).readFloatBE(e)}encode(t,e,n=0){return pt(e).writeFloatBE(t,n),4}}_.FloatBE=hs;class ls extends Bt{constructor(t){super(8,t)}decode(t,e=0){return pt(t).readDoubleLE(e)}encode(t,e,n=0){return pt(e).writeDoubleLE(t,n),8}}_.Double=ls;class ds extends Bt{constructor(t){super(8,t)}decode(t,e=0){return pt(t).readDoubleBE(e)}encode(t,e,n=0){return pt(e).writeDoubleBE(t,n),8}}_.DoubleBE=ds;class ps extends Bt{constructor(t,e,n){if(!(t instanceof Bt))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof Ce&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let a=-1;!(e instanceof Ce)&&0<t.span&&(a=e*t.span),super(a,n),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0,a=this.count;if(a instanceof Ce&&(a=a.decode(t,e)),0<this.elementLayout.span)n=a*this.elementLayout.span;else{let s=0;for(;s<a;)n+=this.elementLayout.getSpan(t,e+n),++s}return n}decode(t,e=0){const n=[];let a=0,s=this.count;for(s instanceof Ce&&(s=s.decode(t,e));a<s;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),a+=1;return n}encode(t,e,n=0){const a=this.elementLayout,s=t.reduce((h,f)=>h+a.encode(f,e,n+h),0);return this.count instanceof Ce&&this.count.encode(t.length,e,n),s}}_.Sequence=ps;class gs extends Bt{constructor(t,e,n){if(!(Array.isArray(t)&&t.reduce((s,h)=>s&&h instanceof Bt,!0)))throw new TypeError("fields must be array of Layout instances");typeof e=="boolean"&&n===void 0&&(n=e,e=void 0);for(const s of t)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let a=-1;try{a=t.reduce((s,h)=>s+h.getSpan(),0)}catch{}super(a,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((a,s)=>{const h=s.getSpan(t,e);return e+=h,a+h},0)}catch{throw new RangeError("indeterminate span")}return n}decode(t,e=0){Fr(t);const n=this.makeDestinationObject();for(const a of this.fields)if(a.property!==void 0&&(n[a.property]=a.decode(t,e)),e+=a.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n=0){const a=n;let s=0,h=0;for(const f of this.fields){let y=f.span;if(h=0<y?y:0,f.property!==void 0){const x=t[f.property];x!==void 0&&(h=f.encode(x,e,n),0>y&&(y=f.getSpan(e,n)))}s=n,n+=y}return s+h-a}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}_.Structure=gs;class Si{constructor(t){this.property=t}decode(t,e){throw new Error("UnionDiscriminator is abstract")}encode(t,e,n){throw new Error("UnionDiscriminator is abstract")}}_.UnionDiscriminator=Si;class Rn extends Si{constructor(t,e){if(!(t instanceof Ce&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}_.UnionLayoutDiscriminator=Rn;class Mi extends Bt{constructor(t,e,n){let a;if(t instanceof Ne||t instanceof Qe)a=new Rn(new vi(t));else if(t instanceof Ce&&t.isCount())a=new Rn(t);else if(t instanceof Si)a=t;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(e===void 0&&(e=null),!(e===null||e instanceof Bt))throw new TypeError("defaultLayout must be null or a Layout");if(e!==null){if(0>e.span)throw new Error("defaultLayout must have constant span");e.property===void 0&&(e=e.replicate("content"))}let s=-1;e&&(s=e.span,0<=s&&(t instanceof Ne||t instanceof Qe)&&(s+=a.layout.span)),super(s,n),this.discriminator=a,this.usesPrefixDiscriminator=t instanceof Ne||t instanceof Qe,this.defaultLayout=e,this.registry={};let h=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(f){return h(f)},this.configGetSourceVariant=function(f){h=f.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(n.property&&Object.prototype.hasOwnProperty.call(t,n.property))return n}throw new Error("unable to infer src variant")}decode(t,e=0){let n;const a=this.discriminator,s=a.decode(t,e),h=this.registry[s];if(h===void 0){const f=this.defaultLayout;let y=0;this.usesPrefixDiscriminator&&(y=a.layout.span),n=this.makeDestinationObject(),n[a.property]=s,n[f.property]=f.decode(t,e+y)}else n=h.decode(t,e);return n}encode(t,e,n=0){const a=this.getSourceVariant(t);if(a===void 0){const s=this.discriminator,h=this.defaultLayout;let f=0;return this.usesPrefixDiscriminator&&(f=s.layout.span),s.encode(t[s.property],e,n),f+h.encode(t[h.property],e,n+f)}return a.encode(t,e,n)}addVariant(t,e,n){const a=new ys(this,t,e,n);return this.registry[t]=a,a}getVariant(t,e=0){let n;return t instanceof Uint8Array?n=this.discriminator.decode(t,e):n=t,this.registry[n]}}_.Union=Mi;class ys extends Bt{constructor(t,e,n,a){if(!(t instanceof Mi))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&a===void 0&&(a=n,n=null),n){if(!(n instanceof Bt))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof a!="string")throw new TypeError("variant must have a String property")}let s=t.span;0>t.span&&(s=n?n.span:0,0<=s&&t.usesPrefixDiscriminator&&(s+=t.discriminator.layout.span)),super(s,a),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let a=0;return this.layout&&(a=this.layout.getSpan(t,e+n)),n+a}decode(t,e=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let a=0;return this.union.usesPrefixDiscriminator&&(a=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+a):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n=0){let a=0;if(this.union.usesPrefixDiscriminator&&(a=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let s=a;if(this.layout&&(this.layout.encode(t[this.property],e,n+a),s+=this.layout.getSpan(e,n+a),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}_.VariantLayout=ys;function Rr(r){return 0>r&&(r+=4294967296),r}class ki extends Bt{constructor(t,e,n){if(!(t instanceof Ne||t instanceof Qe))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof e=="string"&&n===void 0&&(n=e,e=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!e,this.fields=[];let a=0;this._packedSetValue=function(s){return a=Rr(s),this},this._packedGetValue=function(){return a}}decode(t,e=0){const n=this.makeDestinationObject(),a=this.word.decode(t,e);this._packedSetValue(a);for(const s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(t));return n}encode(t,e,n=0){const a=this.word.decode(e,n);this._packedSetValue(a);for(const s of this.fields)if(s.property!==void 0){const h=t[s.property];h!==void 0&&s.encode(h)}return this.word.encode(this._packedGetValue(),e,n)}addField(t,e){const n=new Ui(this,t,e);return this.fields.push(n),n}addBoolean(t){const e=new ws(this,t);return this.fields.push(e),e}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}_.BitStructure=ki;class Ui{constructor(t,e,n){if(!(t instanceof ki))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const a=8*t.span,s=t.fields.reduce((h,f)=>h+f.bits,0);if(e+s>a)throw new Error("bits too long for span remainder ("+(a-s)+" of "+a+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,e===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=a-s-e),this.wordMask=Rr(this.valueMask<<this.start),this.property=n}decode(t,e){const n=this.container._packedGetValue();return Rr(n&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==Rr(t&this.valueMask))throw new TypeError(Ei("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),n=Rr(t<<this.start);this.container._packedSetValue(Rr(e&~this.wordMask)|n)}}_.BitField=Ui;let ws=class extends Ui{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}};_.Boolean=ws;class ms extends Bt{constructor(t,e){if(!(t instanceof Ce&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof Ce||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e=0){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),pt(t).slice(e,e+n)}encode(t,e,n){let a=this.length;if(this.length instanceof Ce&&(a=t.length),!(t instanceof Uint8Array&&a===t.length))throw new TypeError(Ei("Blob.encode",this)+" requires (length "+a+") Uint8Array as src");if(n+a>e.length)throw new RangeError("encoding overruns Uint8Array");const s=pt(t);return pt(e).write(s.toString("hex"),n,a,"hex"),this.length instanceof Ce&&this.length.encode(a,e,n),a}}_.Blob=ms;class As extends Bt{constructor(t){super(-1,t)}getSpan(t,e=0){Fr(t);let n=e;for(;n<t.length&&t[n]!==0;)n+=1;return 1+n-e}decode(t,e=0){const n=this.getSpan(t,e);return pt(t).slice(e,e+n-1).toString("utf-8")}encode(t,e,n=0){typeof t!="string"&&(t=String(t));const a=bi.Buffer.from(t,"utf8"),s=a.length;if(n+s>e.length)throw new RangeError("encoding overruns Buffer");const h=pt(e);return a.copy(h,n),h[n+s]=0,s+1}}_.CString=As;class xs extends Bt{constructor(t,e){if(typeof t=="string"&&e===void 0&&(e=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e=0){return Fr(t),t.length-e}decode(t,e=0){const n=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return pt(t).slice(e,e+n).toString("utf-8")}encode(t,e,n=0){typeof t!="string"&&(t=String(t));const a=bi.Buffer.from(t,"utf8"),s=a.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>e.length)throw new RangeError("encoding overruns Buffer");return a.copy(pt(e),n),s}}_.UTF8=xs;class Bs extends Bt{constructor(t,e){super(0,e),this.value=t}decode(t,e){return this.value}encode(t,e,n){return 0}}_.Constant=Bs,_.greedy=(r,t)=>new os(r,t);var xr=_.offset=(r,t,e)=>new vi(r,t,e),yt=_.u8=r=>new Ne(1,r),He=_.u16=r=>new Ne(2,r);_.u24=r=>new Ne(3,r);var tt=_.u32=r=>new Ne(4,r);_.u40=r=>new Ne(5,r),_.u48=r=>new Ne(6,r);var we=_.nu64=r=>new ss(r);_.u16be=r=>new Qe(2,r),_.u24be=r=>new Qe(3,r),_.u32be=r=>new Qe(4,r),_.u40be=r=>new Qe(5,r),_.u48be=r=>new Qe(6,r),_.nu64be=r=>new as(r),_.s8=r=>new Ar(1,r),_.s16=r=>new Ar(2,r),_.s24=r=>new Ar(3,r),_.s32=r=>new Ar(4,r),_.s40=r=>new Ar(5,r),_.s48=r=>new Ar(6,r);var Re=_.ns64=r=>new cs(r);_.s16be=r=>new _r(2,r),_.s24be=r=>new _r(3,r),_.s32be=r=>new _r(4,r),_.s40be=r=>new _r(5,r),_.s48be=r=>new _r(6,r),_.ns64be=r=>new us(r),_.f32=r=>new fs(r),_.f32be=r=>new hs(r),_.f64=r=>new ls(r),_.f64be=r=>new ds(r);var Z=_.struct=(r,t,e)=>new gs(r,t,e);_.bits=(r,t,e)=>new ki(r,t,e);var Ue=_.seq=(r,t,e)=>new ps(r,t,e);_.union=(r,t,e)=>new Mi(r,t,e),_.unionLayoutDiscriminator=(r,t)=>new Rn(r,t);var kt=_.blob=(r,t)=>new ms(r,t);_.cstr=r=>new As(r),_.utf8=(r,t)=>new xs(r,t),_.constant=(r,t)=>new Bs(r,t);var tn={};Object.defineProperty(tn,"__esModule",{value:!0});function nu(r){{const t=pe.Buffer.from(r);t.reverse();const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}var iu=tn.toBigIntLE=nu;function ou(r){{const t=r.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}}tn.toBigIntBE=ou;function su(r,t){{const e=r.toString(16),n=pe.Buffer.from(e.padStart(t*2,"0").slice(0,t*2),"hex");return n.reverse(),n}}var au=tn.toBufferLE=su;function cu(r,t){{const e=r.toString(16);return pe.Buffer.from(e.padStart(t*2,"0").slice(0,t*2),"hex")}}tn.toBufferBE=cu;class uu extends TypeError{constructor(t,e){let n;const{message:a,...s}=t,{path:h}=t,f=h.length===0?a:"At path: "+h.join(".")+" -- "+a;super(f),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var y;return(y=n)!=null?y:n=[t,...e()]}}}function fu(r){return fr(r)&&typeof r[Symbol.iterator]=="function"}function fr(r){return typeof r=="object"&&r!=null}function qe(r){return typeof r=="string"?JSON.stringify(r):""+r}function hu(r){const{done:t,value:e}=r.next();return t?void 0:e}function lu(r,t,e,n){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});const{path:a,branch:s}=t,{type:h}=e,{refinement:f,message:y="Expected a value of type `"+h+"`"+(f?" with refinement `"+f+"`":"")+", but received: `"+qe(n)+"`"}=r;return{value:n,type:h,refinement:f,key:a[a.length-1],path:a,branch:s,...r,message:y}}function*bs(r,t,e,n){fu(r)||(r=[r]);for(const a of r){const s=lu(a,t,e,n);s&&(yield s)}}function*Ci(r,t,e={}){const{path:n=[],branch:a=[r],coerce:s=!1,mask:h=!1}=e,f={path:n,branch:a};if(s&&(r=t.coercer(r,f),h&&t.type!=="type"&&fr(t.schema)&&fr(r)&&!Array.isArray(r)))for(const x in r)t.schema[x]===void 0&&delete r[x];let y=!0;for(const x of t.validator(r,f))y=!1,yield[x,void 0];for(let[x,M,S]of t.entries(r,f)){const U=Ci(M,S,{path:x===void 0?n:[...n,x],branch:x===void 0?a:[...a,M],coerce:s,mask:h});for(const C of U)C[0]?(y=!1,yield[C[0],void 0]):s&&(M=C[1],x===void 0?r=M:r instanceof Map?r.set(x,M):r instanceof Set?r.add(M):fr(r)&&(r[x]=M))}if(y)for(const x of t.refiner(r,f))y=!1,yield[x,void 0];y&&(yield[void 0,r])}let Xe=class{constructor(t){const{type:e,schema:n,validator:a,refiner:s,coercer:h=y=>y,entries:f=function*(){}}=t;this.type=e,this.schema=n,this.entries=f,this.coercer=h,a?this.validator=(y,x)=>{const M=a(y,x);return bs(M,x,this,y)}:this.validator=()=>[],s?this.refiner=(y,x)=>{const M=s(y,x);return bs(M,x,this,y)}:this.refiner=()=>[]}assert(t){return du(t,this)}create(t){return en(t,this)}is(t){return Es(t,this)}mask(t){return pu(t,this)}validate(t,e={}){return rn(t,this,e)}};function du(r,t){const e=rn(r,t);if(e[0])throw e[0]}function en(r,t){const e=rn(r,t,{coerce:!0});if(e[0])throw e[0];return e[1]}function pu(r,t){const e=rn(r,t,{coerce:!0,mask:!0});if(e[0])throw e[0];return e[1]}function Es(r,t){return!rn(r,t)[0]}function rn(r,t,e={}){const n=Ci(r,t,e),a=hu(n);return a[0]?[new uu(a[0],function*(){for(const h of n)h[0]&&(yield h[0])}),void 0]:[void 0,a[1]]}function Br(r,t){return new Xe({type:r,schema:null,validator:t})}function gu(){return Br("any",()=>!0)}function W(r){return new Xe({type:"array",schema:r,*entries(t){if(r&&Array.isArray(t))for(const[e,n]of t.entries())yield[e,n,r]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||"Expected an array value, but received: "+qe(t)}})}function tr(){return Br("boolean",r=>typeof r=="boolean")}function Fi(r){return Br("instance",t=>t instanceof r||"Expected a `"+r.name+"` instance, but received: "+qe(t))}function Pt(r){const t=qe(r),e=typeof r;return new Xe({type:"literal",schema:e==="string"||e==="number"||e==="boolean"?r:null,validator(n){return n===r||"Expected the literal `"+t+"`, but received: "+qe(n)}})}function yu(){return Br("never",()=>!1)}function Y(r){return new Xe({...r,validator:(t,e)=>t===null||r.validator(t,e),refiner:(t,e)=>t===null||r.refiner(t,e)})}function R(){return Br("number",r=>typeof r=="number"&&!isNaN(r)||"Expected a number, but received: "+qe(r))}function ot(r){return new Xe({...r,validator:(t,e)=>t===void 0||r.validator(t,e),refiner:(t,e)=>t===void 0||r.refiner(t,e)})}function vs(r,t){return new Xe({type:"record",schema:null,*entries(e){if(fr(e))for(const n in e){const a=e[n];yield[n,n,r],yield[n,a,t]}},validator(e){return fr(e)||"Expected an object, but received: "+qe(e)}})}function z(){return Br("string",r=>typeof r=="string"||"Expected a string, but received: "+qe(r))}function _i(r){const t=yu();return new Xe({type:"tuple",schema:null,*entries(e){if(Array.isArray(e)){const n=Math.max(r.length,e.length);for(let a=0;a<n;a++)yield[a,e[a],r[a]||t]}},validator(e){return Array.isArray(e)||"Expected an array, but received: "+qe(e)}})}function P(r){const t=Object.keys(r);return new Xe({type:"type",schema:r,*entries(e){if(fr(e))for(const n of t)yield[n,e[n],r[n]]},validator(e){return fr(e)||"Expected an object, but received: "+qe(e)}})}function Fe(r){const t=r.map(e=>e.type).join(" | ");return new Xe({type:"union",schema:null,validator(e,n){const a=[];for(const s of r){const[...h]=Ci(e,s,n),[f]=h;if(f[0])for(const[y]of h)y&&a.push(y);else return[]}return["Expected the value to satisfy a union of `"+t+"`, but received: "+qe(e),...a]}})}function nn(){return Br("unknown",()=>!0)}function on(r,t,e){return new Xe({...r,coercer:(n,a)=>Es(n,t)?r.coercer(e(n,a),a):r.coercer(n,a)})}var Ri={},Li={},Is={exports:{}};(function(r){var t=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function a(y,x,M){this.fn=y,this.context=x,this.once=M||!1}function s(y,x,M,S,U){if(typeof M!="function")throw new TypeError("The listener must be a function");var C=new a(M,S||y,U),L=e?e+x:x;return y._events[L]?y._events[L].fn?y._events[L]=[y._events[L],C]:y._events[L].push(C):(y._events[L]=C,y._eventsCount++),y}function h(y,x){--y._eventsCount===0?y._events=new n:delete y._events[x]}function f(){this._events=new n,this._eventsCount=0}f.prototype.eventNames=function(){var x=[],M,S;if(this._eventsCount===0)return x;for(S in M=this._events)t.call(M,S)&&x.push(e?S.slice(1):S);return Object.getOwnPropertySymbols?x.concat(Object.getOwnPropertySymbols(M)):x},f.prototype.listeners=function(x){var M=e?e+x:x,S=this._events[M];if(!S)return[];if(S.fn)return[S.fn];for(var U=0,C=S.length,L=new Array(C);U<C;U++)L[U]=S[U].fn;return L},f.prototype.listenerCount=function(x){var M=e?e+x:x,S=this._events[M];return S?S.fn?1:S.length:0},f.prototype.emit=function(x,M,S,U,C,L){var D=e?e+x:x;if(!this._events[D])return!1;var T=this._events[D],H=arguments.length,Q,N;if(T.fn){switch(T.once&&this.removeListener(x,T.fn,void 0,!0),H){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,M),!0;case 3:return T.fn.call(T.context,M,S),!0;case 4:return T.fn.call(T.context,M,S,U),!0;case 5:return T.fn.call(T.context,M,S,U,C),!0;case 6:return T.fn.call(T.context,M,S,U,C,L),!0}for(N=1,Q=new Array(H-1);N<H;N++)Q[N-1]=arguments[N];T.fn.apply(T.context,Q)}else{var nt=T.length,J;for(N=0;N<nt;N++)switch(T[N].once&&this.removeListener(x,T[N].fn,void 0,!0),H){case 1:T[N].fn.call(T[N].context);break;case 2:T[N].fn.call(T[N].context,M);break;case 3:T[N].fn.call(T[N].context,M,S);break;case 4:T[N].fn.call(T[N].context,M,S,U);break;default:if(!Q)for(J=1,Q=new Array(H-1);J<H;J++)Q[J-1]=arguments[J];T[N].fn.apply(T[N].context,Q)}}return!0},f.prototype.on=function(x,M,S){return s(this,x,M,S,!1)},f.prototype.once=function(x,M,S){return s(this,x,M,S,!0)},f.prototype.removeListener=function(x,M,S,U){var C=e?e+x:x;if(!this._events[C])return this;if(!M)return h(this,C),this;var L=this._events[C];if(L.fn)L.fn===M&&(!U||L.once)&&(!S||L.context===S)&&h(this,C);else{for(var D=0,T=[],H=L.length;D<H;D++)(L[D].fn!==M||U&&!L[D].once||S&&L[D].context!==S)&&T.push(L[D]);T.length?this._events[C]=T.length===1?T[0]:T:h(this,C)}return this},f.prototype.removeAllListeners=function(x){var M;return x?(M=e?e+x:x,this._events[M]&&h(this,M)):(this._events=new n,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=e,f.EventEmitter=f,r.exports=f})(Is);var Ss=Is.exports;Object.defineProperty(Li,"__esModule",{value:!0});const wu=Ss;class mu extends wu.EventEmitter{constructor(e,n,a){super();de(this,"socket");this.socket=new window.WebSocket(e,a),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=s=>this.emit("message",s.data),this.socket.onerror=s=>this.emit("error",s),this.socket.onclose=s=>{this.emit("close",s.code,s.reason)}}send(e,n,a){const s=a||n;try{this.socket.send(e),s()}catch(h){s(h)}}close(e,n){this.socket.close(e,n)}addEventListener(e,n,a){this.socket.addEventListener(e,n,a)}}function Au(r,t){return new mu(r,t)}Li.default=Au;var Di={},Lr={};Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.createError=Lr.DefaultDataPack=void 0;const xu=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]);class Bu{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}}Lr.DefaultDataPack=Bu;function bu(r,t){const e={code:r,message:xu.get(r)||"Internal Server Error"};return t&&(e.data=t),e}Lr.createError=bu,Object.defineProperty(Di,"__esModule",{value:!0});const Eu=Ss,vu=Lr;class Iu extends Eu.EventEmitter{constructor(e,n="ws://localhost:8080",{autoconnect:a=!0,reconnect:s=!0,reconnect_interval:h=1e3,max_reconnects:f=5,...y}={},x,M){super();de(this,"address");de(this,"rpc_id");de(this,"queue");de(this,"options");de(this,"autoconnect");de(this,"ready");de(this,"reconnect");de(this,"reconnect_timer_id");de(this,"reconnect_interval");de(this,"max_reconnects");de(this,"rest_options");de(this,"current_reconnects");de(this,"generate_request_id");de(this,"socket");de(this,"webSocketFactory");de(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=a,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=h,this.max_reconnects=f,this.rest_options=y,this.current_reconnects=0,this.generate_request_id=x||(()=>++this.rpc_id),M?this.dataPack=M:this.dataPack=new vu.DefaultDataPack,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,n,a,s){return!s&&typeof a=="object"&&(s=a,a=null),new Promise((h,f)=>{if(!this.ready)return f(new Error("socket not ready"));const y=this.generate_request_id(e,n),x={jsonrpc:"2.0",method:e,params:n||void 0,id:y};this.socket.send(this.dataPack.encode(x),s,M=>{if(M)return f(M);this.queue[y]={promise:[h,f]},a&&(this.queue[y].timeout=setTimeout(()=>{delete this.queue[y],f(new Error("reply timeout"))},a))})})}async login(e){const n=await this.call("rpc.login",e);if(!n)throw new Error("authentication failed");return n}async listMethods(){return await this.call("__listMethods")}notify(e,n){return new Promise((a,s)=>{if(!this.ready)return s(new Error("socket not ready"));const h={jsonrpc:"2.0",method:e,params:n};this.socket.send(this.dataPack.encode(h),f=>{if(f)return s(f);a()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.on",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+n[e]);return n}async unsubscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.off",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+n);return n}close(e,n){this.socket.close(e||1e3,n)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,n){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,n),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:a})=>{a instanceof ArrayBuffer&&(a=pe.Buffer.from(a).toString());try{a=this.dataPack.decode(a)}catch{return}if(a.notification&&this.listeners(a.notification).length){if(!Object.keys(a.params).length)return this.emit(a.notification);const s=[a.notification];if(a.params.constructor===Object)s.push(a.params);else for(let h=0;h<a.params.length;h++)s.push(a.params[h]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[a.id])return a.method?Promise.resolve().then(()=>{this.emit(a.method,a==null?void 0:a.params)}):void 0;"error"in a=="result"in a&&this.queue[a.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[a.id].timeout&&clearTimeout(this.queue[a.id].timeout),a.error?this.queue[a.id].promise[1](a.error):this.queue[a.id].promise[0](a.result),delete this.queue[a.id]}),this.socket.addEventListener("error",a=>this.emit("error",a)),this.socket.addEventListener("close",({code:a,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",a,s),0),this.ready=!1,this.socket=void 0,a!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,n),this.reconnect_interval)))})}}Di.default=Iu;var Ms=ht&&ht.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.Client=void 0;const Su=Ms(Li),Mu=Ms(Di);class ku extends Mu.default{constructor(t="ws://localhost:8080",{autoconnect:e=!0,reconnect:n=!0,reconnect_interval:a=1e3,max_reconnects:s=5}={},h){super(Su.default,t,{autoconnect:e,reconnect:n,reconnect_interval:a,max_reconnects:s},h)}}Ri.Client=ku;var Ln,Uu=new Uint8Array(16);function ks(){if(!Ln&&(Ln=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Ln))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ln(Uu)}const Cu=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Dn(r){return typeof r=="string"&&Cu.test(r)}for(var me=[],Ti=0;Ti<256;++Ti)me.push((Ti+256).toString(16).substr(1));function Tn(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(me[r[t+0]]+me[r[t+1]]+me[r[t+2]]+me[r[t+3]]+"-"+me[r[t+4]]+me[r[t+5]]+"-"+me[r[t+6]]+me[r[t+7]]+"-"+me[r[t+8]]+me[r[t+9]]+"-"+me[r[t+10]]+me[r[t+11]]+me[r[t+12]]+me[r[t+13]]+me[r[t+14]]+me[r[t+15]]).toLowerCase();if(!Dn(e))throw TypeError("Stringified UUID is invalid");return e}var Us,Oi,Pi=0,Ni=0;function Fu(r,t,e){var n=t&&e||0,a=t||new Array(16);r=r||{};var s=r.node||Us,h=r.clockseq!==void 0?r.clockseq:Oi;if(s==null||h==null){var f=r.random||(r.rng||ks)();s==null&&(s=Us=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),h==null&&(h=Oi=(f[6]<<8|f[7])&16383)}var y=r.msecs!==void 0?r.msecs:Date.now(),x=r.nsecs!==void 0?r.nsecs:Ni+1,M=y-Pi+(x-Ni)/1e4;if(M<0&&r.clockseq===void 0&&(h=h+1&16383),(M<0||y>Pi)&&r.nsecs===void 0&&(x=0),x>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Pi=y,Ni=x,Oi=h,y+=122192928e5;var S=((y&268435455)*1e4+x)%4294967296;a[n++]=S>>>24&255,a[n++]=S>>>16&255,a[n++]=S>>>8&255,a[n++]=S&255;var U=y/4294967296*1e4&268435455;a[n++]=U>>>8&255,a[n++]=U&255,a[n++]=U>>>24&15|16,a[n++]=U>>>16&255,a[n++]=h>>>8|128,a[n++]=h&255;for(var C=0;C<6;++C)a[n+C]=s[C];return t||Tn(a)}function Cs(r){if(!Dn(r))throw TypeError("Invalid UUID");var t,e=new Uint8Array(16);return e[0]=(t=parseInt(r.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(r.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(r.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(r.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(r.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}function _u(r){r=unescape(encodeURIComponent(r));for(var t=[],e=0;e<r.length;++e)t.push(r.charCodeAt(e));return t}var Ru="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Lu="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Fs(r,t,e){function n(a,s,h,f){if(typeof a=="string"&&(a=_u(a)),typeof s=="string"&&(s=Cs(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var y=new Uint8Array(16+a.length);if(y.set(s),y.set(a,s.length),y=e(y),y[6]=y[6]&15|t,y[8]=y[8]&63|128,h){f=f||0;for(var x=0;x<16;++x)h[f+x]=y[x];return h}return Tn(y)}try{n.name=r}catch{}return n.DNS=Ru,n.URL=Lu,n}function Du(r){if(typeof r=="string"){var t=unescape(encodeURIComponent(r));r=new Uint8Array(t.length);for(var e=0;e<t.length;++e)r[e]=t.charCodeAt(e)}return Tu(Ou(Pu(r),r.length*8))}function Tu(r){for(var t=[],e=r.length*32,n="0123456789abcdef",a=0;a<e;a+=8){var s=r[a>>5]>>>a%32&255,h=parseInt(n.charAt(s>>>4&15)+n.charAt(s&15),16);t.push(h)}return t}function _s(r){return(r+64>>>9<<4)+14+1}function Ou(r,t){r[t>>5]|=128<<t%32,r[_s(t)-1]=t;for(var e=1732584193,n=-271733879,a=-1732584194,s=271733878,h=0;h<r.length;h+=16){var f=e,y=n,x=a,M=s;e=Ae(e,n,a,s,r[h],7,-680876936),s=Ae(s,e,n,a,r[h+1],12,-389564586),a=Ae(a,s,e,n,r[h+2],17,606105819),n=Ae(n,a,s,e,r[h+3],22,-1044525330),e=Ae(e,n,a,s,r[h+4],7,-176418897),s=Ae(s,e,n,a,r[h+5],12,1200080426),a=Ae(a,s,e,n,r[h+6],17,-1473231341),n=Ae(n,a,s,e,r[h+7],22,-45705983),e=Ae(e,n,a,s,r[h+8],7,1770035416),s=Ae(s,e,n,a,r[h+9],12,-1958414417),a=Ae(a,s,e,n,r[h+10],17,-42063),n=Ae(n,a,s,e,r[h+11],22,-1990404162),e=Ae(e,n,a,s,r[h+12],7,1804603682),s=Ae(s,e,n,a,r[h+13],12,-40341101),a=Ae(a,s,e,n,r[h+14],17,-1502002290),n=Ae(n,a,s,e,r[h+15],22,1236535329),e=xe(e,n,a,s,r[h+1],5,-165796510),s=xe(s,e,n,a,r[h+6],9,-1069501632),a=xe(a,s,e,n,r[h+11],14,643717713),n=xe(n,a,s,e,r[h],20,-373897302),e=xe(e,n,a,s,r[h+5],5,-701558691),s=xe(s,e,n,a,r[h+10],9,38016083),a=xe(a,s,e,n,r[h+15],14,-660478335),n=xe(n,a,s,e,r[h+4],20,-405537848),e=xe(e,n,a,s,r[h+9],5,568446438),s=xe(s,e,n,a,r[h+14],9,-1019803690),a=xe(a,s,e,n,r[h+3],14,-187363961),n=xe(n,a,s,e,r[h+8],20,1163531501),e=xe(e,n,a,s,r[h+13],5,-1444681467),s=xe(s,e,n,a,r[h+2],9,-51403784),a=xe(a,s,e,n,r[h+7],14,1735328473),n=xe(n,a,s,e,r[h+12],20,-1926607734),e=Be(e,n,a,s,r[h+5],4,-378558),s=Be(s,e,n,a,r[h+8],11,-2022574463),a=Be(a,s,e,n,r[h+11],16,1839030562),n=Be(n,a,s,e,r[h+14],23,-35309556),e=Be(e,n,a,s,r[h+1],4,-1530992060),s=Be(s,e,n,a,r[h+4],11,1272893353),a=Be(a,s,e,n,r[h+7],16,-155497632),n=Be(n,a,s,e,r[h+10],23,-1094730640),e=Be(e,n,a,s,r[h+13],4,681279174),s=Be(s,e,n,a,r[h],11,-358537222),a=Be(a,s,e,n,r[h+3],16,-722521979),n=Be(n,a,s,e,r[h+6],23,76029189),e=Be(e,n,a,s,r[h+9],4,-640364487),s=Be(s,e,n,a,r[h+12],11,-421815835),a=Be(a,s,e,n,r[h+15],16,530742520),n=Be(n,a,s,e,r[h+2],23,-995338651),e=be(e,n,a,s,r[h],6,-198630844),s=be(s,e,n,a,r[h+7],10,1126891415),a=be(a,s,e,n,r[h+14],15,-1416354905),n=be(n,a,s,e,r[h+5],21,-57434055),e=be(e,n,a,s,r[h+12],6,1700485571),s=be(s,e,n,a,r[h+3],10,-1894986606),a=be(a,s,e,n,r[h+10],15,-1051523),n=be(n,a,s,e,r[h+1],21,-2054922799),e=be(e,n,a,s,r[h+8],6,1873313359),s=be(s,e,n,a,r[h+15],10,-30611744),a=be(a,s,e,n,r[h+6],15,-1560198380),n=be(n,a,s,e,r[h+13],21,1309151649),e=be(e,n,a,s,r[h+4],6,-145523070),s=be(s,e,n,a,r[h+11],10,-1120210379),a=be(a,s,e,n,r[h+2],15,718787259),n=be(n,a,s,e,r[h+9],21,-343485551),e=hr(e,f),n=hr(n,y),a=hr(a,x),s=hr(s,M)}return[e,n,a,s]}function Pu(r){if(r.length===0)return[];for(var t=r.length*8,e=new Uint32Array(_s(t)),n=0;n<t;n+=8)e[n>>5]|=(r[n/8]&255)<<n%32;return e}function hr(r,t){var e=(r&65535)+(t&65535),n=(r>>16)+(t>>16)+(e>>16);return n<<16|e&65535}function Nu(r,t){return r<<t|r>>>32-t}function On(r,t,e,n,a,s){return hr(Nu(hr(hr(t,r),hr(n,s)),a),e)}function Ae(r,t,e,n,a,s,h){return On(t&e|~t&n,r,t,a,s,h)}function xe(r,t,e,n,a,s,h){return On(t&n|e&~n,r,t,a,s,h)}function Be(r,t,e,n,a,s,h){return On(t^e^n,r,t,a,s,h)}function be(r,t,e,n,a,s,h){return On(e^(t|~n),r,t,a,s,h)}var Hu=Fs("v3",48,Du);const zu=Hu;function Ku(r,t,e){r=r||{};var n=r.random||(r.rng||ks)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){e=e||0;for(var a=0;a<16;++a)t[e+a]=n[a];return t}return Tn(n)}function Qu(r,t,e,n){switch(r){case 0:return t&e^~t&n;case 1:return t^e^n;case 2:return t&e^t&n^e&n;case 3:return t^e^n}}function Hi(r,t){return r<<t|r>>>32-t}function qu(r){var t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var a=0;a<n.length;++a)r.push(n.charCodeAt(a))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var s=r.length/4+2,h=Math.ceil(s/16),f=new Array(h),y=0;y<h;++y){for(var x=new Uint32Array(16),M=0;M<16;++M)x[M]=r[y*64+M*4]<<24|r[y*64+M*4+1]<<16|r[y*64+M*4+2]<<8|r[y*64+M*4+3];f[y]=x}f[h-1][14]=(r.length-1)*8/Math.pow(2,32),f[h-1][14]=Math.floor(f[h-1][14]),f[h-1][15]=(r.length-1)*8&4294967295;for(var S=0;S<h;++S){for(var U=new Uint32Array(80),C=0;C<16;++C)U[C]=f[S][C];for(var L=16;L<80;++L)U[L]=Hi(U[L-3]^U[L-8]^U[L-14]^U[L-16],1);for(var D=e[0],T=e[1],H=e[2],Q=e[3],N=e[4],nt=0;nt<80;++nt){var J=Math.floor(nt/20),ut=Hi(D,5)+Qu(J,T,H,Q)+N+t[J]+U[nt]>>>0;N=Q,Q=H,H=Hi(T,30)>>>0,T=D,D=ut}e[0]=e[0]+D>>>0,e[1]=e[1]+T>>>0,e[2]=e[2]+H>>>0,e[3]=e[3]+Q>>>0,e[4]=e[4]+N>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var Gu=Fs("v5",80,qu);const ju=Gu,Wu="00000000-0000-0000-0000-000000000000";function Yu(r){if(!Dn(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}const Rs=ce(Object.freeze(Object.defineProperty({__proto__:null,NIL:Wu,parse:Cs,stringify:Tn,v1:Fu,v3:zu,v4:Ku,v5:ju,validate:Dn,version:Yu},Symbol.toStringTag,{value:"Module"}))),Vu=Rs.v4;var Zu=function(r,t,e,n){if(typeof r!="string")throw new TypeError(r+" must be a string");n=n||{};const a=typeof n.version=="number"?n.version:2;if(a!==1&&a!==2)throw new TypeError(a+" must be 1 or 2");const s={method:r};if(a===2&&(s.jsonrpc="2.0"),t){if(typeof t!="object"&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");s.params=t}if(typeof e>"u"){const h=typeof n.generator=="function"?n.generator:function(){return Vu()};s.id=h(s,n)}else a===2&&e===null?n.notificationIdNull&&(s.id=null):s.id=e;return s};const Xu=Rs.v4,Ju=Zu,Pn=function(r,t){if(!(this instanceof Pn))return new Pn(r,t);t||(t={}),this.options={reviver:typeof t.reviver<"u"?t.reviver:null,replacer:typeof t.replacer<"u"?t.replacer:null,generator:typeof t.generator<"u"?t.generator:function(){return Xu()},version:typeof t.version<"u"?t.version:2,notificationIdNull:typeof t.notificationIdNull=="boolean"?t.notificationIdNull:!1},this.callServer=r};Pn.prototype.request=function(r,t,e,n){const a=this;let s=null;const h=Array.isArray(r)&&typeof t=="function";if(this.options.version===1&&h)throw new TypeError("JSON-RPC 1.0 does not support batching");if(h||!h&&r&&typeof r=="object"&&typeof t=="function")n=t,s=r;else{typeof e=="function"&&(n=e,e=void 0);const x=typeof n=="function";try{s=Ju(r,t,e,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(M){if(x)return n(M);throw M}if(!x)return s}let y;try{y=JSON.stringify(s,this.options.replacer)}catch(x){return n(x)}return this.callServer(y,function(x,M){a._parseResponse(x,M,n)}),s},Pn.prototype._parseResponse=function(r,t,e){if(r){e(r);return}if(!t)return e();let n;try{n=JSON.parse(t,this.options.reviver)}catch(a){return e(a)}if(e.length===3)if(Array.isArray(n)){const a=function(h){return typeof h.error<"u"},s=function(h){return!a(h)};return e(null,n.filter(a),n.filter(s))}else return e(null,n.error,n.result);e(null,n)};class Ls extends Ro{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,Ga(t);const n=ii(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const a=this.blockLen,s=new Uint8Array(a);s.set(n.length>a?t.create().update(n).digest():n);for(let h=0;h<s.length;h++)s[h]^=54;this.iHash.update(s),this.oHash=t.create();for(let h=0;h<s.length;h++)s[h]^=106;this.oHash.update(s),s.fill(0)}update(t){return An(this),this.iHash.update(t),this}digestInto(t){An(this),ri(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:n,finished:a,destroyed:s,blockLen:h,outputLen:f}=this;return t=t,t.finished=a,t.destroyed=s,t.blockLen=h,t.outputLen=f,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Ds=(r,t,e)=>new Ls(r,t).update(e).digest();Ds.create=(r,t)=>new Ls(r,t);/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const At=BigInt(0),Nt=BigInt(1),lr=BigInt(2),sn=BigInt(3),Ts=BigInt(8),ue=Object.freeze({a:At,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Nt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),Os=(r,t)=>(r+t/lr)/t,Nn={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(r){const{n:t}=ue,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Nt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=e,h=BigInt("0x100000000000000000000000000000000"),f=Os(s*r,t),y=Os(-n*r,t);let x=V(r-f*e-y*a,t),M=V(-f*n-y*s,t);const S=x>h,U=M>h;if(S&&(x=t-x),U&&(M=t-M),x>h||M>h)throw new Error("splitScalarEndo: Endomorphism failed, k="+r);return{k1neg:S,k1:x,k2neg:U,k2:M}}},Dr=32,an=32,Ps=Dr+1,Ns=2*Dr+1;function Hs(r){const{a:t,b:e}=ue,n=V(r*r),a=V(n*r);return V(a+t*r+e)}const Hn=ue.a===At;class $u extends Error{constructor(t){super(t)}}function zs(r){if(!(r instanceof wt))throw new TypeError("JacobianPoint expected")}class wt{constructor(t,e,n){this.x=t,this.y=e,this.z=n}static fromAffine(t){if(!(t instanceof zt))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(zt.ZERO)?wt.ZERO:new wt(t.x,t.y,Nt)}static toAffineBatch(t){const e=of(t.map(n=>n.z));return t.map((n,a)=>n.toAffine(e[a]))}static normalizeZ(t){return wt.toAffineBatch(t).map(wt.fromAffine)}equals(t){zs(t);const{x:e,y:n,z:a}=this,{x:s,y:h,z:f}=t,y=V(a*a),x=V(f*f),M=V(e*x),S=V(s*y),U=V(V(n*f)*x),C=V(V(h*a)*y);return M===S&&U===C}negate(){return new wt(this.x,V(-this.y),this.z)}double(){const{x:t,y:e,z:n}=this,a=V(t*t),s=V(e*e),h=V(s*s),f=t+s,y=V(lr*(V(f*f)-a-h)),x=V(sn*a),M=V(x*x),S=V(M-lr*y),U=V(x*(y-S)-Ts*h),C=V(lr*e*n);return new wt(S,U,C)}add(t){zs(t);const{x:e,y:n,z:a}=this,{x:s,y:h,z:f}=t;if(s===At||h===At)return this;if(e===At||n===At)return t;const y=V(a*a),x=V(f*f),M=V(e*x),S=V(s*y),U=V(V(n*f)*x),C=V(V(h*a)*y),L=V(S-M),D=V(C-U);if(L===At)return D===At?this.double():wt.ZERO;const T=V(L*L),H=V(L*T),Q=V(M*T),N=V(D*D-H-lr*Q),nt=V(D*(Q-N)-U*H),J=V(a*f*L);return new wt(N,nt,J)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const e=wt.ZERO;if(typeof t=="bigint"&&t===At)return e;let n=Gs(t);if(n===Nt)return this;if(!Hn){let S=e,U=this;for(;n>At;)n&Nt&&(S=S.add(U)),U=U.double(),n>>=Nt;return S}let{k1neg:a,k1:s,k2neg:h,k2:f}=Nn.splitScalar(n),y=e,x=e,M=this;for(;s>At||f>At;)s&Nt&&(y=y.add(M)),f&Nt&&(x=x.add(M)),M=M.double(),s>>=Nt,f>>=Nt;return a&&(y=y.negate()),h&&(x=x.negate()),x=new wt(V(x.x*Nn.beta),x.y,x.z),y.add(x)}precomputeWindow(t){const e=Hn?128/t+1:256/t+1,n=[];let a=this,s=a;for(let h=0;h<e;h++){s=a,n.push(s);for(let f=1;f<2**(t-1);f++)s=s.add(a),n.push(s);a=s.double()}return n}wNAF(t,e){!e&&this.equals(wt.BASE)&&(e=zt.BASE);const n=e&&e._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let a=e&&zi.get(e);a||(a=this.precomputeWindow(n),e&&n!==1&&(a=wt.normalizeZ(a),zi.set(e,a)));let s=wt.ZERO,h=wt.BASE;const f=1+(Hn?128/n:256/n),y=2**(n-1),x=BigInt(2**n-1),M=2**n,S=BigInt(n);for(let U=0;U<f;U++){const C=U*y;let L=Number(t&x);t>>=S,L>y&&(L-=M,t+=Nt);const D=C,T=C+Math.abs(L)-1,H=U%2!==0,Q=L<0;L===0?h=h.add(zn(H,a[D])):s=s.add(zn(Q,a[T]))}return{p:s,f:h}}multiply(t,e){let n=Gs(t),a,s;if(Hn){const{k1neg:h,k1:f,k2neg:y,k2:x}=Nn.splitScalar(n);let{p:M,f:S}=this.wNAF(f,e),{p:U,f:C}=this.wNAF(x,e);M=zn(h,M),U=zn(y,U),U=new wt(V(U.x*Nn.beta),U.y,U.z),a=M.add(U),s=S.add(C)}else{const{p:h,f}=this.wNAF(n,e);a=h,s=f}return wt.normalizeZ([a,s])[0]}toAffine(t){const{x:e,y:n,z:a}=this,s=this.equals(wt.ZERO);t==null&&(t=s?Ts:Qn(a));const h=t,f=V(h*h),y=V(f*h),x=V(e*f),M=V(n*y),S=V(a*h);if(s)return zt.ZERO;if(S!==Nt)throw new Error("invZ was invalid");return new zt(x,M)}}wt.BASE=new wt(ue.Gx,ue.Gy,Nt),wt.ZERO=new wt(At,Nt,At);function zn(r,t){const e=t.negate();return r?e:t}const zi=new WeakMap;class zt{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,zi.delete(this)}hasEvenY(){return this.y%lr===At}static fromCompressedHex(t){const e=t.length===32,n=vr(e?t:t.subarray(1));if(!qi(n))throw new Error("Point is not on curve");const a=Hs(n);let s=nf(a);const h=(s&Nt)===Nt;e?h&&(s=V(-s)):(t[0]&1)===1!==h&&(s=V(-s));const f=new zt(n,s);return f.assertValidity(),f}static fromUncompressedHex(t){const e=vr(t.subarray(1,Dr+1)),n=vr(t.subarray(Dr+1,Dr*2+1)),a=new zt(e,n);return a.assertValidity(),a}static fromHex(t){const e=Ki(t),n=e.length,a=e[0];if(n===Dr)return this.fromCompressedHex(e);if(n===Ps&&(a===2||a===3))return this.fromCompressedHex(e);if(n===Ns&&a===4)return this.fromUncompressedHex(e);throw new Error(`Point.fromHex: received invalid point. Expected 32-${Ps} compressed bytes or ${Ns} uncompressed bytes, not ${n}`)}static fromPrivateKey(t){return zt.BASE.multiply(Gi(t))}static fromSignature(t,e,n){const{r:a,s}=cf(e);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");const h=af(Ki(t)),{n:f}=ue,y=n===2||n===3?a+f:a,x=Qn(y,f),M=V(-h*x,f),S=V(s*x,f),U=n&1?"03":"02",C=zt.fromHex(U+Or(y)),L=zt.BASE.multiplyAndAddUnsafe(C,M,S);if(!L)throw new Error("Cannot recover signature: point at infinify");return L.assertValidity(),L}toRawBytes(t=!1){return Er(this.toHex(t))}toHex(t=!1){const e=Or(this.x);return t?`${this.hasEvenY()?"02":"03"}${e}`:`04${e}${Or(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:e,y:n}=this;if(!qi(e)||!qi(n))throw new Error(t);const a=V(n*n),s=Hs(e);if(V(a-s)!==At)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new zt(this.x,V(-this.y))}double(){return wt.fromAffine(this).double().toAffine()}add(t){return wt.fromAffine(this).add(wt.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return wt.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,e,n){const a=wt.fromAffine(this),s=e===At||e===Nt||this!==zt.BASE?a.multiplyUnsafe(e):a.multiply(e),h=wt.fromAffine(t).multiplyUnsafe(n),f=s.add(h);return f.equals(wt.ZERO)?void 0:f.toAffine()}}zt.BASE=new zt(ue.Gx,ue.Gy),zt.ZERO=new zt(At,At);function Ks(r){return Number.parseInt(r[0],16)>=8?"00"+r:r}function Qs(r){if(r.length<2||r[0]!==2)throw new Error(`Invalid signature integer tag: ${Tr(r)}`);const t=r[1],e=r.subarray(2,t+2);if(!t||e.length!==t)throw new Error("Invalid signature integer: wrong length");if(e[0]===0&&e[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:vr(e),left:r.subarray(t+2)}}function tf(r){if(r.length<2||r[0]!=48)throw new Error(`Invalid signature tag: ${Tr(r)}`);if(r[1]!==r.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:e}=Qs(r.subarray(2)),{data:n,left:a}=Qs(e);if(a.length)throw new Error(`Invalid signature: left bytes after parsing: ${Tr(a)}`);return{r:t,s:n}}class br{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromCompact(t){const e=t instanceof Uint8Array,n="Signature.fromCompact";if(typeof t!="string"&&!e)throw new TypeError(`${n}: Expected string or Uint8Array`);const a=e?Tr(t):t;if(a.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new br(Kn(a.slice(0,64)),Kn(a.slice(64,128)))}static fromDER(t){const e=t instanceof Uint8Array;if(typeof t!="string"&&!e)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:n,s:a}=tf(e?t:Er(t));return new br(n,a)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:e}=this;if(!qn(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!qn(e))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const t=ue.n>>Nt;return this.s>t}normalizeS(){return this.hasHighS()?new br(this.r,V(-this.s,ue.n)):this}toDERRawBytes(){return Er(this.toDERHex())}toDERHex(){const t=Ks(un(this.s)),e=Ks(un(this.r)),n=t.length/2,a=e.length/2,s=un(n),h=un(a);return`30${un(a+n+4)}02${h}${e}02${s}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Er(this.toCompactHex())}toCompactHex(){return Or(this.r)+Or(this.s)}}function cn(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(r.length===1)return r[0];const t=r.reduce((n,a)=>n+a.length,0),e=new Uint8Array(t);for(let n=0,a=0;n<r.length;n++){const s=r[n];e.set(s,a),a+=s.length}return e}const ef=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function Tr(r){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let e=0;e<r.length;e++)t+=ef[r[e]];return t}const rf=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Or(r){if(typeof r!="bigint")throw new Error("Expected bigint");if(!(At<=r&&r<rf))throw new Error("Expected number 0 <= n < 2^256");return r.toString(16).padStart(64,"0")}function qs(r){const t=Er(Or(r));if(t.length!==32)throw new Error("Error: expected 32 bytes");return t}function un(r){const t=r.toString(16);return t.length&1?`0${t}`:t}function Kn(r){if(typeof r!="string")throw new TypeError("hexToNumber: expected string, got "+typeof r);return BigInt(`0x${r}`)}function Er(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+r.length);const t=new Uint8Array(r.length/2);for(let e=0;e<t.length;e++){const n=e*2,a=r.slice(n,n+2),s=Number.parseInt(a,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[e]=s}return t}function vr(r){return Kn(Tr(r))}function Ki(r){return r instanceof Uint8Array?Uint8Array.from(r):Er(r)}function Gs(r){if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)return BigInt(r);if(typeof r=="bigint"&&qn(r))return r;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function V(r,t=ue.P){const e=r%t;return e>=At?e:t+e}function ze(r,t){const{P:e}=ue;let n=r;for(;t-- >At;)n*=n,n%=e;return n}function nf(r){const{P:t}=ue,e=BigInt(6),n=BigInt(11),a=BigInt(22),s=BigInt(23),h=BigInt(44),f=BigInt(88),y=r*r*r%t,x=y*y*r%t,M=ze(x,sn)*x%t,S=ze(M,sn)*x%t,U=ze(S,lr)*y%t,C=ze(U,n)*U%t,L=ze(C,a)*C%t,D=ze(L,h)*L%t,T=ze(D,f)*D%t,H=ze(T,h)*L%t,Q=ze(H,sn)*x%t,N=ze(Q,s)*C%t,nt=ze(N,e)*y%t,J=ze(nt,lr);if(J*J%t!==r)throw new Error("Cannot find square root");return J}function Qn(r,t=ue.P){if(r===At||t<=At)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let e=V(r,t),n=t,a=At,s=Nt;for(;e!==At;){const f=n/e,y=n%e,x=a-s*f;n=e,e=y,a=s,s=x}if(n!==Nt)throw new Error("invert: does not exist");return V(a,t)}function of(r,t=ue.P){const e=new Array(r.length),n=r.reduce((s,h,f)=>h===At?s:(e[f]=s,V(s*h,t)),Nt),a=Qn(n,t);return r.reduceRight((s,h,f)=>h===At?s:(e[f]=V(s*e[f],t),V(s*h,t)),a),e}function sf(r){const t=r.length*8-an*8,e=vr(r);return t>0?e>>BigInt(t):e}function af(r,t=!1){const e=sf(r);if(t)return e;const{n}=ue;return e>=n?e-n:e}let Pr,Qi;function qn(r){return At<r&&r<ue.n}function qi(r){return At<r&&r<ue.P}function Gi(r){let t;if(typeof r=="bigint")t=r;else if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)t=BigInt(r);else if(typeof r=="string"){if(r.length!==2*an)throw new Error("Expected 32 bytes of private key");t=Kn(r)}else if(r instanceof Uint8Array){if(r.length!==an)throw new Error("Expected 32 bytes of private key");t=vr(r)}else throw new TypeError("Expected valid private key");if(!qn(t))throw new Error("Expected private key: 0 < key < n");return t}function cf(r){if(r instanceof br)return r.assertValidity(),r;try{return br.fromDER(r)}catch{return br.fromCompact(r)}}zt.BASE._setWindowSize(8);const Le={node:si,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Gn={},Ir={bytesToHex:Tr,hexToBytes:Er,concatBytes:cn,mod:V,invert:Qn,isValidPrivateKey(r){try{return Gi(r),!0}catch{return!1}},_bigintTo32Bytes:qs,_normalizePrivateKey:Gi,hashToPrivateKey:r=>{r=Ki(r);const t=an+8;if(r.length<t||r.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");const e=V(vr(r),ue.n-Nt)+Nt;return qs(e)},randomBytes:(r=32)=>{if(Le.web)return Le.web.getRandomValues(new Uint8Array(r));if(Le.node){const{randomBytes:t}=Le.node;return Uint8Array.from(t(r))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Ir.hashToPrivateKey(Ir.randomBytes(an+8)),precompute(r=8,t=zt.BASE){const e=t===zt.BASE?t:new zt(t.x,t.y);return e._setWindowSize(r),e.multiply(sn),e},sha256:async(...r)=>{if(Le.web){const t=await Le.web.subtle.digest("SHA-256",cn(...r));return new Uint8Array(t)}else if(Le.node){const{createHash:t}=Le.node,e=t("sha256");return r.forEach(n=>e.update(n)),Uint8Array.from(e.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(r,...t)=>{if(Le.web){const e=await Le.web.subtle.importKey("raw",r,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=cn(...t),a=await Le.web.subtle.sign("HMAC",e,n);return new Uint8Array(a)}else if(Le.node){const{createHmac:e}=Le.node,n=e("sha256",r);return t.forEach(a=>n.update(a)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(r,...t)=>{let e=Gn[r];if(e===void 0){const n=await Ir.sha256(Uint8Array.from(r,a=>a.charCodeAt(0)));e=cn(n,n),Gn[r]=e}return Ir.sha256(e,...t)},taggedHashSync:(r,...t)=>{if(typeof Pr!="function")throw new $u("sha256Sync is undefined, you need to set it");let e=Gn[r];if(e===void 0){const n=Pr(Uint8Array.from(r,a=>a.charCodeAt(0)));e=cn(n,n),Gn[r]=e}return Pr(e,...t)},_JacobianPoint:wt};Object.defineProperties(Ir,{sha256Sync:{configurable:!1,get(){return Pr},set(r){Pr||(Pr=r)}},hmacSha256Sync:{configurable:!1,get(){return Qi},set(r){Qi||(Qi=r)}}}),Ur.sha512Sync=(...r)=>gc(Ur.concatBytes(...r)),Ur.randomPrivateKey;function js(r){try{return Qt.fromHex(r,!0),!0}catch{return!1}}const Ws=(r,t)=>Wo.sign(r,t.slice(0,32)),uf=Wo.verify,ji=r=>X.Buffer.isBuffer(r)?r:r instanceof Uint8Array?X.Buffer.from(r.buffer,r.byteOffset,r.byteLength):X.Buffer.from(r);class ff{constructor(t){Object.assign(this,t)}encode(){return X.Buffer.from(ns(jn,this))}static decode(t){return is(jn,this,t)}static decodeUnchecked(t){return Jo(jn,this,t)}}const jn=new Map,hf=32,Je=32;function lf(r){return r._bn!==void 0}let Ys=1;class st extends ff{constructor(t){if(super({}),this._bn=void 0,lf(t))this._bn=t._bn;else{if(typeof t=="string"){const e=Me.decode(t);if(e.length!=Je)throw new Error("Invalid public key input");this._bn=new Vo(e)}else this._bn=new Vo(t);if(this._bn.byteLength()>Je)throw new Error("Invalid public key input")}}static unique(){const t=new st(Ys);return Ys+=1,new st(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return Me.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){const t=this._bn.toArrayLike(X.Buffer);if(t.length===Je)return t;const e=X.Buffer.alloc(32);return t.copy(e,32-t.length),e}toString(){return this.toBase58()}static async createWithSeed(t,e,n){const a=X.Buffer.concat([t.toBuffer(),X.Buffer.from(e),n.toBuffer()]),s=wi(a);return new st(s)}static createProgramAddressSync(t,e){let n=X.Buffer.alloc(0);t.forEach(function(s){if(s.length>hf)throw new TypeError("Max seed length exceeded");n=X.Buffer.concat([n,ji(s)])}),n=X.Buffer.concat([n,e.toBuffer(),X.Buffer.from("ProgramDerivedAddress")]);const a=wi(n);if(js(a))throw new Error("Invalid seeds, address must fall off the curve");return new st(a)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let n=255,a;for(;n!=0;){try{const s=t.concat(X.Buffer.from([n]));a=this.createProgramAddressSync(s,e)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[a,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){const e=new st(t);return js(e.toBytes())}}st.default=new st("11111111111111111111111111111111"),jn.set(st,{kind:"struct",fields:[["_bn","u256"]]}),new st("BPFLoader1111111111111111111111111111111111");const Nr=1232,Wi=127,fn=64;class Wn{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((s,h)=>{n.set(s.toBase58(),h)});const a=s=>{const h=n.get(s.toBase58());if(h===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return h};return t.map(s=>({programIdIndex:a(s.programId),accountKeyIndexes:s.keys.map(h=>a(h.pubkey)),data:s.data}))}}const ft=(r="publicKey")=>kt(32,r),df=(r="signature")=>kt(64,r),Hr=(r="string")=>{const t=Z([tt("length"),tt("lengthPadding"),kt(xr(tt(),-8),"chars")],r),e=t.decode.bind(t),n=t.encode.bind(t),a=t;return a.decode=(s,h)=>e(s,h).chars.toString(),a.encode=(s,h,f)=>{const y={chars:X.Buffer.from(s,"utf8")};return n(y,h,f)},a.alloc=s=>tt().span+tt().span+X.Buffer.from(s,"utf8").length,a},pf=(r="authorized")=>Z([ft("staker"),ft("withdrawer")],r),gf=(r="lockup")=>Z([Re("unixTimestamp"),Re("epoch"),ft("custodian")],r),yf=(r="voteInit")=>Z([ft("nodePubkey"),ft("authorizedVoter"),ft("authorizedWithdrawer"),yt("commission")],r),wf=(r="voteAuthorizeWithSeedArgs")=>Z([tt("voteAuthorizationType"),ft("currentAuthorityDerivedKeyOwnerPubkey"),Hr("currentAuthorityDerivedKeySeed"),ft("newAuthorized")],r);function De(r){let t=0,e=0;for(;;){let n=r.shift();if(t|=(n&127)<<e*7,e+=1,!(n&128))break}return t}function Te(r,t){let e=t;for(;;){let n=e&127;if(e>>=7,e==0){r.push(n);break}else n|=128,r.push(n)}}function fe(r,t){if(!r)throw new Error(t||"Assertion failed")}class Yn{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const n=new Map,a=h=>{const f=h.toBase58();let y=n.get(f);return y===void 0&&(y={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(f,y)),y},s=a(e);s.isSigner=!0,s.isWritable=!0;for(const h of t){a(h.programId).isInvoked=!0;for(const f of h.keys){const y=a(f.pubkey);y.isSigner||(y.isSigner=f.isSigner),y.isWritable||(y.isWritable=f.isWritable)}}return new Yn(e,n)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];fe(t.length<=256,"Max static account keys length exceeded");const e=t.filter(([,y])=>y.isSigner&&y.isWritable),n=t.filter(([,y])=>y.isSigner&&!y.isWritable),a=t.filter(([,y])=>!y.isSigner&&y.isWritable),s=t.filter(([,y])=>!y.isSigner&&!y.isWritable),h={numRequiredSignatures:e.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{fe(e.length>0,"Expected at least one writable signer key");const[y]=e[0];fe(y===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const f=[...e.map(([y])=>new st(y)),...n.map(([y])=>new st(y)),...a.map(([y])=>new st(y)),...s.map(([y])=>new st(y))];return[h,f]}extractTableLookup(t){const[e,n]=this.drainKeysFoundInLookupTable(t.state.addresses,h=>!h.isSigner&&!h.isInvoked&&h.isWritable),[a,s]=this.drainKeysFoundInLookupTable(t.state.addresses,h=>!h.isSigner&&!h.isInvoked&&!h.isWritable);if(!(e.length===0&&a.length===0))return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:a},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(t,e){const n=new Array,a=new Array;for(const[s,h]of this.keyMetaMap.entries())if(e(h)){const f=new st(s),y=t.findIndex(x=>x.equals(f));y>=0&&(fe(y<256,"Max lookup table index exceeded"),n.push(y),a.push(f),this.keyMetaMap.delete(s))}return[n,a]}}class zr{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(e=>new st(e)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Me.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Wn(this.staticAccountKeys)}static compile(t){const e=Yn.compile(t.instructions,t.payerKey),[n,a]=e.getMessageComponents(),h=new Wn(a).compileInstructions(t.instructions).map(f=>({programIdIndex:f.programIdIndex,accounts:f.accountKeyIndexes,data:Me.encode(f.data)}));return new zr({header:n,accountKeys:a,recentBlockhash:t.recentBlockhash,instructions:h})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const n=t-e,s=this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts;return n<s}else{const n=e-this.header.numReadonlySignedAccounts;return t<n}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,e)=>!this.isProgramId(e))}serialize(){const t=this.accountKeys.length;let e=[];Te(e,t);const n=this.instructions.map(S=>{const{accounts:U,programIdIndex:C}=S,L=Array.from(Me.decode(S.data));let D=[];Te(D,U.length);let T=[];return Te(T,L.length),{programIdIndex:C,keyIndicesCount:X.Buffer.from(D),keyIndices:U,dataLength:X.Buffer.from(T),data:L}});let a=[];Te(a,n.length);let s=X.Buffer.alloc(Nr);X.Buffer.from(a).copy(s);let h=a.length;n.forEach(S=>{const C=Z([yt("programIdIndex"),kt(S.keyIndicesCount.length,"keyIndicesCount"),Ue(yt("keyIndex"),S.keyIndices.length,"keyIndices"),kt(S.dataLength.length,"dataLength"),Ue(yt("userdatum"),S.data.length,"data")]).encode(S,s,h);h+=C}),s=s.slice(0,h);const f=Z([kt(1,"numRequiredSignatures"),kt(1,"numReadonlySignedAccounts"),kt(1,"numReadonlyUnsignedAccounts"),kt(e.length,"keyCount"),Ue(ft("key"),t,"keys"),ft("recentBlockhash")]),y={numRequiredSignatures:X.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:X.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:X.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:X.Buffer.from(e),keys:this.accountKeys.map(S=>ji(S.toBytes())),recentBlockhash:Me.decode(this.recentBlockhash)};let x=X.Buffer.alloc(2048);const M=f.encode(y,x);return s.copy(x,M),x.slice(0,M+s.length)}static from(t){let e=[...t];const n=e.shift();if(n!==(n&Wi))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const a=e.shift(),s=e.shift(),h=De(e);let f=[];for(let U=0;U<h;U++){const C=e.slice(0,Je);e=e.slice(Je),f.push(new st(X.Buffer.from(C)))}const y=e.slice(0,Je);e=e.slice(Je);const x=De(e);let M=[];for(let U=0;U<x;U++){const C=e.shift(),L=De(e),D=e.slice(0,L);e=e.slice(L);const T=De(e),H=e.slice(0,T),Q=Me.encode(X.Buffer.from(H));e=e.slice(T),M.push({programIdIndex:C,accounts:D,data:Q})}const S={header:{numRequiredSignatures:n,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:s},recentBlockhash:Me.encode(X.Buffer.from(y)),accountKeys:f,instructions:M};return new zr(S)}}class Vn{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Wn(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(t>=n){const a=t-n,s=this.addressTableLookups.reduce((h,f)=>h+f.writableIndexes.length,0);return a<s}else if(t>=this.header.numRequiredSignatures){const a=t-e,h=n-e-this.header.numReadonlyUnsignedAccounts;return a<h}else{const a=e-this.header.numReadonlySignedAccounts;return t<a}}resolveAddressTableLookups(t){const e={writable:[],readonly:[]};for(const n of this.addressTableLookups){const a=t.find(s=>s.key.equals(n.accountKey));if(!a)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const s of n.writableIndexes)if(s<a.state.addresses.length)e.writable.push(a.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(const s of n.readonlyIndexes)if(s<a.state.addresses.length)e.readonly.push(a.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return e}static compile(t){const e=Yn.compile(t.instructions,t.payerKey),n=new Array,a={writable:new Array,readonly:new Array},s=t.addressLookupTableAccounts||[];for(const M of s){const S=e.extractTableLookup(M);if(S!==void 0){const[U,{writable:C,readonly:L}]=S;n.push(U),a.writable.push(...C),a.readonly.push(...L)}}const[h,f]=e.getMessageComponents(),x=new Wn(f,a).compileInstructions(t.instructions);return new Vn({header:h,staticAccountKeys:f,recentBlockhash:t.recentBlockhash,compiledInstructions:x,addressTableLookups:n})}serialize(){const t=Array();Te(t,this.staticAccountKeys.length);const e=this.serializeInstructions(),n=Array();Te(n,this.compiledInstructions.length);const a=this.serializeAddressTableLookups(),s=Array();Te(s,this.addressTableLookups.length);const h=Z([yt("prefix"),Z([yt("numRequiredSignatures"),yt("numReadonlySignedAccounts"),yt("numReadonlyUnsignedAccounts")],"header"),kt(t.length,"staticAccountKeysLength"),Ue(ft(),this.staticAccountKeys.length,"staticAccountKeys"),ft("recentBlockhash"),kt(n.length,"instructionsLength"),kt(e.length,"serializedInstructions"),kt(s.length,"addressTableLookupsLength"),kt(a.length,"serializedAddressTableLookups")]),f=new Uint8Array(Nr),x=h.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(M=>M.toBytes()),recentBlockhash:Me.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:a},f);return f.slice(0,x)}serializeInstructions(){let t=0;const e=new Uint8Array(Nr);for(const n of this.compiledInstructions){const a=Array();Te(a,n.accountKeyIndexes.length);const s=Array();Te(s,n.data.length);const h=Z([yt("programIdIndex"),kt(a.length,"encodedAccountKeyIndexesLength"),Ue(yt(),n.accountKeyIndexes.length,"accountKeyIndexes"),kt(s.length,"encodedDataLength"),kt(n.data.length,"data")]);t+=h.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(a),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0;const e=new Uint8Array(Nr);for(const n of this.addressTableLookups){const a=Array();Te(a,n.writableIndexes.length);const s=Array();Te(s,n.readonlyIndexes.length);const h=Z([ft("accountKey"),kt(a.length,"encodedWritableIndexesLength"),Ue(yt(),n.writableIndexes.length,"writableIndexes"),kt(s.length,"encodedReadonlyIndexesLength"),Ue(yt(),n.readonlyIndexes.length,"readonlyIndexes")]);t+=h.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(a),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t];const n=e.shift(),a=n&Wi;fe(n!==a,"Expected versioned message but received legacy message");const s=a;fe(s===0,`Expected versioned message with version 0 but found version ${s}`);const h={numRequiredSignatures:e.shift(),numReadonlySignedAccounts:e.shift(),numReadonlyUnsignedAccounts:e.shift()},f=[],y=De(e);for(let L=0;L<y;L++)f.push(new st(e.splice(0,Je)));const x=Me.encode(e.splice(0,Je)),M=De(e),S=[];for(let L=0;L<M;L++){const D=e.shift(),T=De(e),H=e.splice(0,T),Q=De(e),N=new Uint8Array(e.splice(0,Q));S.push({programIdIndex:D,accountKeyIndexes:H,data:N})}const U=De(e),C=[];for(let L=0;L<U;L++){const D=new st(e.splice(0,Je)),T=De(e),H=e.splice(0,T),Q=De(e),N=e.splice(0,Q);C.push({accountKey:D,writableIndexes:H,readonlyIndexes:N})}return new Vn({header:h,staticAccountKeys:f,recentBlockhash:x,compiledInstructions:S,addressTableLookups:C})}}const Vs={deserializeMessageVersion(r){const t=r[0],e=t&Wi;return e===t?"legacy":e},deserialize:r=>{const t=Vs.deserializeMessageVersion(r);if(t==="legacy")return zr.from(r);if(t===0)return Vn.deserialize(r);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let Zs;(function(r){r[r.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",r[r.PROCESSED=1]="PROCESSED",r[r.TIMED_OUT=2]="TIMED_OUT",r[r.NONCE_INVALID=3]="NONCE_INVALID"})(Zs||(Zs={}));const mf=X.Buffer.alloc(fn).fill(0);class Xs{constructor(t){this.keys=void 0,this.programId=void 0,this.data=X.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:e,isWritable:n})=>({pubkey:t.toJSON(),isSigner:e,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class Zn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:n}=t;this.minNonceContextSlot=e,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:n}=t;this.recentBlockhash=e,this.lastValidBlockHeight=n}else{const{recentBlockhash:e,nonceInfo:n}=t;n&&(this.nonceInfo=n),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new Xs(e))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?e=[this.nonceInfo.nonceInstruction,...this.instructions]:e=this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");e.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let D=0;D<e.length;D++)if(e[D].programId===void 0)throw new Error(`Transaction instruction index ${D} has undefined program id`);const a=[],s=[];e.forEach(D=>{D.keys.forEach(H=>{s.push({...H})});const T=D.programId.toString();a.includes(T)||a.push(T)}),a.forEach(D=>{s.push({pubkey:new st(D),isSigner:!1,isWritable:!1})});const h=[];s.forEach(D=>{const T=D.pubkey.toString(),H=h.findIndex(Q=>Q.pubkey.toString()===T);H>-1?(h[H].isWritable=h[H].isWritable||D.isWritable,h[H].isSigner=h[H].isSigner||D.isSigner):h.push(D)}),h.sort(function(D,T){return D.isSigner!==T.isSigner?D.isSigner?-1:1:D.isWritable!==T.isWritable?D.isWritable?-1:1:D.pubkey.toBase58().localeCompare(T.pubkey.toBase58())});const f=h.findIndex(D=>D.pubkey.equals(n));if(f>-1){const[D]=h.splice(f,1);D.isSigner=!0,D.isWritable=!0,h.unshift(D)}else h.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const D of this.signatures){const T=h.findIndex(H=>H.pubkey.equals(D.publicKey));if(T>-1)h[T].isSigner||(h[T].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${D.publicKey.toString()}`)}let y=0,x=0,M=0;const S=[],U=[];h.forEach(({pubkey:D,isSigner:T,isWritable:H})=>{T?(S.push(D.toString()),y+=1,H||(x+=1)):(U.push(D.toString()),H||(M+=1))});const C=S.concat(U),L=e.map(D=>{const{data:T,programId:H}=D;return{programIdIndex:C.indexOf(H.toString()),accounts:D.keys.map(Q=>C.indexOf(Q.pubkey.toString())),data:Me.encode(T)}});return L.forEach(D=>{fe(D.programIdIndex>=0),D.accounts.forEach(T=>fe(T>=0))}),new zr({header:{numRequiredSignatures:y,numReadonlySignedAccounts:x,numReadonlyUnsignedAccounts:M},accountKeys:C,recentBlockhash:t,instructions:L})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every((a,s)=>e[s].equals(a.publicKey))||(this.signatures=e.map(n=>({signature:null,publicKey:n}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const e=new Set;this.signatures=t.filter(n=>{const a=n.toString();return e.has(a)?!1:(e.add(a),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...t){if(t.length===0)throw new Error("No signers");const e=new Set,n=[];for(const s of t){const h=s.publicKey.toString();e.has(h)||(e.add(h),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));const a=this._compile();this._partialSign(a,...n)}partialSign(...t){if(t.length===0)throw new Error("No signers");const e=new Set,n=[];for(const s of t){const h=s.publicKey.toString();e.has(h)||(e.add(h),n.push(s))}const a=this._compile();this._partialSign(a,...n)}_partialSign(t,...e){const n=t.serialize();e.forEach(a=>{const s=Ws(n,a.secretKey);this._addSignature(a.publicKey,ji(s))})}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){fe(e.length===64);const n=this.signatures.findIndex(a=>t.equals(a.publicKey));if(n<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[n].signature=X.Buffer.from(e)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(t,e){for(const{signature:n,publicKey:a}of this.signatures)if(n===null){if(e)return!1}else if(!uf(n,t,a.toBytes()))return!1;return!0}serialize(t){const{requireAllSignatures:e,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),a=this.serializeMessage();if(n&&!this._verifySignatures(a,e))throw new Error("Signature verification failed");return this._serialize(a)}_serialize(t){const{signatures:e}=this,n=[];Te(n,e.length);const a=n.length+e.length*64+t.length,s=X.Buffer.alloc(a);return fe(e.length<256),X.Buffer.from(n).copy(s,0),e.forEach(({signature:h},f)=>{h!==null&&(fe(h.length===64,"signature has invalid length"),X.Buffer.from(h).copy(s,n.length+f*64))}),t.copy(s,n.length+e.length*64),fe(s.length<=Nr,`Transaction too large: ${s.length} > ${Nr}`),s}get keys(){return fe(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return fe(this.instructions.length===1),this.instructions[0].programId}get data(){return fe(this.instructions.length===1),this.instructions[0].data}static from(t){let e=[...t];const n=De(e);let a=[];for(let s=0;s<n;s++){const h=e.slice(0,fn);e=e.slice(fn),a.push(Me.encode(X.Buffer.from(h)))}return Zn.populate(zr.from(e),a)}static populate(t,e=[]){const n=new Zn;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),e.forEach((a,s)=>{const h={signature:a==Me.encode(mf)?null:Me.decode(a),publicKey:t.accountKeys[s]};n.signatures.push(h)}),t.instructions.forEach(a=>{const s=a.accounts.map(h=>{const f=t.accountKeys[h];return{pubkey:f,isSigner:n.signatures.some(y=>y.publicKey.toString()===f.toString())||t.isAccountSigner(h),isWritable:t.isAccountWritable(h)}});n.instructions.push(new Xs({keys:s,programId:t.accountKeys[a.programIdIndex],data:Me.decode(a.data)}))}),n._message=t,n._json=n.toJSON(),n}}class Kr{get version(){return this.message.version}constructor(t,e){if(this.signatures=void 0,this.message=void 0,e!==void 0)fe(e.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=e;else{const n=[];for(let a=0;a<t.header.numRequiredSignatures;a++)n.push(new Uint8Array(fn));this.signatures=n}this.message=t}serialize(){const t=this.message.serialize(),e=Array();Te(e,this.signatures.length);const n=Z([kt(e.length,"encodedSignaturesLength"),Ue(df(),this.signatures.length,"signatures"),kt(t.length,"serializedMessage")]),a=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(e),signatures:this.signatures,serializedMessage:t},a);return a.slice(0,s)}static deserialize(t){let e=[...t];const n=[],a=De(e);for(let h=0;h<a;h++)n.push(new Uint8Array(e.splice(0,fn)));const s=Vs.deserialize(new Uint8Array(e));return new Kr(s,n)}sign(t){const e=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const a of t){const s=n.findIndex(h=>h.equals(a.publicKey));fe(s>=0,`Cannot sign with non signer key ${a.publicKey.toBase58()}`),this.signatures[s]=Ws(e,a.secretKey)}}addSignature(t,e){fe(e.byteLength===64,"Signature must be 64 bytes long");const a=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(t));fe(a>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[a]=e}}new st("SysvarC1ock11111111111111111111111111111111"),new st("SysvarEpochSchedu1e111111111111111111111111"),new st("Sysvar1nstructions1111111111111111111111111"),new st("SysvarRecentB1ockHashes11111111111111111111"),new st("SysvarRent111111111111111111111111111111111"),new st("SysvarRewards111111111111111111111111111111"),new st("SysvarS1otHashes111111111111111111111111111"),new st("SysvarS1otHistory11111111111111111111111111"),new st("SysvarStakeHistory1111111111111111111111111");const Af=we("lamportsPerSignature");Z([tt("version"),tt("state"),ft("authorizedPubkey"),ft("nonce"),Z([Af],"feeCalculator")]).span;const xf=r=>{const t=r.decode.bind(r),e=r.encode.bind(r);return{decode:t,encode:e}},Qr=(r=>t=>{const e=kt(r,t),{encode:n,decode:a}=xf(e),s=e;return s.decode=(h,f)=>{const y=a(h,f);return iu(X.Buffer.from(y))},s.encode=(h,f,y)=>{const x=au(h,r);return n(x,f,y)},s})(8);Object.freeze({Create:{index:0,layout:Z([tt("instruction"),Re("lamports"),Re("space"),ft("programId")])},Assign:{index:1,layout:Z([tt("instruction"),ft("programId")])},Transfer:{index:2,layout:Z([tt("instruction"),Qr("lamports")])},CreateWithSeed:{index:3,layout:Z([tt("instruction"),ft("base"),Hr("seed"),Re("lamports"),Re("space"),ft("programId")])},AdvanceNonceAccount:{index:4,layout:Z([tt("instruction")])},WithdrawNonceAccount:{index:5,layout:Z([tt("instruction"),Re("lamports")])},InitializeNonceAccount:{index:6,layout:Z([tt("instruction"),ft("authorized")])},AuthorizeNonceAccount:{index:7,layout:Z([tt("instruction"),ft("authorized")])},Allocate:{index:8,layout:Z([tt("instruction"),Re("space")])},AllocateWithSeed:{index:9,layout:Z([tt("instruction"),ft("base"),Hr("seed"),Re("space"),ft("programId")])},AssignWithSeed:{index:10,layout:Z([tt("instruction"),ft("base"),Hr("seed"),ft("programId")])},TransferWithSeed:{index:11,layout:Z([tt("instruction"),Qr("lamports"),Hr("seed"),ft("programId")])},UpgradeNonceAccount:{index:12,layout:Z([tt("instruction")])}}),new st("11111111111111111111111111111111"),new st("BPFLoader2111111111111111111111111111111111"),Z([tt("typeIndex"),Qr("deactivationSlot"),we("lastExtendedSlot"),yt("lastExtendedStartIndex"),yt(),Ue(ft(),xr(yt(),-1),"authority")]);const he=on(Fi(st),z(),r=>new st(r)),Js=_i([z(),Pt("base64")]),Yi=on(Fi(X.Buffer),Js,r=>X.Buffer.from(r[0],"base64"));function $s(r){return Fe([P({jsonrpc:Pt("2.0"),id:z(),result:r}),P({jsonrpc:Pt("2.0"),id:z(),error:P({code:nn(),message:z(),data:ot(gu())})})])}const Bf=$s(nn());function Ct(r){return on($s(r),Bf,t=>"error"in t?t:{...t,result:en(t.result,r)})}function Ge(r){return Ct(P({context:P({slot:R()}),value:r}))}function Xn(r){return P({context:P({slot:R()}),value:r})}const bf=P({foundation:R(),foundationTerm:R(),initial:R(),taper:R(),terminal:R()});Ct(W(Y(P({epoch:R(),effectiveSlot:R(),amount:R(),postBalance:R()}))));const Ef=P({epoch:R(),slotIndex:R(),slotsInEpoch:R(),absoluteSlot:R(),blockHeight:ot(R()),transactionCount:ot(R())}),vf=P({slotsPerEpoch:R(),leaderScheduleSlotOffset:R(),warmup:tr(),firstNormalEpoch:R(),firstNormalSlot:R()}),If=vs(z(),W(R())),Sr=Y(Fe([P({}),z()])),Sf=P({err:Sr}),Mf=Pt("receivedSignature");P({"solana-core":z(),"feature-set":ot(R())}),Ge(P({err:Y(Fe([P({}),z()])),logs:Y(W(z())),accounts:ot(Y(W(Y(P({executable:tr(),owner:z(),lamports:R(),data:W(z()),rentEpoch:ot(R())}))))),unitsConsumed:ot(R()),returnData:ot(Y(P({programId:z(),data:_i([z(),Pt("base64")])})))})),Ge(P({byIdentity:vs(z(),W(R())),range:P({firstSlot:R(),lastSlot:R()})})),Ct(bf),Ct(Ef),Ct(vf),Ct(If),Ct(R()),Ge(P({total:R(),circulating:R(),nonCirculating:R(),nonCirculatingAccounts:W(he)}));const kf=P({amount:z(),uiAmount:Y(R()),decimals:R(),uiAmountString:ot(z())});Ge(W(P({address:he,amount:z(),uiAmount:Y(R()),decimals:R(),uiAmountString:ot(z())}))),Ge(W(P({pubkey:he,account:P({executable:tr(),owner:he,lamports:R(),data:Yi,rentEpoch:R()})})));const Vi=P({program:z(),parsed:nn(),space:R()});Ge(W(P({pubkey:he,account:P({executable:tr(),owner:he,lamports:R(),data:Vi,rentEpoch:R()})}))),Ge(W(P({lamports:R(),address:he})));const Zi=P({executable:tr(),owner:he,lamports:R(),data:Yi,rentEpoch:R()});P({pubkey:he,account:Zi});const Uf=on(Fe([Fi(X.Buffer),Vi]),Fe([Js,Vi]),r=>Array.isArray(r)?en(r,Yi):r),Cf=P({executable:tr(),owner:he,lamports:R(),data:Uf,rentEpoch:R()});P({pubkey:he,account:Cf}),P({state:Fe([Pt("active"),Pt("inactive"),Pt("activating"),Pt("deactivating")]),active:R(),inactive:R()}),Ct(W(P({signature:z(),slot:R(),err:Sr,memo:Y(z()),blockTime:ot(Y(R()))}))),Ct(W(P({signature:z(),slot:R(),err:Sr,memo:Y(z()),blockTime:ot(Y(R()))}))),P({subscription:R(),result:Xn(Zi)});const Ff=P({pubkey:he,account:Zi});P({subscription:R(),result:Xn(Ff)});const _f=P({parent:R(),slot:R(),root:R()});P({subscription:R(),result:_f});const Rf=Fe([P({type:Fe([Pt("firstShredReceived"),Pt("completed"),Pt("optimisticConfirmation"),Pt("root")]),slot:R(),timestamp:R()}),P({type:Pt("createdBank"),parent:R(),slot:R(),timestamp:R()}),P({type:Pt("frozen"),slot:R(),timestamp:R(),stats:P({numTransactionEntries:R(),numSuccessfulTransactions:R(),numFailedTransactions:R(),maxTransactionsPerEntry:R()})}),P({type:Pt("dead"),slot:R(),timestamp:R(),err:z()})]);P({subscription:R(),result:Rf}),P({subscription:R(),result:Xn(Fe([Sf,Mf]))}),P({subscription:R(),result:R()}),P({pubkey:z(),gossip:Y(z()),tpu:Y(z()),rpc:Y(z()),version:Y(z())});const ta=P({votePubkey:z(),nodePubkey:z(),activatedStake:R(),epochVoteAccount:tr(),epochCredits:W(_i([R(),R(),R()])),commission:R(),lastVote:R(),rootSlot:Y(R())});Ct(P({current:W(ta),delinquent:W(ta)}));const Lf=Fe([Pt("processed"),Pt("confirmed"),Pt("finalized")]),Df=P({slot:R(),confirmations:Y(R()),err:Sr,confirmationStatus:ot(Lf)});Ge(W(Y(Df))),Ct(R());const ea=P({accountKey:he,writableIndexes:W(R()),readonlyIndexes:W(R())}),Xi=P({signatures:W(z()),message:P({accountKeys:W(z()),header:P({numRequiredSignatures:R(),numReadonlySignedAccounts:R(),numReadonlyUnsignedAccounts:R()}),instructions:W(P({accounts:W(R()),data:z(),programIdIndex:R()})),recentBlockhash:z(),addressTableLookups:ot(W(ea))})}),ra=P({pubkey:he,signer:tr(),writable:tr(),source:ot(Fe([Pt("transaction"),Pt("lookupTable")]))}),na=P({accountKeys:W(ra),signatures:W(z())}),ia=P({parsed:nn(),program:z(),programId:he}),oa=P({accounts:W(he),data:z(),programId:he}),Tf=Fe([oa,ia]),Of=Fe([P({parsed:nn(),program:z(),programId:z()}),P({accounts:W(z()),data:z(),programId:z()})]),sa=on(Tf,Of,r=>"accounts"in r?en(r,oa):en(r,ia)),aa=P({signatures:W(z()),message:P({accountKeys:W(ra),instructions:W(sa),recentBlockhash:z(),addressTableLookups:ot(Y(W(ea)))})}),Jn=P({accountIndex:R(),mint:z(),owner:ot(z()),uiTokenAmount:kf}),ca=P({writable:W(he),readonly:W(he)}),$n=P({err:Sr,fee:R(),innerInstructions:ot(Y(W(P({index:R(),instructions:W(P({accounts:W(R()),data:z(),programIdIndex:R()}))})))),preBalances:W(R()),postBalances:W(R()),logMessages:ot(Y(W(z()))),preTokenBalances:ot(Y(W(Jn))),postTokenBalances:ot(Y(W(Jn))),loadedAddresses:ot(ca),computeUnitsConsumed:ot(R())}),Ji=P({err:Sr,fee:R(),innerInstructions:ot(Y(W(P({index:R(),instructions:W(sa)})))),preBalances:W(R()),postBalances:W(R()),logMessages:ot(Y(W(z()))),preTokenBalances:ot(Y(W(Jn))),postTokenBalances:ot(Y(W(Jn))),loadedAddresses:ot(ca),computeUnitsConsumed:ot(R())}),qr=Fe([Pt(0),Pt("legacy")]),Mr=P({pubkey:z(),lamports:R(),postBalance:Y(R()),rewardType:Y(z())});Ct(Y(P({blockhash:z(),previousBlockhash:z(),parentSlot:R(),transactions:W(P({transaction:Xi,meta:Y($n),version:ot(qr)})),rewards:ot(W(Mr)),blockTime:Y(R()),blockHeight:Y(R())}))),Ct(Y(P({blockhash:z(),previousBlockhash:z(),parentSlot:R(),rewards:ot(W(Mr)),blockTime:Y(R()),blockHeight:Y(R())}))),Ct(Y(P({blockhash:z(),previousBlockhash:z(),parentSlot:R(),transactions:W(P({transaction:na,meta:Y($n),version:ot(qr)})),rewards:ot(W(Mr)),blockTime:Y(R()),blockHeight:Y(R())}))),Ct(Y(P({blockhash:z(),previousBlockhash:z(),parentSlot:R(),transactions:W(P({transaction:aa,meta:Y(Ji),version:ot(qr)})),rewards:ot(W(Mr)),blockTime:Y(R()),blockHeight:Y(R())}))),Ct(Y(P({blockhash:z(),previousBlockhash:z(),parentSlot:R(),transactions:W(P({transaction:na,meta:Y(Ji),version:ot(qr)})),rewards:ot(W(Mr)),blockTime:Y(R()),blockHeight:Y(R())}))),Ct(Y(P({blockhash:z(),previousBlockhash:z(),parentSlot:R(),rewards:ot(W(Mr)),blockTime:Y(R()),blockHeight:Y(R())}))),Ct(Y(P({blockhash:z(),previousBlockhash:z(),parentSlot:R(),transactions:W(P({transaction:Xi,meta:Y($n)})),rewards:ot(W(Mr)),blockTime:Y(R())}))),Ct(Y(P({blockhash:z(),previousBlockhash:z(),parentSlot:R(),signatures:W(z()),blockTime:Y(R())}))),Ct(Y(P({slot:R(),meta:$n,blockTime:ot(Y(R())),transaction:Xi,version:ot(qr)}))),Ct(Y(P({slot:R(),transaction:aa,meta:Y(Ji),blockTime:ot(Y(R())),version:ot(qr)}))),Ge(P({blockhash:z(),feeCalculator:P({lamportsPerSignature:R()})})),Ge(P({blockhash:z(),lastValidBlockHeight:R()}));const Pf=P({slot:R(),numTransactions:R(),numSlots:R(),samplePeriodSecs:R()});Ct(W(Pf)),Ge(Y(P({feeCalculator:P({lamportsPerSignature:R()})}))),Ct(z()),Ct(z());const Nf=P({err:Sr,logs:W(z()),signature:z()});P({result:Xn(Nf),subscription:R()}),Object.freeze({CreateLookupTable:{index:0,layout:Z([tt("instruction"),Qr("recentSlot"),yt("bumpSeed")])},FreezeLookupTable:{index:1,layout:Z([tt("instruction")])},ExtendLookupTable:{index:2,layout:Z([tt("instruction"),Qr(),Ue(ft(),xr(tt(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Z([tt("instruction")])},CloseLookupTable:{index:4,layout:Z([tt("instruction")])}}),new st("AddressLookupTab1e1111111111111111111111111"),Object.freeze({RequestUnits:{index:0,layout:Z([yt("instruction"),tt("units"),tt("additionalFee")])},RequestHeapFrame:{index:1,layout:Z([yt("instruction"),tt("bytes")])},SetComputeUnitLimit:{index:2,layout:Z([yt("instruction"),tt("units")])},SetComputeUnitPrice:{index:3,layout:Z([yt("instruction"),Qr("microLamports")])}}),new st("ComputeBudget111111111111111111111111111111"),Z([yt("numSignatures"),yt("padding"),He("signatureOffset"),He("signatureInstructionIndex"),He("publicKeyOffset"),He("publicKeyInstructionIndex"),He("messageDataOffset"),He("messageDataSize"),He("messageInstructionIndex")]),new st("Ed25519SigVerify111111111111111111111111111"),Ir.hmacSha256Sync=(r,...t)=>{const e=Ds.create(wi,r);return t.forEach(n=>e.update(n)),e.digest()},Ir.isValidPrivateKey,Z([yt("numSignatures"),He("signatureOffset"),yt("signatureInstructionIndex"),He("ethAddressOffset"),yt("ethAddressInstructionIndex"),He("messageDataOffset"),He("messageDataSize"),yt("messageInstructionIndex"),kt(20,"ethAddress"),kt(64,"signature"),yt("recoveryId")]),new st("KeccakSecp256k11111111111111111111111111111"),new st("StakeConfig11111111111111111111111111111111");class ua{constructor(t,e,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=n}}ua.default=new ua(0,0,st.default),Object.freeze({Initialize:{index:0,layout:Z([tt("instruction"),pf(),gf()])},Authorize:{index:1,layout:Z([tt("instruction"),ft("newAuthorized"),tt("stakeAuthorizationType")])},Delegate:{index:2,layout:Z([tt("instruction")])},Split:{index:3,layout:Z([tt("instruction"),Re("lamports")])},Withdraw:{index:4,layout:Z([tt("instruction"),Re("lamports")])},Deactivate:{index:5,layout:Z([tt("instruction")])},Merge:{index:7,layout:Z([tt("instruction")])},AuthorizeWithSeed:{index:8,layout:Z([tt("instruction"),ft("newAuthorized"),tt("stakeAuthorizationType"),Hr("authoritySeed"),ft("authorityOwner")])}}),new st("Stake11111111111111111111111111111111111111"),Object.freeze({InitializeAccount:{index:0,layout:Z([tt("instruction"),yf()])},Authorize:{index:1,layout:Z([tt("instruction"),ft("newAuthorized"),tt("voteAuthorizationType")])},Withdraw:{index:3,layout:Z([tt("instruction"),Re("lamports")])},AuthorizeWithSeed:{index:10,layout:Z([tt("instruction"),wf()])}}),new st("Vote111111111111111111111111111111111111111"),new st("Va1idator1nfo111111111111111111111111111111"),P({name:z(),website:ot(z()),details:ot(z()),keybaseUsername:ot(z())}),new st("Vote111111111111111111111111111111111111111"),Z([ft("nodePubkey"),ft("authorizedWithdrawer"),yt("commission"),we(),Ue(Z([we("slot"),tt("confirmationCount")]),xr(tt(),-8),"votes"),yt("rootSlotValid"),we("rootSlot"),we(),Ue(Z([we("epoch"),ft("authorizedVoter")]),xr(tt(),-8),"authorizedVoters"),Z([Ue(Z([ft("authorizedPubkey"),we("epochOfLastAuthorizedSwitch"),we("targetEpoch")]),32,"buf"),we("idx"),yt("isEmpty")],"priorVoters"),we(),Ue(Z([we("epoch"),we("credits"),we("prevCredits")]),xr(tt(),-8),"epochCredits"),Z([we("slot"),we("timestamp")],"lastTimestamp")]);function ti(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ti=function(e){return typeof e}:ti=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ti(r)}function Hf(r){var t=typeof r=="string"||r instanceof String;if(!t){var e=ti(r);throw r===null?e="null":e==="object"&&(e=r.constructor.name),new TypeError("Expected a string but received a ".concat(e))}}for(var Ee={"en-US":".",ar:""},fa=["AU","GB","HK","IN","NZ","ZA","ZM"],ha,$i=0;$i<fa.length;$i++)ha="en-".concat(fa[$i]),Ee[ha]=Ee["en-US"];for(var la=["AE","BH","DZ","EG","IQ","JO","KW","LB","LY","MA","QM","QA","SA","SD","SY","TN","YE"],da,to=0;to<la.length;to++)da="ar-".concat(la[to]),Ee[da]=Ee.ar;for(var pa=["IR","AF"],ga,eo=0;eo<pa.length;eo++)ga="fa-".concat(pa[eo]),Ee[ga]=Ee.ar;for(var ya=["BD","IN"],wa,ro=0;ro<ya.length;ro++)wa="bn-".concat(ya[ro]),Ee[wa]=Ee["en-US"];for(var ma=["ar-EG","ar-LB","ar-LY"],Aa=["bg-BG","cs-CZ","da-DK","de-DE","el-GR","en-ZM","es-ES","fr-CA","fr-FR","id-ID","it-IT","ku-IQ","hi-IN","hu-HU","nb-NO","nn-NO","nl-NL","pl-PL","pt-PT","ru-RU","kk-KZ","si-LK","sl-SI","sr-RS@latin","sr-RS","sv-SE","tr-TR","uk-UA","vi-VN"],no=0;no<ma.length;no++)Ee[ma[no]]=Ee["en-US"];for(var io=0;io<Aa.length;io++)Ee[Aa[io]]=",";Ee["pt-BR"]=Ee["pt-PT"],Ee["pl-Pl"]=Ee["pl-PL"];function zf(r,t){return Hf(r),new RegExp("^[+-]?([0-9]*[".concat({}.locale?Ee[t.locale]:".","])?[0-9]+$")).test(r)}const oo=()=>"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^crypto.getRandomValues(new Uint8Array(1))[0]&15>>+r/4).toString(16)),Kf=(()=>{const r=setInterval(()=>{window.postMessage({$hot:"ping-content-script"},"*")},500);return new Promise(t=>{window.addEventListener("message",e=>{var n;((n=e.data)==null?void 0:n.$hot)==="pong-content-script"&&(clearInterval(r),t())})})})(),le={_events:{},_requests:{},request:async(r,t,e)=>{await Kf;const n=oo();return new Promise((a,s)=>{le._requests[n]={resolve:a,reject:s},window.postMessage({$hot:"request",method:r,request:t,id:n,context:e},"*")})},subscribe:(r,t)=>{const e=oo();return le._events[r]==null&&(le._events[r]=new Set),le._events[r].add(t),window.postMessage({$hot:"subscribe",event:r,id:e},"*"),()=>le.unsubscribe(r,t)},unsubscribe:(r,t)=>{var n;const e=oo();le._events[r].delete(t),!((n=le._events[r])!=null&&n.size)&&window.postMessage({$hot:"unsubscribe",event:r,id:e},"*")}};window.addEventListener("message",r=>{var t,e,n,a,s,h;((t=r.data)==null?void 0:t.$hot)==="response:success"&&((e=le._requests[r.data.id])==null||e.resolve(r.data.payload)),((n=r.data)==null?void 0:n.$hot)==="response:failed"&&((a=le._requests[r.data.id])==null||a.reject(r.data.payload)),((s=r.data)==null?void 0:s.$hot)==="signal"&&((h=le._events[r.data.event])==null||h.forEach(f=>f(r.data.payload)))});function Qf(r){const t=({register:e})=>e(r);try{window.dispatchEvent(new qf(t))}catch(e){console.error(`wallet-standard:register-wallet event could not be dispatched
`,e)}try{window.addEventListener("wallet-standard:app-ready",({detail:e})=>t(e))}catch(e){console.error(`wallet-standard:app-ready event listener could not be added
`,e)}}class qf extends Event{constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1});gr(this,hn);yr(this,hn,e)}get detail(){return pr(this,hn)}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}hn=new WeakMap;const xa="solana:signAndSendTransaction",Gf="solana:signIn",Ba="solana:signMessage",ba="solana:signTransaction",jf="standard:connect",Wf="standard:disconnect",Yf="standard:events";function Vf(r){if(r.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let x=0;x<t.length;x++)t[x]=255;for(let x=0;x<r.length;x++){const M=r.charAt(x),S=M.charCodeAt(0);if(t[S]!==255)throw new TypeError(M+" is ambiguous");t[S]=x}const e=r.length,n=r.charAt(0),a=Math.log(e)/Math.log(256),s=Math.log(256)/Math.log(e);function h(x){if(x instanceof Uint8Array||(ArrayBuffer.isView(x)?x=new Uint8Array(x.buffer,x.byteOffset,x.byteLength):Array.isArray(x)&&(x=Uint8Array.from(x))),!(x instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(x.length===0)return"";let M=0,S=0,U=0;const C=x.length;for(;U!==C&&x[U]===0;)U++,M++;const L=(C-U)*s+1>>>0,D=new Uint8Array(L);for(;U!==C;){let Q=x[U],N=0;for(let nt=L-1;(Q!==0||N<S)&&nt!==-1;nt--,N++)Q+=256*D[nt]>>>0,D[nt]=Q%e>>>0,Q=Q/e>>>0;if(Q!==0)throw new Error("Non-zero carry");S=N,U++}let T=L-S;for(;T!==L&&D[T]===0;)T++;let H=n.repeat(M);for(;T<L;++T)H+=r.charAt(D[T]);return H}function f(x){if(typeof x!="string")throw new TypeError("Expected String");if(x.length===0)return new Uint8Array;let M=0,S=0,U=0;for(;x[M]===n;)S++,M++;const C=(x.length-M)*a+1>>>0,L=new Uint8Array(C);for(;x[M];){let Q=t[x.charCodeAt(M)];if(Q===255)return;let N=0;for(let nt=C-1;(Q!==0||N<U)&&nt!==-1;nt--,N++)Q+=e*L[nt]>>>0,L[nt]=Q%256>>>0,Q=Q/256>>>0;if(Q!==0)throw new Error("Non-zero carry");U=N,M++}let D=C-U;for(;D!==C&&L[D]===0;)D++;const T=new Uint8Array(S+(C-D));let H=S;for(;D!==C;)T[H++]=L[D++];return T}function y(x){const M=f(x);if(M)return M;throw new Error("Non-base"+e+" character")}return{encode:h,decodeUnsafe:f,decode:y}}var Zf="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Xf=Vf(Zf),so=["solana:mainnet","solana:mainnet-beta"];function ao(r){return so.includes(r)}function Ea(r){return"version"in r}const Jf=so,$f=[xa,ba,Ba],uo=class uo{constructor({address:t,publicKey:e,label:n,icon:a}){gr(this,ln);gr(this,dn);gr(this,pn);gr(this,gn);gr(this,yn);gr(this,wn);new.target===uo&&Object.freeze(this),yr(this,ln,t),yr(this,dn,e),yr(this,pn,Jf),yr(this,gn,$f),yr(this,yn,n),yr(this,wn,a)}get address(){return pr(this,ln)}get publicKey(){return pr(this,dn).slice()}get chains(){return pr(this,pn).slice()}get features(){return pr(this,gn).slice()}get label(){return pr(this,yn)}get icon(){return pr(this,wn)}};ln=new WeakMap,dn=new WeakMap,pn=new WeakMap,gn=new WeakMap,yn=new WeakMap,wn=new WeakMap;let co=uo;function t0(r,t){return e0(r,t)}function e0(r,t){if(r===t)return!0;const e=r.length;if(e!==t.length)return!1;for(let n=0;n<e;n++)if(r[n]!==t[n])return!1;return!0}const r0="data:image/png;base64,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",n0="hot:";class i0{constructor(t){this._listeners={},this._version="1.0.0",this._name="HOT Wallet",this._icon=r0,this._account=null,this._on=(e,n)=>{var a;return(a=this._listeners[e])!=null&&a.push(n)||(this._listeners[e]=[n]),()=>this._off(e,n)},this._connected=()=>{var n;const e=(n=this._ghost.publicKey)==null?void 0:n.toBase58();if(e){const a=this._ghost.publicKey.toBytes(),s=this._account;(!s||s.address!==e||!t0(s.publicKey,a))&&(this._account=new co({address:e,publicKey:a}),this._emit("change",{accounts:this.accounts}))}},this._disconnected=()=>{this._account&&(this._account=null,this._emit("change",{accounts:this.accounts}))},this._reconnected=()=>{this._ghost.publicKey?this._connected():this._disconnected()},this._connect=async({silent:e}={})=>(this._account||await this._ghost.connect(e?{onlyIfTrusted:!0}:void 0),this._connected(),{accounts:this.accounts}),this._disconnect=async()=>{await this._ghost.disconnect()},this._signAndSendTransaction=async(...e)=>{if(!this._account)throw new Error("not connected");const n=[];if(e.length===1){const{transaction:a,account:s,chain:h,options:f}=e[0],{minContextSlot:y,preflightCommitment:x,skipPreflight:M,maxRetries:S}=f||{};if(s!==this._account)throw new Error("invalid account");if(!ao(h))throw new Error("invalid chain");const{signature:U}=await this._ghost.signAndSendTransaction(Kr.deserialize(a),{preflightCommitment:x,minContextSlot:y,maxRetries:S,skipPreflight:M});n.push({signature:Xf.decode(U)})}else if(e.length>1)for(const a of e)n.push(...await this._signAndSendTransaction(a));return n},this._signTransaction=async(...e)=>{if(!this._account)throw new Error("not connected");const n=[];if(e.length===1){const{transaction:a,account:s,chain:h}=e[0];if(s!==this._account)throw new Error("invalid account");if(h&&!ao(h))throw new Error("invalid chain");const f=await this._ghost.signTransaction(Kr.deserialize(a)),y=Ea(f)?f.serialize():new Uint8Array(f.serialize({requireAllSignatures:!1,verifySignatures:!1}));n.push({signedTransaction:y})}else if(e.length>1){let a;for(const f of e){if(f.account!==this._account)throw new Error("invalid account");if(f.chain){if(!ao(f.chain))throw new Error("invalid chain");if(a){if(f.chain!==a)throw new Error("conflicting chain")}else a=f.chain}}const s=e.map(({transaction:f})=>Kr.deserialize(f)),h=await this._ghost.signAllTransactions(s);n.push(...h.map(f=>({signedTransaction:Ea(f)?f.serialize():new Uint8Array(f.serialize({requireAllSignatures:!1,verifySignatures:!1}))})))}return n},this._signMessage=async(...e)=>{if(!this._account)throw new Error("not connected");const n=[];if(e.length===1){const{message:a,account:s}=e[0];if(s!==this._account)throw new Error("invalid account");const{signature:h}=await this._ghost.signMessage(a);n.push({signedMessage:a,signature:h})}else if(e.length>1)for(const a of e)n.push(...await this._signMessage(a));return n},this._signIn=async(...e)=>{const n=[];if(e.length>1)for(const a of e)n.push(await this._ghost.signIn(a));else return[await this._ghost.signIn(e[0])];return n},this._ghost=t,t.on("connect",this._connected,this),t.on("disconnect",this._disconnected,this),t.on("accountChanged",this._reconnected,this),this._connected()}get version(){return this._version}get name(){return this._name}get icon(){return this._icon}get chains(){return so.slice()}get features(){return{[jf]:{version:"1.0.0",connect:this._connect},[Wf]:{version:"1.0.0",disconnect:this._disconnect},[Yf]:{version:"1.0.0",on:this._on},[xa]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:this._signAndSendTransaction},[ba]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:this._signTransaction},[Ba]:{version:"1.0.0",signMessage:this._signMessage},[Gf]:{version:"1.0.0",signIn:this._signIn},[n0]:{ghost:this._ghost}}}get accounts(){return this._account?[this._account]:[]}_emit(t,...e){var n;(n=this._listeners[t])==null||n.forEach(a=>a.apply(null,e))}_off(t,e){var n;this._listeners[t]=(n=this._listeners[t])==null?void 0:n.filter(a=>e!==a)}}function o0(r){Qf(new i0(r))}const va=r=>{let t=pe.Buffer.alloc(0);if(pe.Buffer.isBuffer(r))t=pe.Buffer.from(r);else{const e=r.split(",");e.every(n=>zf(n))?t=pe.Buffer.from(new Uint8Array(e.map(n=>+n))):t=pe.Buffer.from(r,"base64")}try{return Kr.deserialize(t)}catch{return Zn.from(t)}},Gr={publicKey:null,async connect(r){const{publicKey:t}=await le.request("solana:connect",r);return Gr.publicKey=new st(t),console.log({publicKey:Gr.publicKey}),{publicKey:Gr.publicKey}},async disconnect(){return await le.request("solana:disconnect",{})},async signAllTransactions(r){return(await le.request("solana:signAllTransactions",{transactions:r.map(e=>e.serialize().toString("base64"))})).transactions.map(e=>va(e))},async signTransaction(r){const t=await le.request("solana:signAllTransactions",{transactions:[r.serialize().toString("base64")]});return va(t.transactions[0])},async signAndSendTransaction(r,t){return{signature:(await le.request("solana:signAndSendTransaction",{transaction:r.serialize().toString("base64"),options:t})).transactions[0]}},async signIn(r){throw"Not supported"},async signMessage(r){const t=await le.request("solana:signMessage",{message:pe.Buffer.from(r).toString("base64")});return{signature:pe.Buffer.from(t.signature,"base64")}},off(r,t){le.unsubscribe(`solana:${r}`,t)},on(r,t){le.subscribe(`solana:${r}`,t)}};le.subscribe("solana:accountChanged",r=>{Gr.publicKey=r?new st(r):null}),o0(Gr);try{Object.defineProperty(window,"hotSolana",{value:Gr})}catch(r){console.error(r)}})();
