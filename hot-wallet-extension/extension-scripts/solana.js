var M0=Object.defineProperty;var ec=ft=>{throw TypeError(ft)};var k0=(ft,kt,Qt)=>kt in ft?M0(ft,kt,{enumerable:!0,configurable:!0,writable:!0,value:Qt}):ft[kt]=Qt;var ge=(ft,kt,Qt)=>k0(ft,typeof kt!="symbol"?kt+"":kt,Qt),Zo=(ft,kt,Qt)=>kt.has(ft)||ec("Cannot "+Qt);var X=(ft,kt,Qt)=>(Zo(ft,kt,"read from private field"),Qt?Qt.call(ft):kt.get(ft)),Rt=(ft,kt,Qt)=>kt.has(ft)?ec("Cannot add the same private member more than once"):kt instanceof WeakSet?kt.add(ft):kt.set(ft,Qt),Ze=(ft,kt,Qt,ye)=>(Zo(ft,kt,"write to private field"),ye?ye.call(ft,Qt):kt.set(ft,Qt),Qt),mi=(ft,kt,Qt)=>(Zo(ft,kt,"access private method"),Qt);(function(){"use strict";var yn,wn,mn,An,xn,Bn,bn,mr,ui,fi,hi,Be,Me,li,Fr,Jo,nc,Rr,En,di,pi,gi,vn,yi,In,wi;var ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kt(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Qt(r){if(r.__esModule)return r;var t=r.default;if(typeof t=="function"){var e=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var a=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(e,n,a.get?a:{enumerable:!0,get:function(){return r[n]}})}),e}var ye={},$r={};$r.byteLength=sc,$r.toByteArray=cc,$r.fromByteArray=hc;for(var Xe=[],ze=[],ic=typeof Uint8Array<"u"?Uint8Array:Array,Ai="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Lr=0,oc=Ai.length;Lr<oc;++Lr)Xe[Lr]=Ai[Lr],ze[Ai.charCodeAt(Lr)]=Lr;ze[45]=62,ze[95]=63;function $o(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");e===-1&&(e=t);var n=e===t?0:4-e%4;return[e,n]}function sc(r){var t=$o(r),e=t[0],n=t[1];return(e+n)*3/4-n}function ac(r,t,e){return(t+e)*3/4-e}function cc(r){var t,e=$o(r),n=e[0],a=e[1],s=new ic(ac(r,n,a)),f=0,h=a>0?n-4:n,y;for(y=0;y<h;y+=4)t=ze[r.charCodeAt(y)]<<18|ze[r.charCodeAt(y+1)]<<12|ze[r.charCodeAt(y+2)]<<6|ze[r.charCodeAt(y+3)],s[f++]=t>>16&255,s[f++]=t>>8&255,s[f++]=t&255;return a===2&&(t=ze[r.charCodeAt(y)]<<2|ze[r.charCodeAt(y+1)]>>4,s[f++]=t&255),a===1&&(t=ze[r.charCodeAt(y)]<<10|ze[r.charCodeAt(y+1)]<<4|ze[r.charCodeAt(y+2)]>>2,s[f++]=t>>8&255,s[f++]=t&255),s}function uc(r){return Xe[r>>18&63]+Xe[r>>12&63]+Xe[r>>6&63]+Xe[r&63]}function fc(r,t,e){for(var n,a=[],s=t;s<e;s+=3)n=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(r[s+2]&255),a.push(uc(n));return a.join("")}function hc(r){for(var t,e=r.length,n=e%3,a=[],s=16383,f=0,h=e-n;f<h;f+=s)a.push(fc(r,f,f+s>h?h:f+s));return n===1?(t=r[e-1],a.push(Xe[t>>2]+Xe[t<<4&63]+"==")):n===2&&(t=(r[e-2]<<8)+r[e-1],a.push(Xe[t>>10]+Xe[t>>4&63]+Xe[t<<2&63]+"=")),a.join("")}var Sn={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Sn.read=function(r,t,e,n,a){var s,f,h=a*8-n-1,y=(1<<h)-1,x=y>>1,M=-7,S=e?a-1:0,C=e?-1:1,U=r[t+S];for(S+=C,s=U&(1<<-M)-1,U>>=-M,M+=h;M>0;s=s*256+r[t+S],S+=C,M-=8);for(f=s&(1<<-M)-1,s>>=-M,M+=n;M>0;f=f*256+r[t+S],S+=C,M-=8);if(s===0)s=1-x;else{if(s===y)return f?NaN:(U?-1:1)*(1/0);f=f+Math.pow(2,n),s=s-x}return(U?-1:1)*f*Math.pow(2,s-n)},Sn.write=function(r,t,e,n,a,s){var f,h,y,x=s*8-a-1,M=(1<<x)-1,S=M>>1,C=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,U=n?0:s-1,D=n?1:-1,T=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(h=isNaN(t)?1:0,f=M):(f=Math.floor(Math.log(t)/Math.LN2),t*(y=Math.pow(2,-f))<1&&(f--,y*=2),f+S>=1?t+=C/y:t+=C*Math.pow(2,1-S),t*y>=2&&(f++,y/=2),f+S>=M?(h=0,f=M):f+S>=1?(h=(t*y-1)*Math.pow(2,a),f=f+S):(h=t*Math.pow(2,S-1)*Math.pow(2,a),f=0));a>=8;r[e+U]=h&255,U+=D,h/=256,a-=8);for(f=f<<a|h,x+=a;x>0;r[e+U]=f&255,U+=D,f/=256,x-=8);r[e+U-D]|=T*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const t=$r,e=Sn,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=h,r.SlowBuffer=Q,r.INSPECT_MAX_BYTES=50;const a=2147483647;r.kMaxLength=a,h.TYPED_ARRAY_SUPPORT=s(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const c=new Uint8Array(1),i={foo:function(){return 42}};return Object.setPrototypeOf(i,Uint8Array.prototype),Object.setPrototypeOf(c,i),c.foo()===42}catch{return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});function f(c){if(c>a)throw new RangeError('The value "'+c+'" is invalid for option "size"');const i=new Uint8Array(c);return Object.setPrototypeOf(i,h.prototype),i}function h(c,i,o){if(typeof c=="number"){if(typeof i=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return S(c)}return y(c,i,o)}h.poolSize=8192;function y(c,i,o){if(typeof c=="string")return C(c,i);if(ArrayBuffer.isView(c))return D(c);if(c==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c);if(Ot(c,ArrayBuffer)||c&&Ot(c.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ot(c,SharedArrayBuffer)||c&&Ot(c.buffer,SharedArrayBuffer)))return T(c,i,o);if(typeof c=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const l=c.valueOf&&c.valueOf();if(l!=null&&l!==c)return h.from(l,i,o);const g=_(c);if(g)return g;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof c[Symbol.toPrimitive]=="function")return h.from(c[Symbol.toPrimitive]("string"),i,o);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c)}h.from=function(c,i,o){return y(c,i,o)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array);function x(c){if(typeof c!="number")throw new TypeError('"size" argument must be of type number');if(c<0)throw new RangeError('The value "'+c+'" is invalid for option "size"')}function M(c,i,o){return x(c),c<=0?f(c):i!==void 0?typeof o=="string"?f(c).fill(i,o):f(c).fill(i):f(c)}h.alloc=function(c,i,o){return M(c,i,o)};function S(c){return x(c),f(c<0?0:H(c)|0)}h.allocUnsafe=function(c){return S(c)},h.allocUnsafeSlow=function(c){return S(c)};function C(c,i){if((typeof i!="string"||i==="")&&(i="utf8"),!h.isEncoding(i))throw new TypeError("Unknown encoding: "+i);const o=N(c,i)|0;let l=f(o);const g=l.write(c,i);return g!==o&&(l=l.slice(0,g)),l}function U(c){const i=c.length<0?0:H(c.length)|0,o=f(i);for(let l=0;l<i;l+=1)o[l]=c[l]&255;return o}function D(c){if(Ot(c,Uint8Array)){const i=new Uint8Array(c);return T(i.buffer,i.byteOffset,i.byteLength)}return U(c)}function T(c,i,o){if(i<0||c.byteLength<i)throw new RangeError('"offset" is outside of buffer bounds');if(c.byteLength<i+(o||0))throw new RangeError('"length" is outside of buffer bounds');let l;return i===void 0&&o===void 0?l=new Uint8Array(c):o===void 0?l=new Uint8Array(c,i):l=new Uint8Array(c,i,o),Object.setPrototypeOf(l,h.prototype),l}function _(c){if(h.isBuffer(c)){const i=H(c.length)|0,o=f(i);return o.length===0||c.copy(o,0,0,i),o}if(c.length!==void 0)return typeof c.length!="number"||It(c.length)?f(0):U(c);if(c.type==="Buffer"&&Array.isArray(c.data))return U(c.data)}function H(c){if(c>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return c|0}function Q(c){return+c!=c&&(c=0),h.alloc(+c)}h.isBuffer=function(i){return i!=null&&i._isBuffer===!0&&i!==h.prototype},h.compare=function(i,o){if(Ot(i,Uint8Array)&&(i=h.from(i,i.offset,i.byteLength)),Ot(o,Uint8Array)&&(o=h.from(o,o.offset,o.byteLength)),!h.isBuffer(i)||!h.isBuffer(o))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(i===o)return 0;let l=i.length,g=o.length;for(let w=0,b=Math.min(l,g);w<b;++w)if(i[w]!==o[w]){l=i[w],g=o[w];break}return l<g?-1:g<l?1:0},h.isEncoding=function(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(i,o){if(!Array.isArray(i))throw new TypeError('"list" argument must be an Array of Buffers');if(i.length===0)return h.alloc(0);let l;if(o===void 0)for(o=0,l=0;l<i.length;++l)o+=i[l].length;const g=h.allocUnsafe(o);let w=0;for(l=0;l<i.length;++l){let b=i[l];if(Ot(b,Uint8Array))w+b.length>g.length?(h.isBuffer(b)||(b=h.from(b)),b.copy(g,w)):Uint8Array.prototype.set.call(g,b,w);else if(h.isBuffer(b))b.copy(g,w);else throw new TypeError('"list" argument must be an Array of Buffers');w+=b.length}return g};function N(c,i){if(h.isBuffer(c))return c.length;if(ArrayBuffer.isView(c)||Ot(c,ArrayBuffer))return c.byteLength;if(typeof c!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof c);const o=c.length,l=arguments.length>2&&arguments[2]===!0;if(!l&&o===0)return 0;let g=!1;for(;;)switch(i){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":return vt(c).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o*2;case"hex":return o>>>1;case"base64":return Mt(c).length;default:if(g)return l?-1:vt(c).length;i=(""+i).toLowerCase(),g=!0}}h.byteLength=N;function it(c,i,o){let l=!1;if((i===void 0||i<0)&&(i=0),i>this.length||((o===void 0||o>this.length)&&(o=this.length),o<=0)||(o>>>=0,i>>>=0,o<=i))return"";for(c||(c="utf8");;)switch(c){case"hex":return k(this,i,o);case"utf8":case"utf-8":return u(this,i,o);case"ascii":return B(this,i,o);case"latin1":case"binary":return v(this,i,o);case"base64":return I(this,i,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,i,o);default:if(l)throw new TypeError("Unknown encoding: "+c);c=(c+"").toLowerCase(),l=!0}}h.prototype._isBuffer=!0;function $(c,i,o){const l=c[i];c[i]=c[o],c[o]=l}h.prototype.swap16=function(){const i=this.length;if(i%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let o=0;o<i;o+=2)$(this,o,o+1);return this},h.prototype.swap32=function(){const i=this.length;if(i%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let o=0;o<i;o+=4)$(this,o,o+3),$(this,o+1,o+2);return this},h.prototype.swap64=function(){const i=this.length;if(i%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let o=0;o<i;o+=8)$(this,o,o+7),$(this,o+1,o+6),$(this,o+2,o+5),$(this,o+3,o+4);return this},h.prototype.toString=function(){const i=this.length;return i===0?"":arguments.length===0?u(this,0,i):it.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(i){if(!h.isBuffer(i))throw new TypeError("Argument must be a Buffer");return this===i?!0:h.compare(this,i)===0},h.prototype.inspect=function(){let i="";const o=r.INSPECT_MAX_BYTES;return i=this.toString("hex",0,o).replace(/(.{2})/g,"$1 ").trim(),this.length>o&&(i+=" ... "),"<Buffer "+i+">"},n&&(h.prototype[n]=h.prototype.inspect),h.prototype.compare=function(i,o,l,g,w){if(Ot(i,Uint8Array)&&(i=h.from(i,i.offset,i.byteLength)),!h.isBuffer(i))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof i);if(o===void 0&&(o=0),l===void 0&&(l=i?i.length:0),g===void 0&&(g=0),w===void 0&&(w=this.length),o<0||l>i.length||g<0||w>this.length)throw new RangeError("out of range index");if(g>=w&&o>=l)return 0;if(g>=w)return-1;if(o>=l)return 1;if(o>>>=0,l>>>=0,g>>>=0,w>>>=0,this===i)return 0;let b=w-g,K=l-o;const j=Math.min(b,K),G=this.slice(g,w),ot=i.slice(o,l);for(let q=0;q<j;++q)if(G[q]!==ot[q]){b=G[q],K=ot[q];break}return b<K?-1:K<b?1:0};function ht(c,i,o,l,g){if(c.length===0)return-1;if(typeof o=="string"?(l=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),o=+o,It(o)&&(o=g?0:c.length-1),o<0&&(o=c.length+o),o>=c.length){if(g)return-1;o=c.length-1}else if(o<0)if(g)o=0;else return-1;if(typeof i=="string"&&(i=h.from(i,l)),h.isBuffer(i))return i.length===0?-1:Ft(c,i,o,l,g);if(typeof i=="number")return i=i&255,typeof Uint8Array.prototype.indexOf=="function"?g?Uint8Array.prototype.indexOf.call(c,i,o):Uint8Array.prototype.lastIndexOf.call(c,i,o):Ft(c,[i],o,l,g);throw new TypeError("val must be string, number or Buffer")}function Ft(c,i,o,l,g){let w=1,b=c.length,K=i.length;if(l!==void 0&&(l=String(l).toLowerCase(),l==="ucs2"||l==="ucs-2"||l==="utf16le"||l==="utf-16le")){if(c.length<2||i.length<2)return-1;w=2,b/=2,K/=2,o/=2}function j(ot,q){return w===1?ot[q]:ot.readUInt16BE(q*w)}let G;if(g){let ot=-1;for(G=o;G<b;G++)if(j(c,G)===j(i,ot===-1?0:G-ot)){if(ot===-1&&(ot=G),G-ot+1===K)return ot*w}else ot!==-1&&(G-=G-ot),ot=-1}else for(o+K>b&&(o=b-K),G=o;G>=0;G--){let ot=!0;for(let q=0;q<K;q++)if(j(c,G+q)!==j(i,q)){ot=!1;break}if(ot)return G}return-1}h.prototype.includes=function(i,o,l){return this.indexOf(i,o,l)!==-1},h.prototype.indexOf=function(i,o,l){return ht(this,i,o,l,!0)},h.prototype.lastIndexOf=function(i,o,l){return ht(this,i,o,l,!1)};function Gt(c,i,o,l){o=Number(o)||0;const g=c.length-o;l?(l=Number(l),l>g&&(l=g)):l=g;const w=i.length;l>w/2&&(l=w/2);let b;for(b=0;b<l;++b){const K=parseInt(i.substr(b*2,2),16);if(It(K))return b;c[o+b]=K}return b}function ke(c,i,o,l){return Bt(vt(i,c.length-o),c,o,l)}function je(c,i,o,l){return Bt(_t(i),c,o,l)}function Et(c,i,o,l){return Bt(Mt(i),c,o,l)}function Ue(c,i,o,l){return Bt(Jr(i,c.length-o),c,o,l)}h.prototype.write=function(i,o,l,g){if(o===void 0)g="utf8",l=this.length,o=0;else if(l===void 0&&typeof o=="string")g=o,l=this.length,o=0;else if(isFinite(o))o=o>>>0,isFinite(l)?(l=l>>>0,g===void 0&&(g="utf8")):(g=l,l=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const w=this.length-o;if((l===void 0||l>w)&&(l=w),i.length>0&&(l<0||o<0)||o>this.length)throw new RangeError("Attempt to write outside buffer bounds");g||(g="utf8");let b=!1;for(;;)switch(g){case"hex":return Gt(this,i,o,l);case"utf8":case"utf-8":return ke(this,i,o,l);case"ascii":case"latin1":case"binary":return je(this,i,o,l);case"base64":return Et(this,i,o,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ue(this,i,o,l);default:if(b)throw new TypeError("Unknown encoding: "+g);g=(""+g).toLowerCase(),b=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(c,i,o){return i===0&&o===c.length?t.fromByteArray(c):t.fromByteArray(c.slice(i,o))}function u(c,i,o){o=Math.min(c.length,o);const l=[];let g=i;for(;g<o;){const w=c[g];let b=null,K=w>239?4:w>223?3:w>191?2:1;if(g+K<=o){let j,G,ot,q;switch(K){case 1:w<128&&(b=w);break;case 2:j=c[g+1],(j&192)===128&&(q=(w&31)<<6|j&63,q>127&&(b=q));break;case 3:j=c[g+1],G=c[g+2],(j&192)===128&&(G&192)===128&&(q=(w&15)<<12|(j&63)<<6|G&63,q>2047&&(q<55296||q>57343)&&(b=q));break;case 4:j=c[g+1],G=c[g+2],ot=c[g+3],(j&192)===128&&(G&192)===128&&(ot&192)===128&&(q=(w&15)<<18|(j&63)<<12|(G&63)<<6|ot&63,q>65535&&q<1114112&&(b=q))}}b===null?(b=65533,K=1):b>65535&&(b-=65536,l.push(b>>>10&1023|55296),b=56320|b&1023),l.push(b),g+=K}return m(l)}const p=4096;function m(c){const i=c.length;if(i<=p)return String.fromCharCode.apply(String,c);let o="",l=0;for(;l<i;)o+=String.fromCharCode.apply(String,c.slice(l,l+=p));return o}function B(c,i,o){let l="";o=Math.min(c.length,o);for(let g=i;g<o;++g)l+=String.fromCharCode(c[g]&127);return l}function v(c,i,o){let l="";o=Math.min(c.length,o);for(let g=i;g<o;++g)l+=String.fromCharCode(c[g]);return l}function k(c,i,o){const l=c.length;(!i||i<0)&&(i=0),(!o||o<0||o>l)&&(o=l);let g="";for(let w=i;w<o;++w)g+=Pt[c[w]];return g}function F(c,i,o){const l=c.slice(i,o);let g="";for(let w=0;w<l.length-1;w+=2)g+=String.fromCharCode(l[w]+l[w+1]*256);return g}h.prototype.slice=function(i,o){const l=this.length;i=~~i,o=o===void 0?l:~~o,i<0?(i+=l,i<0&&(i=0)):i>l&&(i=l),o<0?(o+=l,o<0&&(o=0)):o>l&&(o=l),o<i&&(o=i);const g=this.subarray(i,o);return Object.setPrototypeOf(g,h.prototype),g};function A(c,i,o){if(c%1!==0||c<0)throw new RangeError("offset is not uint");if(c+i>o)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(i,o,l){i=i>>>0,o=o>>>0,l||A(i,o,this.length);let g=this[i],w=1,b=0;for(;++b<o&&(w*=256);)g+=this[i+b]*w;return g},h.prototype.readUintBE=h.prototype.readUIntBE=function(i,o,l){i=i>>>0,o=o>>>0,l||A(i,o,this.length);let g=this[i+--o],w=1;for(;o>0&&(w*=256);)g+=this[i+--o]*w;return g},h.prototype.readUint8=h.prototype.readUInt8=function(i,o){return i=i>>>0,o||A(i,1,this.length),this[i]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(i,o){return i=i>>>0,o||A(i,2,this.length),this[i]|this[i+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(i,o){return i=i>>>0,o||A(i,2,this.length),this[i]<<8|this[i+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(i,o){return i=i>>>0,o||A(i,4,this.length),(this[i]|this[i+1]<<8|this[i+2]<<16)+this[i+3]*16777216},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(i,o){return i=i>>>0,o||A(i,4,this.length),this[i]*16777216+(this[i+1]<<16|this[i+2]<<8|this[i+3])},h.prototype.readBigUInt64LE=Wt(function(i){i=i>>>0,Ce(i,"offset");const o=this[i],l=this[i+7];(o===void 0||l===void 0)&&yt(i,this.length-8);const g=o+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24,w=this[++i]+this[++i]*2**8+this[++i]*2**16+l*2**24;return BigInt(g)+(BigInt(w)<<BigInt(32))}),h.prototype.readBigUInt64BE=Wt(function(i){i=i>>>0,Ce(i,"offset");const o=this[i],l=this[i+7];(o===void 0||l===void 0)&&yt(i,this.length-8);const g=o*2**24+this[++i]*2**16+this[++i]*2**8+this[++i],w=this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+l;return(BigInt(g)<<BigInt(32))+BigInt(w)}),h.prototype.readIntLE=function(i,o,l){i=i>>>0,o=o>>>0,l||A(i,o,this.length);let g=this[i],w=1,b=0;for(;++b<o&&(w*=256);)g+=this[i+b]*w;return w*=128,g>=w&&(g-=Math.pow(2,8*o)),g},h.prototype.readIntBE=function(i,o,l){i=i>>>0,o=o>>>0,l||A(i,o,this.length);let g=o,w=1,b=this[i+--g];for(;g>0&&(w*=256);)b+=this[i+--g]*w;return w*=128,b>=w&&(b-=Math.pow(2,8*o)),b},h.prototype.readInt8=function(i,o){return i=i>>>0,o||A(i,1,this.length),this[i]&128?(255-this[i]+1)*-1:this[i]},h.prototype.readInt16LE=function(i,o){i=i>>>0,o||A(i,2,this.length);const l=this[i]|this[i+1]<<8;return l&32768?l|4294901760:l},h.prototype.readInt16BE=function(i,o){i=i>>>0,o||A(i,2,this.length);const l=this[i+1]|this[i]<<8;return l&32768?l|4294901760:l},h.prototype.readInt32LE=function(i,o){return i=i>>>0,o||A(i,4,this.length),this[i]|this[i+1]<<8|this[i+2]<<16|this[i+3]<<24},h.prototype.readInt32BE=function(i,o){return i=i>>>0,o||A(i,4,this.length),this[i]<<24|this[i+1]<<16|this[i+2]<<8|this[i+3]},h.prototype.readBigInt64LE=Wt(function(i){i=i>>>0,Ce(i,"offset");const o=this[i],l=this[i+7];(o===void 0||l===void 0)&&yt(i,this.length-8);const g=this[i+4]+this[i+5]*2**8+this[i+6]*2**16+(l<<24);return(BigInt(g)<<BigInt(32))+BigInt(o+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24)}),h.prototype.readBigInt64BE=Wt(function(i){i=i>>>0,Ce(i,"offset");const o=this[i],l=this[i+7];(o===void 0||l===void 0)&&yt(i,this.length-8);const g=(o<<24)+this[++i]*2**16+this[++i]*2**8+this[++i];return(BigInt(g)<<BigInt(32))+BigInt(this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+l)}),h.prototype.readFloatLE=function(i,o){return i=i>>>0,o||A(i,4,this.length),e.read(this,i,!0,23,4)},h.prototype.readFloatBE=function(i,o){return i=i>>>0,o||A(i,4,this.length),e.read(this,i,!1,23,4)},h.prototype.readDoubleLE=function(i,o){return i=i>>>0,o||A(i,8,this.length),e.read(this,i,!0,52,8)},h.prototype.readDoubleBE=function(i,o){return i=i>>>0,o||A(i,8,this.length),e.read(this,i,!1,52,8)};function d(c,i,o,l,g,w){if(!h.isBuffer(c))throw new TypeError('"buffer" argument must be a Buffer instance');if(i>g||i<w)throw new RangeError('"value" argument is out of bounds');if(o+l>c.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(i,o,l,g){if(i=+i,o=o>>>0,l=l>>>0,!g){const K=Math.pow(2,8*l)-1;d(this,i,o,l,K,0)}let w=1,b=0;for(this[o]=i&255;++b<l&&(w*=256);)this[o+b]=i/w&255;return o+l},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(i,o,l,g){if(i=+i,o=o>>>0,l=l>>>0,!g){const K=Math.pow(2,8*l)-1;d(this,i,o,l,K,0)}let w=l-1,b=1;for(this[o+w]=i&255;--w>=0&&(b*=256);)this[o+w]=i/b&255;return o+l},h.prototype.writeUint8=h.prototype.writeUInt8=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,1,255,0),this[o]=i&255,o+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,2,65535,0),this[o]=i&255,this[o+1]=i>>>8,o+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,2,65535,0),this[o]=i>>>8,this[o+1]=i&255,o+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,4,4294967295,0),this[o+3]=i>>>24,this[o+2]=i>>>16,this[o+1]=i>>>8,this[o]=i&255,o+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,4,4294967295,0),this[o]=i>>>24,this[o+1]=i>>>16,this[o+2]=i>>>8,this[o+3]=i&255,o+4};function E(c,i,o,l,g){St(i,l,g,c,o,7);let w=Number(i&BigInt(4294967295));c[o++]=w,w=w>>8,c[o++]=w,w=w>>8,c[o++]=w,w=w>>8,c[o++]=w;let b=Number(i>>BigInt(32)&BigInt(4294967295));return c[o++]=b,b=b>>8,c[o++]=b,b=b>>8,c[o++]=b,b=b>>8,c[o++]=b,o}function rt(c,i,o,l,g){St(i,l,g,c,o,7);let w=Number(i&BigInt(4294967295));c[o+7]=w,w=w>>8,c[o+6]=w,w=w>>8,c[o+5]=w,w=w>>8,c[o+4]=w;let b=Number(i>>BigInt(32)&BigInt(4294967295));return c[o+3]=b,b=b>>8,c[o+2]=b,b=b>>8,c[o+1]=b,b=b>>8,c[o]=b,o+8}h.prototype.writeBigUInt64LE=Wt(function(i,o=0){return E(this,i,o,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=Wt(function(i,o=0){return rt(this,i,o,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(i,o,l,g){if(i=+i,o=o>>>0,!g){const j=Math.pow(2,8*l-1);d(this,i,o,l,j-1,-j)}let w=0,b=1,K=0;for(this[o]=i&255;++w<l&&(b*=256);)i<0&&K===0&&this[o+w-1]!==0&&(K=1),this[o+w]=(i/b>>0)-K&255;return o+l},h.prototype.writeIntBE=function(i,o,l,g){if(i=+i,o=o>>>0,!g){const j=Math.pow(2,8*l-1);d(this,i,o,l,j-1,-j)}let w=l-1,b=1,K=0;for(this[o+w]=i&255;--w>=0&&(b*=256);)i<0&&K===0&&this[o+w+1]!==0&&(K=1),this[o+w]=(i/b>>0)-K&255;return o+l},h.prototype.writeInt8=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,1,127,-128),i<0&&(i=255+i+1),this[o]=i&255,o+1},h.prototype.writeInt16LE=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,2,32767,-32768),this[o]=i&255,this[o+1]=i>>>8,o+2},h.prototype.writeInt16BE=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,2,32767,-32768),this[o]=i>>>8,this[o+1]=i&255,o+2},h.prototype.writeInt32LE=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,4,2147483647,-2147483648),this[o]=i&255,this[o+1]=i>>>8,this[o+2]=i>>>16,this[o+3]=i>>>24,o+4},h.prototype.writeInt32BE=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,4,2147483647,-2147483648),i<0&&(i=4294967295+i+1),this[o]=i>>>24,this[o+1]=i>>>16,this[o+2]=i>>>8,this[o+3]=i&255,o+4},h.prototype.writeBigInt64LE=Wt(function(i,o=0){return E(this,i,o,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=Wt(function(i,o=0){return rt(this,i,o,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function tt(c,i,o,l,g,w){if(o+l>c.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("Index out of range")}function nt(c,i,o,l,g){return i=+i,o=o>>>0,g||tt(c,i,o,4),e.write(c,i,o,l,23,4),o+4}h.prototype.writeFloatLE=function(i,o,l){return nt(this,i,o,!0,l)},h.prototype.writeFloatBE=function(i,o,l){return nt(this,i,o,!1,l)};function Kt(c,i,o,l,g){return i=+i,o=o>>>0,g||tt(c,i,o,8),e.write(c,i,o,l,52,8),o+8}h.prototype.writeDoubleLE=function(i,o,l){return Kt(this,i,o,!0,l)},h.prototype.writeDoubleBE=function(i,o,l){return Kt(this,i,o,!1,l)},h.prototype.copy=function(i,o,l,g){if(!h.isBuffer(i))throw new TypeError("argument should be a Buffer");if(l||(l=0),!g&&g!==0&&(g=this.length),o>=i.length&&(o=i.length),o||(o=0),g>0&&g<l&&(g=l),g===l||i.length===0||this.length===0)return 0;if(o<0)throw new RangeError("targetStart out of bounds");if(l<0||l>=this.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("sourceEnd out of bounds");g>this.length&&(g=this.length),i.length-o<g-l&&(g=i.length-o+l);const w=g-l;return this===i&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(o,l,g):Uint8Array.prototype.set.call(i,this.subarray(l,g),o),w},h.prototype.fill=function(i,o,l,g){if(typeof i=="string"){if(typeof o=="string"?(g=o,o=0,l=this.length):typeof l=="string"&&(g=l,l=this.length),g!==void 0&&typeof g!="string")throw new TypeError("encoding must be a string");if(typeof g=="string"&&!h.isEncoding(g))throw new TypeError("Unknown encoding: "+g);if(i.length===1){const b=i.charCodeAt(0);(g==="utf8"&&b<128||g==="latin1")&&(i=b)}}else typeof i=="number"?i=i&255:typeof i=="boolean"&&(i=Number(i));if(o<0||this.length<o||this.length<l)throw new RangeError("Out of range index");if(l<=o)return this;o=o>>>0,l=l===void 0?this.length:l>>>0,i||(i=0);let w;if(typeof i=="number")for(w=o;w<l;++w)this[w]=i;else{const b=h.isBuffer(i)?i:h.from(i,g),K=b.length;if(K===0)throw new TypeError('The value "'+i+'" is invalid for argument "value"');for(w=0;w<l-o;++w)this[w+o]=b[w%K]}return this};const ut={};function At(c,i,o){ut[c]=class extends o{constructor(){super(),Object.defineProperty(this,"message",{value:i.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${c}]`,this.stack,delete this.name}get code(){return c}set code(g){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:g,writable:!0})}toString(){return`${this.name} [${c}]: ${this.message}`}}}At("ERR_BUFFER_OUT_OF_BOUNDS",function(c){return c?`${c} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),At("ERR_INVALID_ARG_TYPE",function(c,i){return`The "${c}" argument must be of type number. Received type ${typeof i}`},TypeError),At("ERR_OUT_OF_RANGE",function(c,i,o){let l=`The value of "${c}" is out of range.`,g=o;return Number.isInteger(o)&&Math.abs(o)>2**32?g=Ar(String(o)):typeof o=="bigint"&&(g=String(o),(o>BigInt(2)**BigInt(32)||o<-(BigInt(2)**BigInt(32)))&&(g=Ar(g)),g+="n"),l+=` It must be ${i}. Received ${g}`,l},RangeError);function Ar(c){let i="",o=c.length;const l=c[0]==="-"?1:0;for(;o>=l+4;o-=3)i=`_${c.slice(o-3,o)}${i}`;return`${c.slice(0,o)}${i}`}function Dt(c,i,o){Ce(i,"offset"),(c[i]===void 0||c[i+o]===void 0)&&yt(i,c.length-(o+1))}function St(c,i,o,l,g,w){if(c>o||c<i){const b=typeof i=="bigint"?"n":"";let K;throw i===0||i===BigInt(0)?K=`>= 0${b} and < 2${b} ** ${(w+1)*8}${b}`:K=`>= -(2${b} ** ${(w+1)*8-1}${b}) and < 2 ** ${(w+1)*8-1}${b}`,new ut.ERR_OUT_OF_RANGE("value",K,c)}Dt(l,g,w)}function Ce(c,i){if(typeof c!="number")throw new ut.ERR_INVALID_ARG_TYPE(i,"number",c)}function yt(c,i,o){throw Math.floor(c)!==c?(Ce(c,o),new ut.ERR_OUT_OF_RANGE("offset","an integer",c)):i<0?new ut.ERR_BUFFER_OUT_OF_BOUNDS:new ut.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${i}`,c)}const Tt=/[^+/0-9A-Za-z-_]/g;function Xr(c){if(c=c.split("=")[0],c=c.trim().replace(Tt,""),c.length<2)return"";for(;c.length%4!==0;)c=c+"=";return c}function vt(c,i){i=i||1/0;let o;const l=c.length;let g=null;const w=[];for(let b=0;b<l;++b){if(o=c.charCodeAt(b),o>55295&&o<57344){if(!g){if(o>56319){(i-=3)>-1&&w.push(239,191,189);continue}else if(b+1===l){(i-=3)>-1&&w.push(239,191,189);continue}g=o;continue}if(o<56320){(i-=3)>-1&&w.push(239,191,189),g=o;continue}o=(g-55296<<10|o-56320)+65536}else g&&(i-=3)>-1&&w.push(239,191,189);if(g=null,o<128){if((i-=1)<0)break;w.push(o)}else if(o<2048){if((i-=2)<0)break;w.push(o>>6|192,o&63|128)}else if(o<65536){if((i-=3)<0)break;w.push(o>>12|224,o>>6&63|128,o&63|128)}else if(o<1114112){if((i-=4)<0)break;w.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else throw new Error("Invalid code point")}return w}function _t(c){const i=[];for(let o=0;o<c.length;++o)i.push(c.charCodeAt(o)&255);return i}function Jr(c,i){let o,l,g;const w=[];for(let b=0;b<c.length&&!((i-=2)<0);++b)o=c.charCodeAt(b),l=o>>8,g=o%256,w.push(g),w.push(l);return w}function Mt(c){return t.toByteArray(Xr(c))}function Bt(c,i,o,l){let g;for(g=0;g<l&&!(g+o>=i.length||g>=c.length);++g)i[g+o]=c[g];return g}function Ot(c,i){return c instanceof i||c!=null&&c.constructor!=null&&c.constructor.name!=null&&c.constructor.name===i.name}function It(c){return c!==c}const Pt=function(){const c="0123456789abcdef",i=new Array(256);for(let o=0;o<16;++o){const l=o*16;for(let g=0;g<16;++g)i[l+g]=c[o]+c[g]}return i}();function Wt(c){return typeof BigInt>"u"?Nt:c}function Nt(){throw new Error("BigInt not supported")}})(ye);var J={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const t=$r,e=Sn,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=h,r.SlowBuffer=Q,r.INSPECT_MAX_BYTES=50;const a=2147483647;r.kMaxLength=a,h.TYPED_ARRAY_SUPPORT=s(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const c=new Uint8Array(1),i={foo:function(){return 42}};return Object.setPrototypeOf(i,Uint8Array.prototype),Object.setPrototypeOf(c,i),c.foo()===42}catch{return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});function f(c){if(c>a)throw new RangeError('The value "'+c+'" is invalid for option "size"');const i=new Uint8Array(c);return Object.setPrototypeOf(i,h.prototype),i}function h(c,i,o){if(typeof c=="number"){if(typeof i=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return S(c)}return y(c,i,o)}h.poolSize=8192;function y(c,i,o){if(typeof c=="string")return C(c,i);if(ArrayBuffer.isView(c))return D(c);if(c==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c);if(Ot(c,ArrayBuffer)||c&&Ot(c.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ot(c,SharedArrayBuffer)||c&&Ot(c.buffer,SharedArrayBuffer)))return T(c,i,o);if(typeof c=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const l=c.valueOf&&c.valueOf();if(l!=null&&l!==c)return h.from(l,i,o);const g=_(c);if(g)return g;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof c[Symbol.toPrimitive]=="function")return h.from(c[Symbol.toPrimitive]("string"),i,o);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c)}h.from=function(c,i,o){return y(c,i,o)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array);function x(c){if(typeof c!="number")throw new TypeError('"size" argument must be of type number');if(c<0)throw new RangeError('The value "'+c+'" is invalid for option "size"')}function M(c,i,o){return x(c),c<=0?f(c):i!==void 0?typeof o=="string"?f(c).fill(i,o):f(c).fill(i):f(c)}h.alloc=function(c,i,o){return M(c,i,o)};function S(c){return x(c),f(c<0?0:H(c)|0)}h.allocUnsafe=function(c){return S(c)},h.allocUnsafeSlow=function(c){return S(c)};function C(c,i){if((typeof i!="string"||i==="")&&(i="utf8"),!h.isEncoding(i))throw new TypeError("Unknown encoding: "+i);const o=N(c,i)|0;let l=f(o);const g=l.write(c,i);return g!==o&&(l=l.slice(0,g)),l}function U(c){const i=c.length<0?0:H(c.length)|0,o=f(i);for(let l=0;l<i;l+=1)o[l]=c[l]&255;return o}function D(c){if(Ot(c,Uint8Array)){const i=new Uint8Array(c);return T(i.buffer,i.byteOffset,i.byteLength)}return U(c)}function T(c,i,o){if(i<0||c.byteLength<i)throw new RangeError('"offset" is outside of buffer bounds');if(c.byteLength<i+(o||0))throw new RangeError('"length" is outside of buffer bounds');let l;return i===void 0&&o===void 0?l=new Uint8Array(c):o===void 0?l=new Uint8Array(c,i):l=new Uint8Array(c,i,o),Object.setPrototypeOf(l,h.prototype),l}function _(c){if(h.isBuffer(c)){const i=H(c.length)|0,o=f(i);return o.length===0||c.copy(o,0,0,i),o}if(c.length!==void 0)return typeof c.length!="number"||It(c.length)?f(0):U(c);if(c.type==="Buffer"&&Array.isArray(c.data))return U(c.data)}function H(c){if(c>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return c|0}function Q(c){return+c!=c&&(c=0),h.alloc(+c)}h.isBuffer=function(i){return i!=null&&i._isBuffer===!0&&i!==h.prototype},h.compare=function(i,o){if(Ot(i,Uint8Array)&&(i=h.from(i,i.offset,i.byteLength)),Ot(o,Uint8Array)&&(o=h.from(o,o.offset,o.byteLength)),!h.isBuffer(i)||!h.isBuffer(o))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(i===o)return 0;let l=i.length,g=o.length;for(let w=0,b=Math.min(l,g);w<b;++w)if(i[w]!==o[w]){l=i[w],g=o[w];break}return l<g?-1:g<l?1:0},h.isEncoding=function(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(i,o){if(!Array.isArray(i))throw new TypeError('"list" argument must be an Array of Buffers');if(i.length===0)return h.alloc(0);let l;if(o===void 0)for(o=0,l=0;l<i.length;++l)o+=i[l].length;const g=h.allocUnsafe(o);let w=0;for(l=0;l<i.length;++l){let b=i[l];if(Ot(b,Uint8Array))w+b.length>g.length?(h.isBuffer(b)||(b=h.from(b)),b.copy(g,w)):Uint8Array.prototype.set.call(g,b,w);else if(h.isBuffer(b))b.copy(g,w);else throw new TypeError('"list" argument must be an Array of Buffers');w+=b.length}return g};function N(c,i){if(h.isBuffer(c))return c.length;if(ArrayBuffer.isView(c)||Ot(c,ArrayBuffer))return c.byteLength;if(typeof c!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof c);const o=c.length,l=arguments.length>2&&arguments[2]===!0;if(!l&&o===0)return 0;let g=!1;for(;;)switch(i){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":return vt(c).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o*2;case"hex":return o>>>1;case"base64":return Mt(c).length;default:if(g)return l?-1:vt(c).length;i=(""+i).toLowerCase(),g=!0}}h.byteLength=N;function it(c,i,o){let l=!1;if((i===void 0||i<0)&&(i=0),i>this.length||((o===void 0||o>this.length)&&(o=this.length),o<=0)||(o>>>=0,i>>>=0,o<=i))return"";for(c||(c="utf8");;)switch(c){case"hex":return k(this,i,o);case"utf8":case"utf-8":return u(this,i,o);case"ascii":return B(this,i,o);case"latin1":case"binary":return v(this,i,o);case"base64":return I(this,i,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,i,o);default:if(l)throw new TypeError("Unknown encoding: "+c);c=(c+"").toLowerCase(),l=!0}}h.prototype._isBuffer=!0;function $(c,i,o){const l=c[i];c[i]=c[o],c[o]=l}h.prototype.swap16=function(){const i=this.length;if(i%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let o=0;o<i;o+=2)$(this,o,o+1);return this},h.prototype.swap32=function(){const i=this.length;if(i%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let o=0;o<i;o+=4)$(this,o,o+3),$(this,o+1,o+2);return this},h.prototype.swap64=function(){const i=this.length;if(i%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let o=0;o<i;o+=8)$(this,o,o+7),$(this,o+1,o+6),$(this,o+2,o+5),$(this,o+3,o+4);return this},h.prototype.toString=function(){const i=this.length;return i===0?"":arguments.length===0?u(this,0,i):it.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(i){if(!h.isBuffer(i))throw new TypeError("Argument must be a Buffer");return this===i?!0:h.compare(this,i)===0},h.prototype.inspect=function(){let i="";const o=r.INSPECT_MAX_BYTES;return i=this.toString("hex",0,o).replace(/(.{2})/g,"$1 ").trim(),this.length>o&&(i+=" ... "),"<Buffer "+i+">"},n&&(h.prototype[n]=h.prototype.inspect),h.prototype.compare=function(i,o,l,g,w){if(Ot(i,Uint8Array)&&(i=h.from(i,i.offset,i.byteLength)),!h.isBuffer(i))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof i);if(o===void 0&&(o=0),l===void 0&&(l=i?i.length:0),g===void 0&&(g=0),w===void 0&&(w=this.length),o<0||l>i.length||g<0||w>this.length)throw new RangeError("out of range index");if(g>=w&&o>=l)return 0;if(g>=w)return-1;if(o>=l)return 1;if(o>>>=0,l>>>=0,g>>>=0,w>>>=0,this===i)return 0;let b=w-g,K=l-o;const j=Math.min(b,K),G=this.slice(g,w),ot=i.slice(o,l);for(let q=0;q<j;++q)if(G[q]!==ot[q]){b=G[q],K=ot[q];break}return b<K?-1:K<b?1:0};function ht(c,i,o,l,g){if(c.length===0)return-1;if(typeof o=="string"?(l=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),o=+o,It(o)&&(o=g?0:c.length-1),o<0&&(o=c.length+o),o>=c.length){if(g)return-1;o=c.length-1}else if(o<0)if(g)o=0;else return-1;if(typeof i=="string"&&(i=h.from(i,l)),h.isBuffer(i))return i.length===0?-1:Ft(c,i,o,l,g);if(typeof i=="number")return i=i&255,typeof Uint8Array.prototype.indexOf=="function"?g?Uint8Array.prototype.indexOf.call(c,i,o):Uint8Array.prototype.lastIndexOf.call(c,i,o):Ft(c,[i],o,l,g);throw new TypeError("val must be string, number or Buffer")}function Ft(c,i,o,l,g){let w=1,b=c.length,K=i.length;if(l!==void 0&&(l=String(l).toLowerCase(),l==="ucs2"||l==="ucs-2"||l==="utf16le"||l==="utf-16le")){if(c.length<2||i.length<2)return-1;w=2,b/=2,K/=2,o/=2}function j(ot,q){return w===1?ot[q]:ot.readUInt16BE(q*w)}let G;if(g){let ot=-1;for(G=o;G<b;G++)if(j(c,G)===j(i,ot===-1?0:G-ot)){if(ot===-1&&(ot=G),G-ot+1===K)return ot*w}else ot!==-1&&(G-=G-ot),ot=-1}else for(o+K>b&&(o=b-K),G=o;G>=0;G--){let ot=!0;for(let q=0;q<K;q++)if(j(c,G+q)!==j(i,q)){ot=!1;break}if(ot)return G}return-1}h.prototype.includes=function(i,o,l){return this.indexOf(i,o,l)!==-1},h.prototype.indexOf=function(i,o,l){return ht(this,i,o,l,!0)},h.prototype.lastIndexOf=function(i,o,l){return ht(this,i,o,l,!1)};function Gt(c,i,o,l){o=Number(o)||0;const g=c.length-o;l?(l=Number(l),l>g&&(l=g)):l=g;const w=i.length;l>w/2&&(l=w/2);let b;for(b=0;b<l;++b){const K=parseInt(i.substr(b*2,2),16);if(It(K))return b;c[o+b]=K}return b}function ke(c,i,o,l){return Bt(vt(i,c.length-o),c,o,l)}function je(c,i,o,l){return Bt(_t(i),c,o,l)}function Et(c,i,o,l){return Bt(Mt(i),c,o,l)}function Ue(c,i,o,l){return Bt(Jr(i,c.length-o),c,o,l)}h.prototype.write=function(i,o,l,g){if(o===void 0)g="utf8",l=this.length,o=0;else if(l===void 0&&typeof o=="string")g=o,l=this.length,o=0;else if(isFinite(o))o=o>>>0,isFinite(l)?(l=l>>>0,g===void 0&&(g="utf8")):(g=l,l=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const w=this.length-o;if((l===void 0||l>w)&&(l=w),i.length>0&&(l<0||o<0)||o>this.length)throw new RangeError("Attempt to write outside buffer bounds");g||(g="utf8");let b=!1;for(;;)switch(g){case"hex":return Gt(this,i,o,l);case"utf8":case"utf-8":return ke(this,i,o,l);case"ascii":case"latin1":case"binary":return je(this,i,o,l);case"base64":return Et(this,i,o,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ue(this,i,o,l);default:if(b)throw new TypeError("Unknown encoding: "+g);g=(""+g).toLowerCase(),b=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(c,i,o){return i===0&&o===c.length?t.fromByteArray(c):t.fromByteArray(c.slice(i,o))}function u(c,i,o){o=Math.min(c.length,o);const l=[];let g=i;for(;g<o;){const w=c[g];let b=null,K=w>239?4:w>223?3:w>191?2:1;if(g+K<=o){let j,G,ot,q;switch(K){case 1:w<128&&(b=w);break;case 2:j=c[g+1],(j&192)===128&&(q=(w&31)<<6|j&63,q>127&&(b=q));break;case 3:j=c[g+1],G=c[g+2],(j&192)===128&&(G&192)===128&&(q=(w&15)<<12|(j&63)<<6|G&63,q>2047&&(q<55296||q>57343)&&(b=q));break;case 4:j=c[g+1],G=c[g+2],ot=c[g+3],(j&192)===128&&(G&192)===128&&(ot&192)===128&&(q=(w&15)<<18|(j&63)<<12|(G&63)<<6|ot&63,q>65535&&q<1114112&&(b=q))}}b===null?(b=65533,K=1):b>65535&&(b-=65536,l.push(b>>>10&1023|55296),b=56320|b&1023),l.push(b),g+=K}return m(l)}const p=4096;function m(c){const i=c.length;if(i<=p)return String.fromCharCode.apply(String,c);let o="",l=0;for(;l<i;)o+=String.fromCharCode.apply(String,c.slice(l,l+=p));return o}function B(c,i,o){let l="";o=Math.min(c.length,o);for(let g=i;g<o;++g)l+=String.fromCharCode(c[g]&127);return l}function v(c,i,o){let l="";o=Math.min(c.length,o);for(let g=i;g<o;++g)l+=String.fromCharCode(c[g]);return l}function k(c,i,o){const l=c.length;(!i||i<0)&&(i=0),(!o||o<0||o>l)&&(o=l);let g="";for(let w=i;w<o;++w)g+=Pt[c[w]];return g}function F(c,i,o){const l=c.slice(i,o);let g="";for(let w=0;w<l.length-1;w+=2)g+=String.fromCharCode(l[w]+l[w+1]*256);return g}h.prototype.slice=function(i,o){const l=this.length;i=~~i,o=o===void 0?l:~~o,i<0?(i+=l,i<0&&(i=0)):i>l&&(i=l),o<0?(o+=l,o<0&&(o=0)):o>l&&(o=l),o<i&&(o=i);const g=this.subarray(i,o);return Object.setPrototypeOf(g,h.prototype),g};function A(c,i,o){if(c%1!==0||c<0)throw new RangeError("offset is not uint");if(c+i>o)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(i,o,l){i=i>>>0,o=o>>>0,l||A(i,o,this.length);let g=this[i],w=1,b=0;for(;++b<o&&(w*=256);)g+=this[i+b]*w;return g},h.prototype.readUintBE=h.prototype.readUIntBE=function(i,o,l){i=i>>>0,o=o>>>0,l||A(i,o,this.length);let g=this[i+--o],w=1;for(;o>0&&(w*=256);)g+=this[i+--o]*w;return g},h.prototype.readUint8=h.prototype.readUInt8=function(i,o){return i=i>>>0,o||A(i,1,this.length),this[i]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(i,o){return i=i>>>0,o||A(i,2,this.length),this[i]|this[i+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(i,o){return i=i>>>0,o||A(i,2,this.length),this[i]<<8|this[i+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(i,o){return i=i>>>0,o||A(i,4,this.length),(this[i]|this[i+1]<<8|this[i+2]<<16)+this[i+3]*16777216},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(i,o){return i=i>>>0,o||A(i,4,this.length),this[i]*16777216+(this[i+1]<<16|this[i+2]<<8|this[i+3])},h.prototype.readBigUInt64LE=Wt(function(i){i=i>>>0,Ce(i,"offset");const o=this[i],l=this[i+7];(o===void 0||l===void 0)&&yt(i,this.length-8);const g=o+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24,w=this[++i]+this[++i]*2**8+this[++i]*2**16+l*2**24;return BigInt(g)+(BigInt(w)<<BigInt(32))}),h.prototype.readBigUInt64BE=Wt(function(i){i=i>>>0,Ce(i,"offset");const o=this[i],l=this[i+7];(o===void 0||l===void 0)&&yt(i,this.length-8);const g=o*2**24+this[++i]*2**16+this[++i]*2**8+this[++i],w=this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+l;return(BigInt(g)<<BigInt(32))+BigInt(w)}),h.prototype.readIntLE=function(i,o,l){i=i>>>0,o=o>>>0,l||A(i,o,this.length);let g=this[i],w=1,b=0;for(;++b<o&&(w*=256);)g+=this[i+b]*w;return w*=128,g>=w&&(g-=Math.pow(2,8*o)),g},h.prototype.readIntBE=function(i,o,l){i=i>>>0,o=o>>>0,l||A(i,o,this.length);let g=o,w=1,b=this[i+--g];for(;g>0&&(w*=256);)b+=this[i+--g]*w;return w*=128,b>=w&&(b-=Math.pow(2,8*o)),b},h.prototype.readInt8=function(i,o){return i=i>>>0,o||A(i,1,this.length),this[i]&128?(255-this[i]+1)*-1:this[i]},h.prototype.readInt16LE=function(i,o){i=i>>>0,o||A(i,2,this.length);const l=this[i]|this[i+1]<<8;return l&32768?l|4294901760:l},h.prototype.readInt16BE=function(i,o){i=i>>>0,o||A(i,2,this.length);const l=this[i+1]|this[i]<<8;return l&32768?l|4294901760:l},h.prototype.readInt32LE=function(i,o){return i=i>>>0,o||A(i,4,this.length),this[i]|this[i+1]<<8|this[i+2]<<16|this[i+3]<<24},h.prototype.readInt32BE=function(i,o){return i=i>>>0,o||A(i,4,this.length),this[i]<<24|this[i+1]<<16|this[i+2]<<8|this[i+3]},h.prototype.readBigInt64LE=Wt(function(i){i=i>>>0,Ce(i,"offset");const o=this[i],l=this[i+7];(o===void 0||l===void 0)&&yt(i,this.length-8);const g=this[i+4]+this[i+5]*2**8+this[i+6]*2**16+(l<<24);return(BigInt(g)<<BigInt(32))+BigInt(o+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24)}),h.prototype.readBigInt64BE=Wt(function(i){i=i>>>0,Ce(i,"offset");const o=this[i],l=this[i+7];(o===void 0||l===void 0)&&yt(i,this.length-8);const g=(o<<24)+this[++i]*2**16+this[++i]*2**8+this[++i];return(BigInt(g)<<BigInt(32))+BigInt(this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+l)}),h.prototype.readFloatLE=function(i,o){return i=i>>>0,o||A(i,4,this.length),e.read(this,i,!0,23,4)},h.prototype.readFloatBE=function(i,o){return i=i>>>0,o||A(i,4,this.length),e.read(this,i,!1,23,4)},h.prototype.readDoubleLE=function(i,o){return i=i>>>0,o||A(i,8,this.length),e.read(this,i,!0,52,8)},h.prototype.readDoubleBE=function(i,o){return i=i>>>0,o||A(i,8,this.length),e.read(this,i,!1,52,8)};function d(c,i,o,l,g,w){if(!h.isBuffer(c))throw new TypeError('"buffer" argument must be a Buffer instance');if(i>g||i<w)throw new RangeError('"value" argument is out of bounds');if(o+l>c.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(i,o,l,g){if(i=+i,o=o>>>0,l=l>>>0,!g){const K=Math.pow(2,8*l)-1;d(this,i,o,l,K,0)}let w=1,b=0;for(this[o]=i&255;++b<l&&(w*=256);)this[o+b]=i/w&255;return o+l},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(i,o,l,g){if(i=+i,o=o>>>0,l=l>>>0,!g){const K=Math.pow(2,8*l)-1;d(this,i,o,l,K,0)}let w=l-1,b=1;for(this[o+w]=i&255;--w>=0&&(b*=256);)this[o+w]=i/b&255;return o+l},h.prototype.writeUint8=h.prototype.writeUInt8=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,1,255,0),this[o]=i&255,o+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,2,65535,0),this[o]=i&255,this[o+1]=i>>>8,o+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,2,65535,0),this[o]=i>>>8,this[o+1]=i&255,o+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,4,4294967295,0),this[o+3]=i>>>24,this[o+2]=i>>>16,this[o+1]=i>>>8,this[o]=i&255,o+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,4,4294967295,0),this[o]=i>>>24,this[o+1]=i>>>16,this[o+2]=i>>>8,this[o+3]=i&255,o+4};function E(c,i,o,l,g){St(i,l,g,c,o,7);let w=Number(i&BigInt(4294967295));c[o++]=w,w=w>>8,c[o++]=w,w=w>>8,c[o++]=w,w=w>>8,c[o++]=w;let b=Number(i>>BigInt(32)&BigInt(4294967295));return c[o++]=b,b=b>>8,c[o++]=b,b=b>>8,c[o++]=b,b=b>>8,c[o++]=b,o}function rt(c,i,o,l,g){St(i,l,g,c,o,7);let w=Number(i&BigInt(4294967295));c[o+7]=w,w=w>>8,c[o+6]=w,w=w>>8,c[o+5]=w,w=w>>8,c[o+4]=w;let b=Number(i>>BigInt(32)&BigInt(4294967295));return c[o+3]=b,b=b>>8,c[o+2]=b,b=b>>8,c[o+1]=b,b=b>>8,c[o]=b,o+8}h.prototype.writeBigUInt64LE=Wt(function(i,o=0){return E(this,i,o,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=Wt(function(i,o=0){return rt(this,i,o,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(i,o,l,g){if(i=+i,o=o>>>0,!g){const j=Math.pow(2,8*l-1);d(this,i,o,l,j-1,-j)}let w=0,b=1,K=0;for(this[o]=i&255;++w<l&&(b*=256);)i<0&&K===0&&this[o+w-1]!==0&&(K=1),this[o+w]=(i/b>>0)-K&255;return o+l},h.prototype.writeIntBE=function(i,o,l,g){if(i=+i,o=o>>>0,!g){const j=Math.pow(2,8*l-1);d(this,i,o,l,j-1,-j)}let w=l-1,b=1,K=0;for(this[o+w]=i&255;--w>=0&&(b*=256);)i<0&&K===0&&this[o+w+1]!==0&&(K=1),this[o+w]=(i/b>>0)-K&255;return o+l},h.prototype.writeInt8=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,1,127,-128),i<0&&(i=255+i+1),this[o]=i&255,o+1},h.prototype.writeInt16LE=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,2,32767,-32768),this[o]=i&255,this[o+1]=i>>>8,o+2},h.prototype.writeInt16BE=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,2,32767,-32768),this[o]=i>>>8,this[o+1]=i&255,o+2},h.prototype.writeInt32LE=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,4,2147483647,-2147483648),this[o]=i&255,this[o+1]=i>>>8,this[o+2]=i>>>16,this[o+3]=i>>>24,o+4},h.prototype.writeInt32BE=function(i,o,l){return i=+i,o=o>>>0,l||d(this,i,o,4,2147483647,-2147483648),i<0&&(i=4294967295+i+1),this[o]=i>>>24,this[o+1]=i>>>16,this[o+2]=i>>>8,this[o+3]=i&255,o+4},h.prototype.writeBigInt64LE=Wt(function(i,o=0){return E(this,i,o,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=Wt(function(i,o=0){return rt(this,i,o,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function tt(c,i,o,l,g,w){if(o+l>c.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("Index out of range")}function nt(c,i,o,l,g){return i=+i,o=o>>>0,g||tt(c,i,o,4),e.write(c,i,o,l,23,4),o+4}h.prototype.writeFloatLE=function(i,o,l){return nt(this,i,o,!0,l)},h.prototype.writeFloatBE=function(i,o,l){return nt(this,i,o,!1,l)};function Kt(c,i,o,l,g){return i=+i,o=o>>>0,g||tt(c,i,o,8),e.write(c,i,o,l,52,8),o+8}h.prototype.writeDoubleLE=function(i,o,l){return Kt(this,i,o,!0,l)},h.prototype.writeDoubleBE=function(i,o,l){return Kt(this,i,o,!1,l)},h.prototype.copy=function(i,o,l,g){if(!h.isBuffer(i))throw new TypeError("argument should be a Buffer");if(l||(l=0),!g&&g!==0&&(g=this.length),o>=i.length&&(o=i.length),o||(o=0),g>0&&g<l&&(g=l),g===l||i.length===0||this.length===0)return 0;if(o<0)throw new RangeError("targetStart out of bounds");if(l<0||l>=this.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("sourceEnd out of bounds");g>this.length&&(g=this.length),i.length-o<g-l&&(g=i.length-o+l);const w=g-l;return this===i&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(o,l,g):Uint8Array.prototype.set.call(i,this.subarray(l,g),o),w},h.prototype.fill=function(i,o,l,g){if(typeof i=="string"){if(typeof o=="string"?(g=o,o=0,l=this.length):typeof l=="string"&&(g=l,l=this.length),g!==void 0&&typeof g!="string")throw new TypeError("encoding must be a string");if(typeof g=="string"&&!h.isEncoding(g))throw new TypeError("Unknown encoding: "+g);if(i.length===1){const b=i.charCodeAt(0);(g==="utf8"&&b<128||g==="latin1")&&(i=b)}}else typeof i=="number"?i=i&255:typeof i=="boolean"&&(i=Number(i));if(o<0||this.length<o||this.length<l)throw new RangeError("Out of range index");if(l<=o)return this;o=o>>>0,l=l===void 0?this.length:l>>>0,i||(i=0);let w;if(typeof i=="number")for(w=o;w<l;++w)this[w]=i;else{const b=h.isBuffer(i)?i:h.from(i,g),K=b.length;if(K===0)throw new TypeError('The value "'+i+'" is invalid for argument "value"');for(w=0;w<l-o;++w)this[w+o]=b[w%K]}return this};const ut={};function At(c,i,o){ut[c]=class extends o{constructor(){super(),Object.defineProperty(this,"message",{value:i.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${c}]`,this.stack,delete this.name}get code(){return c}set code(g){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:g,writable:!0})}toString(){return`${this.name} [${c}]: ${this.message}`}}}At("ERR_BUFFER_OUT_OF_BOUNDS",function(c){return c?`${c} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),At("ERR_INVALID_ARG_TYPE",function(c,i){return`The "${c}" argument must be of type number. Received type ${typeof i}`},TypeError),At("ERR_OUT_OF_RANGE",function(c,i,o){let l=`The value of "${c}" is out of range.`,g=o;return Number.isInteger(o)&&Math.abs(o)>2**32?g=Ar(String(o)):typeof o=="bigint"&&(g=String(o),(o>BigInt(2)**BigInt(32)||o<-(BigInt(2)**BigInt(32)))&&(g=Ar(g)),g+="n"),l+=` It must be ${i}. Received ${g}`,l},RangeError);function Ar(c){let i="",o=c.length;const l=c[0]==="-"?1:0;for(;o>=l+4;o-=3)i=`_${c.slice(o-3,o)}${i}`;return`${c.slice(0,o)}${i}`}function Dt(c,i,o){Ce(i,"offset"),(c[i]===void 0||c[i+o]===void 0)&&yt(i,c.length-(o+1))}function St(c,i,o,l,g,w){if(c>o||c<i){const b=typeof i=="bigint"?"n":"";let K;throw i===0||i===BigInt(0)?K=`>= 0${b} and < 2${b} ** ${(w+1)*8}${b}`:K=`>= -(2${b} ** ${(w+1)*8-1}${b}) and < 2 ** ${(w+1)*8-1}${b}`,new ut.ERR_OUT_OF_RANGE("value",K,c)}Dt(l,g,w)}function Ce(c,i){if(typeof c!="number")throw new ut.ERR_INVALID_ARG_TYPE(i,"number",c)}function yt(c,i,o){throw Math.floor(c)!==c?(Ce(c,o),new ut.ERR_OUT_OF_RANGE("offset","an integer",c)):i<0?new ut.ERR_BUFFER_OUT_OF_BOUNDS:new ut.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${i}`,c)}const Tt=/[^+/0-9A-Za-z-_]/g;function Xr(c){if(c=c.split("=")[0],c=c.trim().replace(Tt,""),c.length<2)return"";for(;c.length%4!==0;)c=c+"=";return c}function vt(c,i){i=i||1/0;let o;const l=c.length;let g=null;const w=[];for(let b=0;b<l;++b){if(o=c.charCodeAt(b),o>55295&&o<57344){if(!g){if(o>56319){(i-=3)>-1&&w.push(239,191,189);continue}else if(b+1===l){(i-=3)>-1&&w.push(239,191,189);continue}g=o;continue}if(o<56320){(i-=3)>-1&&w.push(239,191,189),g=o;continue}o=(g-55296<<10|o-56320)+65536}else g&&(i-=3)>-1&&w.push(239,191,189);if(g=null,o<128){if((i-=1)<0)break;w.push(o)}else if(o<2048){if((i-=2)<0)break;w.push(o>>6|192,o&63|128)}else if(o<65536){if((i-=3)<0)break;w.push(o>>12|224,o>>6&63|128,o&63|128)}else if(o<1114112){if((i-=4)<0)break;w.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else throw new Error("Invalid code point")}return w}function _t(c){const i=[];for(let o=0;o<c.length;++o)i.push(c.charCodeAt(o)&255);return i}function Jr(c,i){let o,l,g;const w=[];for(let b=0;b<c.length&&!((i-=2)<0);++b)o=c.charCodeAt(b),l=o>>8,g=o%256,w.push(g),w.push(l);return w}function Mt(c){return t.toByteArray(Xr(c))}function Bt(c,i,o,l){let g;for(g=0;g<l&&!(g+o>=i.length||g>=c.length);++g)i[g+o]=c[g];return g}function Ot(c,i){return c instanceof i||c!=null&&c.constructor!=null&&c.constructor.name!=null&&c.constructor.name===i.name}function It(c){return c!==c}const Pt=function(){const c="0123456789abcdef",i=new Array(256);for(let o=0;o<16;++o){const l=o*16;for(let g=0;g<16;++g)i[l+g]=c[o]+c[g]}return i}();function Wt(c){return typeof BigInt>"u"?Nt:c}function Nt(){throw new Error("BigInt not supported")}})(J);function ts(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`positive integer expected, not ${r}`)}function lc(r){return r instanceof Uint8Array||r!=null&&typeof r=="object"&&r.constructor.name==="Uint8Array"}function xi(r,...t){if(!lc(r))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(r.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${r.length}`)}function dc(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ts(r.outputLen),ts(r.blockLen)}function Mn(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}function pc(r,t){xi(r);const e=t.outputLen;if(r.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Bi=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),Je=(r,t)=>r<<32-t|r>>>t;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function gc(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function bi(r){return typeof r=="string"&&(r=gc(r)),xi(r),r}class es{clone(){return this._cloneInto()}}function rs(r){const t=n=>r().update(bi(n)).digest(),e=r();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>r(),t}function yc(r,t,e,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(t,e,n);const a=BigInt(32),s=BigInt(4294967295),f=Number(e>>a&s),h=Number(e&s),y=n?4:0,x=n?0:4;r.setUint32(t+y,f,n),r.setUint32(t+x,h,n)}const wc=(r,t,e)=>r&t^~r&e,mc=(r,t,e)=>r&t^r&e^t&e;class ns extends es{constructor(t,e,n,a){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=a,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Bi(this.buffer)}update(t){Mn(this);const{view:e,buffer:n,blockLen:a}=this;t=bi(t);const s=t.length;for(let f=0;f<s;){const h=Math.min(a-this.pos,s-f);if(h===a){const y=Bi(t);for(;a<=s-f;f+=a)this.process(y,f);continue}n.set(t.subarray(f,f+h),this.pos),this.pos+=h,f+=h,this.pos===a&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Mn(this),pc(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:a,isLE:s}=this;let{pos:f}=this;e[f++]=128,this.buffer.subarray(f).fill(0),this.padOffset>a-f&&(this.process(n,0),f=0);for(let S=f;S<a;S++)e[S]=0;yc(n,a-8,BigInt(this.length*8),s),this.process(n,0);const h=Bi(t),y=this.outputLen;if(y%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const x=y/4,M=this.get();if(x>M.length)throw new Error("_sha2: outputLen bigger than state");for(let S=0;S<x;S++)h.setUint32(4*S,M[S],s)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:a,finished:s,destroyed:f,pos:h}=this;return t.length=a,t.pos=h,t.finished=s,t.destroyed=f,a%e&&t.buffer.set(n),t}}const kn=BigInt(2**32-1),Ei=BigInt(32);function is(r,t=!1){return t?{h:Number(r&kn),l:Number(r>>Ei&kn)}:{h:Number(r>>Ei&kn)|0,l:Number(r&kn)|0}}function Ac(r,t=!1){let e=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let a=0;a<r.length;a++){const{h:s,l:f}=is(r[a],t);[e[a],n[a]]=[s,f]}return[e,n]}const xc=(r,t)=>BigInt(r>>>0)<<Ei|BigInt(t>>>0),Bc=(r,t,e)=>r>>>e,bc=(r,t,e)=>r<<32-e|t>>>e,Ec=(r,t,e)=>r>>>e|t<<32-e,vc=(r,t,e)=>r<<32-e|t>>>e,Ic=(r,t,e)=>r<<64-e|t>>>e-32,Sc=(r,t,e)=>r>>>e-32|t<<64-e,Mc=(r,t)=>t,kc=(r,t)=>r,Uc=(r,t,e)=>r<<e|t>>>32-e,Cc=(r,t,e)=>t<<e|r>>>32-e,Fc=(r,t,e)=>t<<e-32|r>>>64-e,Rc=(r,t,e)=>r<<e-32|t>>>64-e;function Lc(r,t,e,n){const a=(t>>>0)+(n>>>0);return{h:r+e+(a/2**32|0)|0,l:a|0}}const ct={fromBig:is,split:Ac,toBig:xc,shrSH:Bc,shrSL:bc,rotrSH:Ec,rotrSL:vc,rotrBH:Ic,rotrBL:Sc,rotr32H:Mc,rotr32L:kc,rotlSH:Uc,rotlSL:Cc,rotlBH:Fc,rotlBL:Rc,add:Lc,add3L:(r,t,e)=>(r>>>0)+(t>>>0)+(e>>>0),add3H:(r,t,e,n)=>t+e+n+(r/2**32|0)|0,add4L:(r,t,e,n)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0),add4H:(r,t,e,n,a)=>t+e+n+a+(r/2**32|0)|0,add5H:(r,t,e,n,a,s)=>t+e+n+a+s+(r/2**32|0)|0,add5L:(r,t,e,n,a)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0)+(a>>>0)},[Dc,Tc]=ct.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),sr=new Uint32Array(80),ar=new Uint32Array(80);class _c extends ns{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:n,Bl:a,Ch:s,Cl:f,Dh:h,Dl:y,Eh:x,El:M,Fh:S,Fl:C,Gh:U,Gl:D,Hh:T,Hl:_}=this;return[t,e,n,a,s,f,h,y,x,M,S,C,U,D,T,_]}set(t,e,n,a,s,f,h,y,x,M,S,C,U,D,T,_){this.Ah=t|0,this.Al=e|0,this.Bh=n|0,this.Bl=a|0,this.Ch=s|0,this.Cl=f|0,this.Dh=h|0,this.Dl=y|0,this.Eh=x|0,this.El=M|0,this.Fh=S|0,this.Fl=C|0,this.Gh=U|0,this.Gl=D|0,this.Hh=T|0,this.Hl=_|0}process(t,e){for(let N=0;N<16;N++,e+=4)sr[N]=t.getUint32(e),ar[N]=t.getUint32(e+=4);for(let N=16;N<80;N++){const it=sr[N-15]|0,$=ar[N-15]|0,ht=ct.rotrSH(it,$,1)^ct.rotrSH(it,$,8)^ct.shrSH(it,$,7),Ft=ct.rotrSL(it,$,1)^ct.rotrSL(it,$,8)^ct.shrSL(it,$,7),Gt=sr[N-2]|0,ke=ar[N-2]|0,je=ct.rotrSH(Gt,ke,19)^ct.rotrBH(Gt,ke,61)^ct.shrSH(Gt,ke,6),Et=ct.rotrSL(Gt,ke,19)^ct.rotrBL(Gt,ke,61)^ct.shrSL(Gt,ke,6),Ue=ct.add4L(Ft,Et,ar[N-7],ar[N-16]),I=ct.add4H(Ue,ht,je,sr[N-7],sr[N-16]);sr[N]=I|0,ar[N]=Ue|0}let{Ah:n,Al:a,Bh:s,Bl:f,Ch:h,Cl:y,Dh:x,Dl:M,Eh:S,El:C,Fh:U,Fl:D,Gh:T,Gl:_,Hh:H,Hl:Q}=this;for(let N=0;N<80;N++){const it=ct.rotrSH(S,C,14)^ct.rotrSH(S,C,18)^ct.rotrBH(S,C,41),$=ct.rotrSL(S,C,14)^ct.rotrSL(S,C,18)^ct.rotrBL(S,C,41),ht=S&U^~S&T,Ft=C&D^~C&_,Gt=ct.add5L(Q,$,Ft,Tc[N],ar[N]),ke=ct.add5H(Gt,H,it,ht,Dc[N],sr[N]),je=Gt|0,Et=ct.rotrSH(n,a,28)^ct.rotrBH(n,a,34)^ct.rotrBH(n,a,39),Ue=ct.rotrSL(n,a,28)^ct.rotrBL(n,a,34)^ct.rotrBL(n,a,39),I=n&s^n&h^s&h,u=a&f^a&y^f&y;H=T|0,Q=_|0,T=U|0,_=D|0,U=S|0,D=C|0,{h:S,l:C}=ct.add(x|0,M|0,ke|0,je|0),x=h|0,M=y|0,h=s|0,y=f|0,s=n|0,f=a|0;const p=ct.add3L(je,Ue,u);n=ct.add3H(p,ke,Et,I),a=p|0}({h:n,l:a}=ct.add(this.Ah|0,this.Al|0,n|0,a|0)),{h:s,l:f}=ct.add(this.Bh|0,this.Bl|0,s|0,f|0),{h,l:y}=ct.add(this.Ch|0,this.Cl|0,h|0,y|0),{h:x,l:M}=ct.add(this.Dh|0,this.Dl|0,x|0,M|0),{h:S,l:C}=ct.add(this.Eh|0,this.El|0,S|0,C|0),{h:U,l:D}=ct.add(this.Fh|0,this.Fl|0,U|0,D|0),{h:T,l:_}=ct.add(this.Gh|0,this.Gl|0,T|0,_|0),{h:H,l:Q}=ct.add(this.Hh|0,this.Hl|0,H|0,Q|0),this.set(n,a,s,f,h,y,x,M,S,C,U,D,T,_,H,Q)}roundClean(){sr.fill(0),ar.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Oc=rs(()=>new _c),vi=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}));/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const we=BigInt(0),dt=BigInt(1),cr=BigInt(2),Pc=BigInt(8),os=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),Ut=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:os,n:os,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")}),ss=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),tn=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742");const Nc=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Hc=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),zc=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Kc=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class pt{constructor(t,e,n,a){this.x=t,this.y=e,this.z=n,this.t=a}static fromAffine(t){if(!(t instanceof jt))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return t.equals(jt.ZERO)?pt.ZERO:new pt(t.x,t.y,dt,O(t.x*t.y))}static toAffineBatch(t){const e=Gc(t.map(n=>n.z));return t.map((n,a)=>n.toAffine(e[a]))}static normalizeZ(t){return this.toAffineBatch(t).map(this.fromAffine)}equals(t){cs(t);const{x:e,y:n,z:a}=this,{x:s,y:f,z:h}=t,y=O(e*h),x=O(s*a),M=O(n*h),S=O(f*a);return y===x&&M===S}negate(){return new pt(O(-this.x),this.y,this.z,O(-this.t))}double(){const{x:t,y:e,z:n}=this,{a}=Ut,s=O(t*t),f=O(e*e),h=O(cr*O(n*n)),y=O(a*s),x=t+e,M=O(O(x*x)-s-f),S=y+f,C=S-h,U=y-f,D=O(M*C),T=O(S*U),_=O(M*U),H=O(C*S);return new pt(D,T,H,_)}add(t){cs(t);const{x:e,y:n,z:a,t:s}=this,{x:f,y:h,z:y,t:x}=t,M=O((n-e)*(h+f)),S=O((n+e)*(h-f)),C=O(S-M);if(C===we)return this.double();const U=O(a*cr*x),D=O(s*cr*y),T=D+U,_=S+M,H=D-U,Q=O(T*C),N=O(_*H),it=O(T*H),$=O(C*_);return new pt(Q,N,$,it)}subtract(t){return this.add(t.negate())}precomputeWindow(t){const e=1+256/t,n=[];let a=this,s=a;for(let f=0;f<e;f++){s=a,n.push(s);for(let h=1;h<2**(t-1);h++)s=s.add(a),n.push(s);a=s.double()}return n}wNAF(t,e){!e&&this.equals(pt.BASE)&&(e=jt.BASE);const n=e&&e._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let a=e&&Mi.get(e);a||(a=this.precomputeWindow(n),e&&n!==1&&(a=pt.normalizeZ(a),Mi.set(e,a)));let s=pt.ZERO,f=pt.BASE;const h=1+256/n,y=2**(n-1),x=BigInt(2**n-1),M=2**n,S=BigInt(n);for(let C=0;C<h;C++){const U=C*y;let D=Number(t&x);t>>=S,D>y&&(D-=M,t+=dt);const T=U,_=U+Math.abs(D)-1,H=C%2!==0,Q=D<0;D===0?f=f.add(as(H,a[T])):s=s.add(as(Q,a[_]))}return pt.normalizeZ([s,f])[0]}multiply(t,e){return this.wNAF(Fn(t,Ut.l),e)}multiplyUnsafe(t){let e=Fn(t,Ut.l,!1);const n=pt.BASE,a=pt.ZERO;if(e===we)return a;if(this.equals(a)||e===dt)return this;if(this.equals(n))return this.wNAF(e);let s=a,f=this;for(;e>we;)e&dt&&(s=s.add(f)),f=f.double(),e>>=dt;return s}isSmallOrder(){return this.multiplyUnsafe(Ut.h).equals(pt.ZERO)}isTorsionFree(){let t=this.multiplyUnsafe(Ut.l/cr).double();return Ut.l%cr&&(t=t.add(this)),t.equals(pt.ZERO)}toAffine(t){const{x:e,y:n,z:a}=this,s=this.equals(pt.ZERO);t==null&&(t=s?Pc:Un(a));const f=O(e*t),h=O(n*t),y=O(a*t);if(s)return jt.ZERO;if(y!==dt)throw new Error("invZ was invalid");return new jt(f,h)}fromRistrettoBytes(){Si()}toRistrettoBytes(){Si()}fromRistrettoHash(){Si()}}pt.BASE=new pt(Ut.Gx,Ut.Gy,dt,O(Ut.Gx*Ut.Gy)),pt.ZERO=new pt(we,dt,dt,we);function as(r,t){const e=t.negate();return r?e:t}function cs(r){if(!(r instanceof pt))throw new TypeError("ExtendedPoint expected")}function Ii(r){if(!(r instanceof Ke))throw new TypeError("RistrettoPoint expected")}function Si(){throw new Error("Legacy method: switch to RistrettoPoint")}class Ke{constructor(t){this.ep=t}static calcElligatorRistrettoMap(t){const{d:e}=Ut,n=O(tn*t*t),a=O((n+dt)*zc);let s=BigInt(-1);const f=O((s-e*n)*O(n+e));let{isValid:h,value:y}=Fi(a,f),x=O(y*t);ur(x)||(x=O(-x)),h||(y=x),h||(s=n);const M=O(s*(n-dt)*Kc-f),S=y*y,C=O((y+y)*f),U=O(M*Nc),D=O(dt-S),T=O(dt+S);return new pt(O(C*T),O(D*U),O(U*T),O(C*D))}static hashToCurve(t){t=fr(t,64);const e=Ci(t.slice(0,32)),n=this.calcElligatorRistrettoMap(e),a=Ci(t.slice(32,64)),s=this.calcElligatorRistrettoMap(a);return new Ke(n.add(s))}static fromHex(t){t=fr(t,32);const{a:e,d:n}=Ut,a="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",s=Ci(t);if(!Wc(rn(s),t)||ur(s))throw new Error(a);const f=O(s*s),h=O(dt+e*f),y=O(dt-e*f),x=O(h*h),M=O(y*y),S=O(e*n*x-M),{isValid:C,value:U}=hs(O(S*M)),D=O(U*y),T=O(U*D*S);let _=O((s+s)*D);ur(_)&&(_=O(-_));const H=O(h*T),Q=O(_*H);if(!C||ur(Q)||H===we)throw new Error(a);return new Ke(new pt(_,H,dt,Q))}toRawBytes(){let{x:t,y:e,z:n,t:a}=this.ep;const s=O(O(n+e)*O(n-e)),f=O(t*e),h=O(f*f),{value:y}=hs(O(s*h)),x=O(y*s),M=O(y*f),S=O(x*M*a);let C;if(ur(a*S)){let D=O(e*tn),T=O(t*tn);t=D,e=T,C=O(x*Hc)}else C=M;ur(t*S)&&(e=O(-e));let U=O((n-e)*C);return ur(U)&&(U=O(-U)),rn(U)}toHex(){return en(this.toRawBytes())}toString(){return this.toHex()}equals(t){Ii(t);const e=this.ep,n=t.ep,a=O(e.x*n.y)===O(e.y*n.x),s=O(e.y*n.y)===O(e.x*n.x);return a||s}add(t){return Ii(t),new Ke(this.ep.add(t.ep))}subtract(t){return Ii(t),new Ke(this.ep.subtract(t.ep))}multiply(t){return new Ke(this.ep.multiply(t))}multiplyUnsafe(t){return new Ke(this.ep.multiplyUnsafe(t))}}Ke.BASE=new Ke(pt.BASE),Ke.ZERO=new Ke(pt.ZERO);const Mi=new WeakMap;let jt=class Xo{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,Mi.delete(this)}static fromHex(t,e=!0){const{d:n,P:a}=Ut;t=fr(t,32);const s=t.slice();s[31]=t[31]&-129;const f=nn(s);if(e&&f>=a)throw new Error("Expected 0 < hex < P");if(!e&&f>=ss)throw new Error("Expected 0 < hex < 2**256");const h=O(f*f),y=O(h-dt),x=O(n*h+dt);let{isValid:M,value:S}=Fi(y,x);if(!M)throw new Error("Point.fromHex: invalid y coordinate");const C=(S&dt)===dt;return(t[31]&128)!==0!==C&&(S=O(-S)),new Xo(S,f)}static async fromPrivateKey(t){return(await ps(t)).point}toRawBytes(){const t=rn(this.y);return t[31]|=this.x&dt?128:0,t}toHex(){return en(this.toRawBytes())}toX25519(){const{y:t}=this,e=O((dt+t)*Un(dt-t));return rn(e)}isTorsionFree(){return pt.fromAffine(this).isTorsionFree()}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new Xo(O(-this.x),this.y)}add(t){return pt.fromAffine(this).add(pt.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return pt.fromAffine(this).multiply(t,this).toAffine()}};jt.BASE=new jt(Ut.Gx,Ut.Gy),jt.ZERO=new jt(we,dt);let ki=class rc{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromHex(t){const e=fr(t,64),n=jt.fromHex(e.slice(0,32),!1),a=nn(e.slice(32,64));return new rc(n,a)}assertValidity(){const{r:t,s:e}=this;if(!(t instanceof jt))throw new Error("Expected Point instance");return Fn(e,Ut.l,!1),this}toRawBytes(){const t=new Uint8Array(64);return t.set(this.r.toRawBytes()),t.set(rn(this.s),32),t}toHex(){return en(this.toRawBytes())}};function us(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(r.length===1)return r[0];const t=r.reduce((n,a)=>n+a.length,0),e=new Uint8Array(t);for(let n=0,a=0;n<r.length;n++){const s=r[n];e.set(s,a),a+=s.length}return e}const Qc=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function en(r){if(!(r instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let e=0;e<r.length;e++)t+=Qc[r[e]];return t}function Ui(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(r.length/2);for(let e=0;e<t.length;e++){const n=e*2,a=r.slice(n,n+2),s=Number.parseInt(a,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[e]=s}return t}function fs(r){const e=r.toString(16).padStart(64,"0");return Ui(e)}function rn(r){return fs(r).reverse()}function ur(r){return(O(r)&dt)===dt}function nn(r){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+en(Uint8Array.from(r).reverse()))}const qc=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Ci(r){return O(nn(r)&qc)}function O(r,t=Ut.P){const e=r%t;return e>=we?e:t+e}function Un(r,t=Ut.P){if(r===we||t<=we)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let e=O(r,t),n=t,a=we,s=dt;for(;e!==we;){const h=n/e,y=n%e,x=a-s*h;n=e,e=y,a=s,s=x}if(n!==dt)throw new Error("invert: does not exist");return O(a,t)}function Gc(r,t=Ut.P){const e=new Array(r.length),n=r.reduce((s,f,h)=>f===we?s:(e[h]=s,O(s*f,t)),dt),a=Un(n,t);return r.reduceRight((s,f,h)=>f===we?s:(e[h]=O(s*e[h],t),O(s*f,t)),a),e}function $e(r,t){const{P:e}=Ut;let n=r;for(;t-- >we;)n*=n,n%=e;return n}function jc(r){const{P:t}=Ut,e=BigInt(5),n=BigInt(10),a=BigInt(20),s=BigInt(40),f=BigInt(80),y=r*r%t*r%t,x=$e(y,cr)*y%t,M=$e(x,dt)*r%t,S=$e(M,e)*M%t,C=$e(S,n)*S%t,U=$e(C,a)*C%t,D=$e(U,s)*U%t,T=$e(D,f)*D%t,_=$e(T,f)*D%t,H=$e(_,n)*S%t;return{pow_p_5_8:$e(H,cr)*r%t,b2:y}}function Fi(r,t){const e=O(t*t*t),n=O(e*e*t),a=jc(r*n).pow_p_5_8;let s=O(r*e*a);const f=O(t*s*s),h=s,y=O(s*tn),x=f===r,M=f===O(-r),S=f===O(-r*tn);return x&&(s=h),(M||S)&&(s=y),ur(s)&&(s=O(-s)),{isValid:x||M,value:s}}function hs(r){return Fi(dt,r)}function Cn(r){return O(nn(r),Ut.l)}function Wc(r,t){if(r.length!==t.length)return!1;for(let e=0;e<r.length;e++)if(r[e]!==t[e])return!1;return!0}function fr(r,t){const e=r instanceof Uint8Array?Uint8Array.from(r):Ui(r);if(typeof t=="number"&&e.length!==t)throw new Error(`Expected ${t} bytes`);return e}function Fn(r,t,e=!0){if(!t)throw new TypeError("Specify max value");if(typeof r=="number"&&Number.isSafeInteger(r)&&(r=BigInt(r)),typeof r=="bigint"&&r<t){if(e){if(we<r)return r}else if(we<=r)return r}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function Yc(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function ls(r){if(r=typeof r=="bigint"||typeof r=="number"?fs(Fn(r,ss)):fr(r),r.length!==32)throw new Error("Expected 32 bytes");return r}function ds(r){const t=Yc(r.slice(0,32)),e=r.slice(32,64),n=Cn(t),a=jt.BASE.multiply(n),s=a.toRawBytes();return{head:t,prefix:e,scalar:n,point:a,pointBytes:s}}let on;function Rn(...r){if(typeof on!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return on(...r)}async function ps(r){return ds(await Dr.sha512(ls(r)))}function Ri(r){return ds(Rn(ls(r)))}function Vc(r){return Ri(r).pointBytes}function Zc(r,t){r=fr(r);const{prefix:e,scalar:n,pointBytes:a}=Ri(t),s=Cn(Rn(e,r)),f=jt.BASE.multiply(s),h=Cn(Rn(f.toRawBytes(),a,r)),y=O(s+h*n,Ut.l);return new ki(f,y).toRawBytes()}function Xc(r,t,e){t=fr(t),e instanceof jt||(e=jt.fromHex(e,!1));const{r:n,s:a}=r instanceof ki?r.assertValidity():ki.fromHex(r),s=pt.BASE.multiplyUnsafe(a);return{r:n,s:a,SB:s,pub:e,msg:t}}function Jc(r,t,e,n){const a=Cn(n),s=pt.fromAffine(r).multiplyUnsafe(a);return pt.fromAffine(t).add(s).subtract(e).multiplyUnsafe(Ut.h).equals(pt.ZERO)}function $c(r,t,e){const{r:n,SB:a,msg:s,pub:f}=Xc(r,t,e),h=Rn(n.toRawBytes(),f.toRawBytes(),s);return Jc(f,n,a,h)}const gs={getExtendedPublicKey:Ri,getPublicKey:Vc,sign:Zc,verify:$c};jt.BASE._setWindowSize(8);const hr={node:vi,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Dr={bytesToHex:en,hexToBytes:Ui,concatBytes:us,getExtendedPublicKey:ps,mod:O,invert:Un,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:r=>{if(r=fr(r),r.length<40||r.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return O(nn(r),Ut.l-dt)+dt},randomBytes:(r=32)=>{if(hr.web)return hr.web.getRandomValues(new Uint8Array(r));if(hr.node){const{randomBytes:t}=hr.node;return new Uint8Array(t(r).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Dr.randomBytes(32),sha512:async(...r)=>{const t=us(...r);if(hr.web){const e=await hr.web.subtle.digest("SHA-512",t.buffer);return new Uint8Array(e)}else{if(hr.node)return Uint8Array.from(hr.node.createHash("sha512").update(t).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(r=8,t=jt.BASE){const e=t.equals(jt.BASE)?t:new jt(t.x,t.y);return e._setWindowSize(r),e.multiply(cr),e},sha512Sync:void 0};Object.defineProperties(Dr,{sha512Sync:{configurable:!1,get(){return on},set(r){on||(on=r)}}});var Li={exports:{}};const tu=Qt(vi);Li.exports,function(r){(function(t,e){function n(I,u){if(!I)throw new Error(u||"Assertion failed")}function a(I,u){I.super_=u;var p=function(){};p.prototype=u.prototype,I.prototype=new p,I.prototype.constructor=I}function s(I,u,p){if(s.isBN(I))return I;this.negative=0,this.words=null,this.length=0,this.red=null,I!==null&&((u==="le"||u==="be")&&(p=u,u=10),this._init(I||0,u||10,p||"be"))}typeof t=="object"?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;var f;try{typeof window<"u"&&typeof window.Buffer<"u"?f=window.Buffer:f=tu.Buffer}catch{}s.isBN=function(u){return u instanceof s?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===s.wordSize&&Array.isArray(u.words)},s.max=function(u,p){return u.cmp(p)>0?u:p},s.min=function(u,p){return u.cmp(p)<0?u:p},s.prototype._init=function(u,p,m){if(typeof u=="number")return this._initNumber(u,p,m);if(typeof u=="object")return this._initArray(u,p,m);p==="hex"&&(p=16),n(p===(p|0)&&p>=2&&p<=36),u=u.toString().replace(/\s+/g,"");var B=0;u[0]==="-"&&(B++,this.negative=1),B<u.length&&(p===16?this._parseHex(u,B,m):(this._parseBase(u,p,B),m==="le"&&this._initArray(this.toArray(),p,m)))},s.prototype._initNumber=function(u,p,m){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(n(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),p,m)},s.prototype._initArray=function(u,p,m){if(n(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var B=0;B<this.length;B++)this.words[B]=0;var v,k,F=0;if(m==="be")for(B=u.length-1,v=0;B>=0;B-=3)k=u[B]|u[B-1]<<8|u[B-2]<<16,this.words[v]|=k<<F&67108863,this.words[v+1]=k>>>26-F&67108863,F+=24,F>=26&&(F-=26,v++);else if(m==="le")for(B=0,v=0;B<u.length;B+=3)k=u[B]|u[B+1]<<8|u[B+2]<<16,this.words[v]|=k<<F&67108863,this.words[v+1]=k>>>26-F&67108863,F+=24,F>=26&&(F-=26,v++);return this._strip()};function h(I,u){var p=I.charCodeAt(u);if(p>=48&&p<=57)return p-48;if(p>=65&&p<=70)return p-55;if(p>=97&&p<=102)return p-87;n(!1,"Invalid character in "+I)}function y(I,u,p){var m=h(I,p);return p-1>=u&&(m|=h(I,p-1)<<4),m}s.prototype._parseHex=function(u,p,m){this.length=Math.ceil((u.length-p)/6),this.words=new Array(this.length);for(var B=0;B<this.length;B++)this.words[B]=0;var v=0,k=0,F;if(m==="be")for(B=u.length-1;B>=p;B-=2)F=y(u,p,B)<<v,this.words[k]|=F&67108863,v>=18?(v-=18,k+=1,this.words[k]|=F>>>26):v+=8;else{var A=u.length-p;for(B=A%2===0?p+1:p;B<u.length;B+=2)F=y(u,p,B)<<v,this.words[k]|=F&67108863,v>=18?(v-=18,k+=1,this.words[k]|=F>>>26):v+=8}this._strip()};function x(I,u,p,m){for(var B=0,v=0,k=Math.min(I.length,p),F=u;F<k;F++){var A=I.charCodeAt(F)-48;B*=m,A>=49?v=A-49+10:A>=17?v=A-17+10:v=A,n(A>=0&&v<m,"Invalid character"),B+=v}return B}s.prototype._parseBase=function(u,p,m){this.words=[0],this.length=1;for(var B=0,v=1;v<=67108863;v*=p)B++;B--,v=v/p|0;for(var k=u.length-m,F=k%B,A=Math.min(k,k-F)+m,d=0,E=m;E<A;E+=B)d=x(u,E,E+B,p),this.imuln(v),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(F!==0){var rt=1;for(d=x(u,E,u.length,p),E=0;E<F;E++)rt*=p;this.imuln(rt),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this._strip()},s.prototype.copy=function(u){u.words=new Array(this.length);for(var p=0;p<this.length;p++)u.words[p]=this.words[p];u.length=this.length,u.negative=this.negative,u.red=this.red};function M(I,u){I.words=u.words,I.length=u.length,I.negative=u.negative,I.red=u.red}if(s.prototype._move=function(u){M(u,this)},s.prototype.clone=function(){var u=new s(null);return this.copy(u),u},s.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=S}catch{s.prototype.inspect=S}else s.prototype.inspect=S;function S(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var C=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],U=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],D=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(u,p){u=u||10,p=p|0||1;var m;if(u===16||u==="hex"){m="";for(var B=0,v=0,k=0;k<this.length;k++){var F=this.words[k],A=((F<<B|v)&16777215).toString(16);v=F>>>24-B&16777215,B+=2,B>=26&&(B-=26,k--),v!==0||k!==this.length-1?m=C[6-A.length]+A+m:m=A+m}for(v!==0&&(m=v.toString(16)+m);m.length%p!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(u===(u|0)&&u>=2&&u<=36){var d=U[u],E=D[u];m="";var rt=this.clone();for(rt.negative=0;!rt.isZero();){var tt=rt.modrn(E).toString(u);rt=rt.idivn(E),rt.isZero()?m=tt+m:m=C[d-tt.length]+tt+m}for(this.isZero()&&(m="0"+m);m.length%p!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},s.prototype.toJSON=function(){return this.toString(16,2)},f&&(s.prototype.toBuffer=function(u,p){return this.toArrayLike(f,u,p)}),s.prototype.toArray=function(u,p){return this.toArrayLike(Array,u,p)};var T=function(u,p){return u.allocUnsafe?u.allocUnsafe(p):new u(p)};s.prototype.toArrayLike=function(u,p,m){this._strip();var B=this.byteLength(),v=m||Math.max(1,B);n(B<=v,"byte array longer than desired length"),n(v>0,"Requested array length <= 0");var k=T(u,v),F=p==="le"?"LE":"BE";return this["_toArrayLike"+F](k,B),k},s.prototype._toArrayLikeLE=function(u,p){for(var m=0,B=0,v=0,k=0;v<this.length;v++){var F=this.words[v]<<k|B;u[m++]=F&255,m<u.length&&(u[m++]=F>>8&255),m<u.length&&(u[m++]=F>>16&255),k===6?(m<u.length&&(u[m++]=F>>24&255),B=0,k=0):(B=F>>>24,k+=2)}if(m<u.length)for(u[m++]=B;m<u.length;)u[m++]=0},s.prototype._toArrayLikeBE=function(u,p){for(var m=u.length-1,B=0,v=0,k=0;v<this.length;v++){var F=this.words[v]<<k|B;u[m--]=F&255,m>=0&&(u[m--]=F>>8&255),m>=0&&(u[m--]=F>>16&255),k===6?(m>=0&&(u[m--]=F>>24&255),B=0,k=0):(B=F>>>24,k+=2)}if(m>=0)for(u[m--]=B;m>=0;)u[m--]=0},Math.clz32?s.prototype._countBits=function(u){return 32-Math.clz32(u)}:s.prototype._countBits=function(u){var p=u,m=0;return p>=4096&&(m+=13,p>>>=13),p>=64&&(m+=7,p>>>=7),p>=8&&(m+=4,p>>>=4),p>=2&&(m+=2,p>>>=2),m+p},s.prototype._zeroBits=function(u){if(u===0)return 26;var p=u,m=0;return p&8191||(m+=13,p>>>=13),p&127||(m+=7,p>>>=7),p&15||(m+=4,p>>>=4),p&3||(m+=2,p>>>=2),p&1||m++,m},s.prototype.bitLength=function(){var u=this.words[this.length-1],p=this._countBits(u);return(this.length-1)*26+p};function _(I){for(var u=new Array(I.bitLength()),p=0;p<u.length;p++){var m=p/26|0,B=p%26;u[p]=I.words[m]>>>B&1}return u}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,p=0;p<this.length;p++){var m=this._zeroBits(this.words[p]);if(u+=m,m!==26)break}return u},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},s.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var p=0;p<u.length;p++)this.words[p]=this.words[p]|u.words[p];return this._strip()},s.prototype.ior=function(u){return n((this.negative|u.negative)===0),this.iuor(u)},s.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},s.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},s.prototype.iuand=function(u){var p;this.length>u.length?p=u:p=this;for(var m=0;m<p.length;m++)this.words[m]=this.words[m]&u.words[m];return this.length=p.length,this._strip()},s.prototype.iand=function(u){return n((this.negative|u.negative)===0),this.iuand(u)},s.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},s.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},s.prototype.iuxor=function(u){var p,m;this.length>u.length?(p=this,m=u):(p=u,m=this);for(var B=0;B<m.length;B++)this.words[B]=p.words[B]^m.words[B];if(this!==p)for(;B<p.length;B++)this.words[B]=p.words[B];return this.length=p.length,this._strip()},s.prototype.ixor=function(u){return n((this.negative|u.negative)===0),this.iuxor(u)},s.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},s.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},s.prototype.inotn=function(u){n(typeof u=="number"&&u>=0);var p=Math.ceil(u/26)|0,m=u%26;this._expand(p),m>0&&p--;for(var B=0;B<p;B++)this.words[B]=~this.words[B]&67108863;return m>0&&(this.words[B]=~this.words[B]&67108863>>26-m),this._strip()},s.prototype.notn=function(u){return this.clone().inotn(u)},s.prototype.setn=function(u,p){n(typeof u=="number"&&u>=0);var m=u/26|0,B=u%26;return this._expand(m+1),p?this.words[m]=this.words[m]|1<<B:this.words[m]=this.words[m]&~(1<<B),this._strip()},s.prototype.iadd=function(u){var p;if(this.negative!==0&&u.negative===0)return this.negative=0,p=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,p=this.isub(u),u.negative=1,p._normSign();var m,B;this.length>u.length?(m=this,B=u):(m=u,B=this);for(var v=0,k=0;k<B.length;k++)p=(m.words[k]|0)+(B.words[k]|0)+v,this.words[k]=p&67108863,v=p>>>26;for(;v!==0&&k<m.length;k++)p=(m.words[k]|0)+v,this.words[k]=p&67108863,v=p>>>26;if(this.length=m.length,v!==0)this.words[this.length]=v,this.length++;else if(m!==this)for(;k<m.length;k++)this.words[k]=m.words[k];return this},s.prototype.add=function(u){var p;return u.negative!==0&&this.negative===0?(u.negative=0,p=this.sub(u),u.negative^=1,p):u.negative===0&&this.negative!==0?(this.negative=0,p=u.sub(this),this.negative=1,p):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},s.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var p=this.iadd(u);return u.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var m=this.cmp(u);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var B,v;m>0?(B=this,v=u):(B=u,v=this);for(var k=0,F=0;F<v.length;F++)p=(B.words[F]|0)-(v.words[F]|0)+k,k=p>>26,this.words[F]=p&67108863;for(;k!==0&&F<B.length;F++)p=(B.words[F]|0)+k,k=p>>26,this.words[F]=p&67108863;if(k===0&&F<B.length&&B!==this)for(;F<B.length;F++)this.words[F]=B.words[F];return this.length=Math.max(this.length,F),B!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(u){return this.clone().isub(u)};function H(I,u,p){p.negative=u.negative^I.negative;var m=I.length+u.length|0;p.length=m,m=m-1|0;var B=I.words[0]|0,v=u.words[0]|0,k=B*v,F=k&67108863,A=k/67108864|0;p.words[0]=F;for(var d=1;d<m;d++){for(var E=A>>>26,rt=A&67108863,tt=Math.min(d,u.length-1),nt=Math.max(0,d-I.length+1);nt<=tt;nt++){var Kt=d-nt|0;B=I.words[Kt]|0,v=u.words[nt]|0,k=B*v+rt,E+=k/67108864|0,rt=k&67108863}p.words[d]=rt|0,A=E|0}return A!==0?p.words[d]=A|0:p.length--,p._strip()}var Q=function(u,p,m){var B=u.words,v=p.words,k=m.words,F=0,A,d,E,rt=B[0]|0,tt=rt&8191,nt=rt>>>13,Kt=B[1]|0,ut=Kt&8191,At=Kt>>>13,Ar=B[2]|0,Dt=Ar&8191,St=Ar>>>13,Ce=B[3]|0,yt=Ce&8191,Tt=Ce>>>13,Xr=B[4]|0,vt=Xr&8191,_t=Xr>>>13,Jr=B[5]|0,Mt=Jr&8191,Bt=Jr>>>13,Ot=B[6]|0,It=Ot&8191,Pt=Ot>>>13,Wt=B[7]|0,Nt=Wt&8191,c=Wt>>>13,i=B[8]|0,o=i&8191,l=i>>>13,g=B[9]|0,w=g&8191,b=g>>>13,K=v[0]|0,j=K&8191,G=K>>>13,ot=v[1]|0,q=ot&8191,Yt=ot>>>13,Wa=v[2]|0,Vt=Wa&8191,Zt=Wa>>>13,Ya=v[3]|0,Xt=Ya&8191,Jt=Ya>>>13,Va=v[4]|0,$t=Va&8191,te=Va>>>13,Za=v[5]|0,ee=Za&8191,re=Za>>>13,Xa=v[6]|0,ne=Xa&8191,ie=Xa>>>13,Ja=v[7]|0,oe=Ja&8191,se=Ja>>>13,$a=v[8]|0,ae=$a&8191,ce=$a>>>13,tc=v[9]|0,ue=tc&8191,fe=tc>>>13;m.negative=u.negative^p.negative,m.length=19,A=Math.imul(tt,j),d=Math.imul(tt,G),d=d+Math.imul(nt,j)|0,E=Math.imul(nt,G);var Fo=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,A=Math.imul(ut,j),d=Math.imul(ut,G),d=d+Math.imul(At,j)|0,E=Math.imul(At,G),A=A+Math.imul(tt,q)|0,d=d+Math.imul(tt,Yt)|0,d=d+Math.imul(nt,q)|0,E=E+Math.imul(nt,Yt)|0;var Ro=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(Ro>>>26)|0,Ro&=67108863,A=Math.imul(Dt,j),d=Math.imul(Dt,G),d=d+Math.imul(St,j)|0,E=Math.imul(St,G),A=A+Math.imul(ut,q)|0,d=d+Math.imul(ut,Yt)|0,d=d+Math.imul(At,q)|0,E=E+Math.imul(At,Yt)|0,A=A+Math.imul(tt,Vt)|0,d=d+Math.imul(tt,Zt)|0,d=d+Math.imul(nt,Vt)|0,E=E+Math.imul(nt,Zt)|0;var Lo=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(Lo>>>26)|0,Lo&=67108863,A=Math.imul(yt,j),d=Math.imul(yt,G),d=d+Math.imul(Tt,j)|0,E=Math.imul(Tt,G),A=A+Math.imul(Dt,q)|0,d=d+Math.imul(Dt,Yt)|0,d=d+Math.imul(St,q)|0,E=E+Math.imul(St,Yt)|0,A=A+Math.imul(ut,Vt)|0,d=d+Math.imul(ut,Zt)|0,d=d+Math.imul(At,Vt)|0,E=E+Math.imul(At,Zt)|0,A=A+Math.imul(tt,Xt)|0,d=d+Math.imul(tt,Jt)|0,d=d+Math.imul(nt,Xt)|0,E=E+Math.imul(nt,Jt)|0;var Do=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(Do>>>26)|0,Do&=67108863,A=Math.imul(vt,j),d=Math.imul(vt,G),d=d+Math.imul(_t,j)|0,E=Math.imul(_t,G),A=A+Math.imul(yt,q)|0,d=d+Math.imul(yt,Yt)|0,d=d+Math.imul(Tt,q)|0,E=E+Math.imul(Tt,Yt)|0,A=A+Math.imul(Dt,Vt)|0,d=d+Math.imul(Dt,Zt)|0,d=d+Math.imul(St,Vt)|0,E=E+Math.imul(St,Zt)|0,A=A+Math.imul(ut,Xt)|0,d=d+Math.imul(ut,Jt)|0,d=d+Math.imul(At,Xt)|0,E=E+Math.imul(At,Jt)|0,A=A+Math.imul(tt,$t)|0,d=d+Math.imul(tt,te)|0,d=d+Math.imul(nt,$t)|0,E=E+Math.imul(nt,te)|0;var To=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(To>>>26)|0,To&=67108863,A=Math.imul(Mt,j),d=Math.imul(Mt,G),d=d+Math.imul(Bt,j)|0,E=Math.imul(Bt,G),A=A+Math.imul(vt,q)|0,d=d+Math.imul(vt,Yt)|0,d=d+Math.imul(_t,q)|0,E=E+Math.imul(_t,Yt)|0,A=A+Math.imul(yt,Vt)|0,d=d+Math.imul(yt,Zt)|0,d=d+Math.imul(Tt,Vt)|0,E=E+Math.imul(Tt,Zt)|0,A=A+Math.imul(Dt,Xt)|0,d=d+Math.imul(Dt,Jt)|0,d=d+Math.imul(St,Xt)|0,E=E+Math.imul(St,Jt)|0,A=A+Math.imul(ut,$t)|0,d=d+Math.imul(ut,te)|0,d=d+Math.imul(At,$t)|0,E=E+Math.imul(At,te)|0,A=A+Math.imul(tt,ee)|0,d=d+Math.imul(tt,re)|0,d=d+Math.imul(nt,ee)|0,E=E+Math.imul(nt,re)|0;var _o=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(_o>>>26)|0,_o&=67108863,A=Math.imul(It,j),d=Math.imul(It,G),d=d+Math.imul(Pt,j)|0,E=Math.imul(Pt,G),A=A+Math.imul(Mt,q)|0,d=d+Math.imul(Mt,Yt)|0,d=d+Math.imul(Bt,q)|0,E=E+Math.imul(Bt,Yt)|0,A=A+Math.imul(vt,Vt)|0,d=d+Math.imul(vt,Zt)|0,d=d+Math.imul(_t,Vt)|0,E=E+Math.imul(_t,Zt)|0,A=A+Math.imul(yt,Xt)|0,d=d+Math.imul(yt,Jt)|0,d=d+Math.imul(Tt,Xt)|0,E=E+Math.imul(Tt,Jt)|0,A=A+Math.imul(Dt,$t)|0,d=d+Math.imul(Dt,te)|0,d=d+Math.imul(St,$t)|0,E=E+Math.imul(St,te)|0,A=A+Math.imul(ut,ee)|0,d=d+Math.imul(ut,re)|0,d=d+Math.imul(At,ee)|0,E=E+Math.imul(At,re)|0,A=A+Math.imul(tt,ne)|0,d=d+Math.imul(tt,ie)|0,d=d+Math.imul(nt,ne)|0,E=E+Math.imul(nt,ie)|0;var Oo=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,A=Math.imul(Nt,j),d=Math.imul(Nt,G),d=d+Math.imul(c,j)|0,E=Math.imul(c,G),A=A+Math.imul(It,q)|0,d=d+Math.imul(It,Yt)|0,d=d+Math.imul(Pt,q)|0,E=E+Math.imul(Pt,Yt)|0,A=A+Math.imul(Mt,Vt)|0,d=d+Math.imul(Mt,Zt)|0,d=d+Math.imul(Bt,Vt)|0,E=E+Math.imul(Bt,Zt)|0,A=A+Math.imul(vt,Xt)|0,d=d+Math.imul(vt,Jt)|0,d=d+Math.imul(_t,Xt)|0,E=E+Math.imul(_t,Jt)|0,A=A+Math.imul(yt,$t)|0,d=d+Math.imul(yt,te)|0,d=d+Math.imul(Tt,$t)|0,E=E+Math.imul(Tt,te)|0,A=A+Math.imul(Dt,ee)|0,d=d+Math.imul(Dt,re)|0,d=d+Math.imul(St,ee)|0,E=E+Math.imul(St,re)|0,A=A+Math.imul(ut,ne)|0,d=d+Math.imul(ut,ie)|0,d=d+Math.imul(At,ne)|0,E=E+Math.imul(At,ie)|0,A=A+Math.imul(tt,oe)|0,d=d+Math.imul(tt,se)|0,d=d+Math.imul(nt,oe)|0,E=E+Math.imul(nt,se)|0;var Po=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(Po>>>26)|0,Po&=67108863,A=Math.imul(o,j),d=Math.imul(o,G),d=d+Math.imul(l,j)|0,E=Math.imul(l,G),A=A+Math.imul(Nt,q)|0,d=d+Math.imul(Nt,Yt)|0,d=d+Math.imul(c,q)|0,E=E+Math.imul(c,Yt)|0,A=A+Math.imul(It,Vt)|0,d=d+Math.imul(It,Zt)|0,d=d+Math.imul(Pt,Vt)|0,E=E+Math.imul(Pt,Zt)|0,A=A+Math.imul(Mt,Xt)|0,d=d+Math.imul(Mt,Jt)|0,d=d+Math.imul(Bt,Xt)|0,E=E+Math.imul(Bt,Jt)|0,A=A+Math.imul(vt,$t)|0,d=d+Math.imul(vt,te)|0,d=d+Math.imul(_t,$t)|0,E=E+Math.imul(_t,te)|0,A=A+Math.imul(yt,ee)|0,d=d+Math.imul(yt,re)|0,d=d+Math.imul(Tt,ee)|0,E=E+Math.imul(Tt,re)|0,A=A+Math.imul(Dt,ne)|0,d=d+Math.imul(Dt,ie)|0,d=d+Math.imul(St,ne)|0,E=E+Math.imul(St,ie)|0,A=A+Math.imul(ut,oe)|0,d=d+Math.imul(ut,se)|0,d=d+Math.imul(At,oe)|0,E=E+Math.imul(At,se)|0,A=A+Math.imul(tt,ae)|0,d=d+Math.imul(tt,ce)|0,d=d+Math.imul(nt,ae)|0,E=E+Math.imul(nt,ce)|0;var No=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(No>>>26)|0,No&=67108863,A=Math.imul(w,j),d=Math.imul(w,G),d=d+Math.imul(b,j)|0,E=Math.imul(b,G),A=A+Math.imul(o,q)|0,d=d+Math.imul(o,Yt)|0,d=d+Math.imul(l,q)|0,E=E+Math.imul(l,Yt)|0,A=A+Math.imul(Nt,Vt)|0,d=d+Math.imul(Nt,Zt)|0,d=d+Math.imul(c,Vt)|0,E=E+Math.imul(c,Zt)|0,A=A+Math.imul(It,Xt)|0,d=d+Math.imul(It,Jt)|0,d=d+Math.imul(Pt,Xt)|0,E=E+Math.imul(Pt,Jt)|0,A=A+Math.imul(Mt,$t)|0,d=d+Math.imul(Mt,te)|0,d=d+Math.imul(Bt,$t)|0,E=E+Math.imul(Bt,te)|0,A=A+Math.imul(vt,ee)|0,d=d+Math.imul(vt,re)|0,d=d+Math.imul(_t,ee)|0,E=E+Math.imul(_t,re)|0,A=A+Math.imul(yt,ne)|0,d=d+Math.imul(yt,ie)|0,d=d+Math.imul(Tt,ne)|0,E=E+Math.imul(Tt,ie)|0,A=A+Math.imul(Dt,oe)|0,d=d+Math.imul(Dt,se)|0,d=d+Math.imul(St,oe)|0,E=E+Math.imul(St,se)|0,A=A+Math.imul(ut,ae)|0,d=d+Math.imul(ut,ce)|0,d=d+Math.imul(At,ae)|0,E=E+Math.imul(At,ce)|0,A=A+Math.imul(tt,ue)|0,d=d+Math.imul(tt,fe)|0,d=d+Math.imul(nt,ue)|0,E=E+Math.imul(nt,fe)|0;var Ho=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,A=Math.imul(w,q),d=Math.imul(w,Yt),d=d+Math.imul(b,q)|0,E=Math.imul(b,Yt),A=A+Math.imul(o,Vt)|0,d=d+Math.imul(o,Zt)|0,d=d+Math.imul(l,Vt)|0,E=E+Math.imul(l,Zt)|0,A=A+Math.imul(Nt,Xt)|0,d=d+Math.imul(Nt,Jt)|0,d=d+Math.imul(c,Xt)|0,E=E+Math.imul(c,Jt)|0,A=A+Math.imul(It,$t)|0,d=d+Math.imul(It,te)|0,d=d+Math.imul(Pt,$t)|0,E=E+Math.imul(Pt,te)|0,A=A+Math.imul(Mt,ee)|0,d=d+Math.imul(Mt,re)|0,d=d+Math.imul(Bt,ee)|0,E=E+Math.imul(Bt,re)|0,A=A+Math.imul(vt,ne)|0,d=d+Math.imul(vt,ie)|0,d=d+Math.imul(_t,ne)|0,E=E+Math.imul(_t,ie)|0,A=A+Math.imul(yt,oe)|0,d=d+Math.imul(yt,se)|0,d=d+Math.imul(Tt,oe)|0,E=E+Math.imul(Tt,se)|0,A=A+Math.imul(Dt,ae)|0,d=d+Math.imul(Dt,ce)|0,d=d+Math.imul(St,ae)|0,E=E+Math.imul(St,ce)|0,A=A+Math.imul(ut,ue)|0,d=d+Math.imul(ut,fe)|0,d=d+Math.imul(At,ue)|0,E=E+Math.imul(At,fe)|0;var zo=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(zo>>>26)|0,zo&=67108863,A=Math.imul(w,Vt),d=Math.imul(w,Zt),d=d+Math.imul(b,Vt)|0,E=Math.imul(b,Zt),A=A+Math.imul(o,Xt)|0,d=d+Math.imul(o,Jt)|0,d=d+Math.imul(l,Xt)|0,E=E+Math.imul(l,Jt)|0,A=A+Math.imul(Nt,$t)|0,d=d+Math.imul(Nt,te)|0,d=d+Math.imul(c,$t)|0,E=E+Math.imul(c,te)|0,A=A+Math.imul(It,ee)|0,d=d+Math.imul(It,re)|0,d=d+Math.imul(Pt,ee)|0,E=E+Math.imul(Pt,re)|0,A=A+Math.imul(Mt,ne)|0,d=d+Math.imul(Mt,ie)|0,d=d+Math.imul(Bt,ne)|0,E=E+Math.imul(Bt,ie)|0,A=A+Math.imul(vt,oe)|0,d=d+Math.imul(vt,se)|0,d=d+Math.imul(_t,oe)|0,E=E+Math.imul(_t,se)|0,A=A+Math.imul(yt,ae)|0,d=d+Math.imul(yt,ce)|0,d=d+Math.imul(Tt,ae)|0,E=E+Math.imul(Tt,ce)|0,A=A+Math.imul(Dt,ue)|0,d=d+Math.imul(Dt,fe)|0,d=d+Math.imul(St,ue)|0,E=E+Math.imul(St,fe)|0;var Ko=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,A=Math.imul(w,Xt),d=Math.imul(w,Jt),d=d+Math.imul(b,Xt)|0,E=Math.imul(b,Jt),A=A+Math.imul(o,$t)|0,d=d+Math.imul(o,te)|0,d=d+Math.imul(l,$t)|0,E=E+Math.imul(l,te)|0,A=A+Math.imul(Nt,ee)|0,d=d+Math.imul(Nt,re)|0,d=d+Math.imul(c,ee)|0,E=E+Math.imul(c,re)|0,A=A+Math.imul(It,ne)|0,d=d+Math.imul(It,ie)|0,d=d+Math.imul(Pt,ne)|0,E=E+Math.imul(Pt,ie)|0,A=A+Math.imul(Mt,oe)|0,d=d+Math.imul(Mt,se)|0,d=d+Math.imul(Bt,oe)|0,E=E+Math.imul(Bt,se)|0,A=A+Math.imul(vt,ae)|0,d=d+Math.imul(vt,ce)|0,d=d+Math.imul(_t,ae)|0,E=E+Math.imul(_t,ce)|0,A=A+Math.imul(yt,ue)|0,d=d+Math.imul(yt,fe)|0,d=d+Math.imul(Tt,ue)|0,E=E+Math.imul(Tt,fe)|0;var Qo=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,A=Math.imul(w,$t),d=Math.imul(w,te),d=d+Math.imul(b,$t)|0,E=Math.imul(b,te),A=A+Math.imul(o,ee)|0,d=d+Math.imul(o,re)|0,d=d+Math.imul(l,ee)|0,E=E+Math.imul(l,re)|0,A=A+Math.imul(Nt,ne)|0,d=d+Math.imul(Nt,ie)|0,d=d+Math.imul(c,ne)|0,E=E+Math.imul(c,ie)|0,A=A+Math.imul(It,oe)|0,d=d+Math.imul(It,se)|0,d=d+Math.imul(Pt,oe)|0,E=E+Math.imul(Pt,se)|0,A=A+Math.imul(Mt,ae)|0,d=d+Math.imul(Mt,ce)|0,d=d+Math.imul(Bt,ae)|0,E=E+Math.imul(Bt,ce)|0,A=A+Math.imul(vt,ue)|0,d=d+Math.imul(vt,fe)|0,d=d+Math.imul(_t,ue)|0,E=E+Math.imul(_t,fe)|0;var qo=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(qo>>>26)|0,qo&=67108863,A=Math.imul(w,ee),d=Math.imul(w,re),d=d+Math.imul(b,ee)|0,E=Math.imul(b,re),A=A+Math.imul(o,ne)|0,d=d+Math.imul(o,ie)|0,d=d+Math.imul(l,ne)|0,E=E+Math.imul(l,ie)|0,A=A+Math.imul(Nt,oe)|0,d=d+Math.imul(Nt,se)|0,d=d+Math.imul(c,oe)|0,E=E+Math.imul(c,se)|0,A=A+Math.imul(It,ae)|0,d=d+Math.imul(It,ce)|0,d=d+Math.imul(Pt,ae)|0,E=E+Math.imul(Pt,ce)|0,A=A+Math.imul(Mt,ue)|0,d=d+Math.imul(Mt,fe)|0,d=d+Math.imul(Bt,ue)|0,E=E+Math.imul(Bt,fe)|0;var Go=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(Go>>>26)|0,Go&=67108863,A=Math.imul(w,ne),d=Math.imul(w,ie),d=d+Math.imul(b,ne)|0,E=Math.imul(b,ie),A=A+Math.imul(o,oe)|0,d=d+Math.imul(o,se)|0,d=d+Math.imul(l,oe)|0,E=E+Math.imul(l,se)|0,A=A+Math.imul(Nt,ae)|0,d=d+Math.imul(Nt,ce)|0,d=d+Math.imul(c,ae)|0,E=E+Math.imul(c,ce)|0,A=A+Math.imul(It,ue)|0,d=d+Math.imul(It,fe)|0,d=d+Math.imul(Pt,ue)|0,E=E+Math.imul(Pt,fe)|0;var jo=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(jo>>>26)|0,jo&=67108863,A=Math.imul(w,oe),d=Math.imul(w,se),d=d+Math.imul(b,oe)|0,E=Math.imul(b,se),A=A+Math.imul(o,ae)|0,d=d+Math.imul(o,ce)|0,d=d+Math.imul(l,ae)|0,E=E+Math.imul(l,ce)|0,A=A+Math.imul(Nt,ue)|0,d=d+Math.imul(Nt,fe)|0,d=d+Math.imul(c,ue)|0,E=E+Math.imul(c,fe)|0;var Wo=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(Wo>>>26)|0,Wo&=67108863,A=Math.imul(w,ae),d=Math.imul(w,ce),d=d+Math.imul(b,ae)|0,E=Math.imul(b,ce),A=A+Math.imul(o,ue)|0,d=d+Math.imul(o,fe)|0,d=d+Math.imul(l,ue)|0,E=E+Math.imul(l,fe)|0;var Yo=(F+A|0)+((d&8191)<<13)|0;F=(E+(d>>>13)|0)+(Yo>>>26)|0,Yo&=67108863,A=Math.imul(w,ue),d=Math.imul(w,fe),d=d+Math.imul(b,ue)|0,E=Math.imul(b,fe);var Vo=(F+A|0)+((d&8191)<<13)|0;return F=(E+(d>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,k[0]=Fo,k[1]=Ro,k[2]=Lo,k[3]=Do,k[4]=To,k[5]=_o,k[6]=Oo,k[7]=Po,k[8]=No,k[9]=Ho,k[10]=zo,k[11]=Ko,k[12]=Qo,k[13]=qo,k[14]=Go,k[15]=jo,k[16]=Wo,k[17]=Yo,k[18]=Vo,F!==0&&(k[19]=F,m.length++),m};Math.imul||(Q=H);function N(I,u,p){p.negative=u.negative^I.negative,p.length=I.length+u.length;for(var m=0,B=0,v=0;v<p.length-1;v++){var k=B;B=0;for(var F=m&67108863,A=Math.min(v,u.length-1),d=Math.max(0,v-I.length+1);d<=A;d++){var E=v-d,rt=I.words[E]|0,tt=u.words[d]|0,nt=rt*tt,Kt=nt&67108863;k=k+(nt/67108864|0)|0,Kt=Kt+F|0,F=Kt&67108863,k=k+(Kt>>>26)|0,B+=k>>>26,k&=67108863}p.words[v]=F,m=k,k=B}return m!==0?p.words[v]=m:p.length--,p._strip()}function it(I,u,p){return N(I,u,p)}s.prototype.mulTo=function(u,p){var m,B=this.length+u.length;return this.length===10&&u.length===10?m=Q(this,u,p):B<63?m=H(this,u,p):B<1024?m=N(this,u,p):m=it(this,u,p),m},s.prototype.mul=function(u){var p=new s(null);return p.words=new Array(this.length+u.length),this.mulTo(u,p)},s.prototype.mulf=function(u){var p=new s(null);return p.words=new Array(this.length+u.length),it(this,u,p)},s.prototype.imul=function(u){return this.clone().mulTo(u,this)},s.prototype.imuln=function(u){var p=u<0;p&&(u=-u),n(typeof u=="number"),n(u<67108864);for(var m=0,B=0;B<this.length;B++){var v=(this.words[B]|0)*u,k=(v&67108863)+(m&67108863);m>>=26,m+=v/67108864|0,m+=k>>>26,this.words[B]=k&67108863}return m!==0&&(this.words[B]=m,this.length++),p?this.ineg():this},s.prototype.muln=function(u){return this.clone().imuln(u)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(u){var p=_(u);if(p.length===0)return new s(1);for(var m=this,B=0;B<p.length&&p[B]===0;B++,m=m.sqr());if(++B<p.length)for(var v=m.sqr();B<p.length;B++,v=v.sqr())p[B]!==0&&(m=m.mul(v));return m},s.prototype.iushln=function(u){n(typeof u=="number"&&u>=0);var p=u%26,m=(u-p)/26,B=67108863>>>26-p<<26-p,v;if(p!==0){var k=0;for(v=0;v<this.length;v++){var F=this.words[v]&B,A=(this.words[v]|0)-F<<p;this.words[v]=A|k,k=F>>>26-p}k&&(this.words[v]=k,this.length++)}if(m!==0){for(v=this.length-1;v>=0;v--)this.words[v+m]=this.words[v];for(v=0;v<m;v++)this.words[v]=0;this.length+=m}return this._strip()},s.prototype.ishln=function(u){return n(this.negative===0),this.iushln(u)},s.prototype.iushrn=function(u,p,m){n(typeof u=="number"&&u>=0);var B;p?B=(p-p%26)/26:B=0;var v=u%26,k=Math.min((u-v)/26,this.length),F=67108863^67108863>>>v<<v,A=m;if(B-=k,B=Math.max(0,B),A){for(var d=0;d<k;d++)A.words[d]=this.words[d];A.length=k}if(k!==0)if(this.length>k)for(this.length-=k,d=0;d<this.length;d++)this.words[d]=this.words[d+k];else this.words[0]=0,this.length=1;var E=0;for(d=this.length-1;d>=0&&(E!==0||d>=B);d--){var rt=this.words[d]|0;this.words[d]=E<<26-v|rt>>>v,E=rt&F}return A&&E!==0&&(A.words[A.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(u,p,m){return n(this.negative===0),this.iushrn(u,p,m)},s.prototype.shln=function(u){return this.clone().ishln(u)},s.prototype.ushln=function(u){return this.clone().iushln(u)},s.prototype.shrn=function(u){return this.clone().ishrn(u)},s.prototype.ushrn=function(u){return this.clone().iushrn(u)},s.prototype.testn=function(u){n(typeof u=="number"&&u>=0);var p=u%26,m=(u-p)/26,B=1<<p;if(this.length<=m)return!1;var v=this.words[m];return!!(v&B)},s.prototype.imaskn=function(u){n(typeof u=="number"&&u>=0);var p=u%26,m=(u-p)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(p!==0&&m++,this.length=Math.min(m,this.length),p!==0){var B=67108863^67108863>>>p<<p;this.words[this.length-1]&=B}return this._strip()},s.prototype.maskn=function(u){return this.clone().imaskn(u)},s.prototype.iaddn=function(u){return n(typeof u=="number"),n(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},s.prototype._iaddn=function(u){this.words[0]+=u;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},s.prototype.isubn=function(u){if(n(typeof u=="number"),n(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},s.prototype.addn=function(u){return this.clone().iaddn(u)},s.prototype.subn=function(u){return this.clone().isubn(u)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(u,p,m){var B=u.length+m,v;this._expand(B);var k,F=0;for(v=0;v<u.length;v++){k=(this.words[v+m]|0)+F;var A=(u.words[v]|0)*p;k-=A&67108863,F=(k>>26)-(A/67108864|0),this.words[v+m]=k&67108863}for(;v<this.length-m;v++)k=(this.words[v+m]|0)+F,F=k>>26,this.words[v+m]=k&67108863;if(F===0)return this._strip();for(n(F===-1),F=0,v=0;v<this.length;v++)k=-(this.words[v]|0)+F,F=k>>26,this.words[v]=k&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(u,p){var m=this.length-u.length,B=this.clone(),v=u,k=v.words[v.length-1]|0,F=this._countBits(k);m=26-F,m!==0&&(v=v.ushln(m),B.iushln(m),k=v.words[v.length-1]|0);var A=B.length-v.length,d;if(p!=="mod"){d=new s(null),d.length=A+1,d.words=new Array(d.length);for(var E=0;E<d.length;E++)d.words[E]=0}var rt=B.clone()._ishlnsubmul(v,1,A);rt.negative===0&&(B=rt,d&&(d.words[A]=1));for(var tt=A-1;tt>=0;tt--){var nt=(B.words[v.length+tt]|0)*67108864+(B.words[v.length+tt-1]|0);for(nt=Math.min(nt/k|0,67108863),B._ishlnsubmul(v,nt,tt);B.negative!==0;)nt--,B.negative=0,B._ishlnsubmul(v,1,tt),B.isZero()||(B.negative^=1);d&&(d.words[tt]=nt)}return d&&d._strip(),B._strip(),p!=="div"&&m!==0&&B.iushrn(m),{div:d||null,mod:B}},s.prototype.divmod=function(u,p,m){if(n(!u.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var B,v,k;return this.negative!==0&&u.negative===0?(k=this.neg().divmod(u,p),p!=="mod"&&(B=k.div.neg()),p!=="div"&&(v=k.mod.neg(),m&&v.negative!==0&&v.iadd(u)),{div:B,mod:v}):this.negative===0&&u.negative!==0?(k=this.divmod(u.neg(),p),p!=="mod"&&(B=k.div.neg()),{div:B,mod:k.mod}):this.negative&u.negative?(k=this.neg().divmod(u.neg(),p),p!=="div"&&(v=k.mod.neg(),m&&v.negative!==0&&v.isub(u)),{div:k.div,mod:v}):u.length>this.length||this.cmp(u)<0?{div:new s(0),mod:this}:u.length===1?p==="div"?{div:this.divn(u.words[0]),mod:null}:p==="mod"?{div:null,mod:new s(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new s(this.modrn(u.words[0]))}:this._wordDiv(u,p)},s.prototype.div=function(u){return this.divmod(u,"div",!1).div},s.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},s.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},s.prototype.divRound=function(u){var p=this.divmod(u);if(p.mod.isZero())return p.div;var m=p.div.negative!==0?p.mod.isub(u):p.mod,B=u.ushrn(1),v=u.andln(1),k=m.cmp(B);return k<0||v===1&&k===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},s.prototype.modrn=function(u){var p=u<0;p&&(u=-u),n(u<=67108863);for(var m=(1<<26)%u,B=0,v=this.length-1;v>=0;v--)B=(m*B+(this.words[v]|0))%u;return p?-B:B},s.prototype.modn=function(u){return this.modrn(u)},s.prototype.idivn=function(u){var p=u<0;p&&(u=-u),n(u<=67108863);for(var m=0,B=this.length-1;B>=0;B--){var v=(this.words[B]|0)+m*67108864;this.words[B]=v/u|0,m=v%u}return this._strip(),p?this.ineg():this},s.prototype.divn=function(u){return this.clone().idivn(u)},s.prototype.egcd=function(u){n(u.negative===0),n(!u.isZero());var p=this,m=u.clone();p.negative!==0?p=p.umod(u):p=p.clone();for(var B=new s(1),v=new s(0),k=new s(0),F=new s(1),A=0;p.isEven()&&m.isEven();)p.iushrn(1),m.iushrn(1),++A;for(var d=m.clone(),E=p.clone();!p.isZero();){for(var rt=0,tt=1;!(p.words[0]&tt)&&rt<26;++rt,tt<<=1);if(rt>0)for(p.iushrn(rt);rt-- >0;)(B.isOdd()||v.isOdd())&&(B.iadd(d),v.isub(E)),B.iushrn(1),v.iushrn(1);for(var nt=0,Kt=1;!(m.words[0]&Kt)&&nt<26;++nt,Kt<<=1);if(nt>0)for(m.iushrn(nt);nt-- >0;)(k.isOdd()||F.isOdd())&&(k.iadd(d),F.isub(E)),k.iushrn(1),F.iushrn(1);p.cmp(m)>=0?(p.isub(m),B.isub(k),v.isub(F)):(m.isub(p),k.isub(B),F.isub(v))}return{a:k,b:F,gcd:m.iushln(A)}},s.prototype._invmp=function(u){n(u.negative===0),n(!u.isZero());var p=this,m=u.clone();p.negative!==0?p=p.umod(u):p=p.clone();for(var B=new s(1),v=new s(0),k=m.clone();p.cmpn(1)>0&&m.cmpn(1)>0;){for(var F=0,A=1;!(p.words[0]&A)&&F<26;++F,A<<=1);if(F>0)for(p.iushrn(F);F-- >0;)B.isOdd()&&B.iadd(k),B.iushrn(1);for(var d=0,E=1;!(m.words[0]&E)&&d<26;++d,E<<=1);if(d>0)for(m.iushrn(d);d-- >0;)v.isOdd()&&v.iadd(k),v.iushrn(1);p.cmp(m)>=0?(p.isub(m),B.isub(v)):(m.isub(p),v.isub(B))}var rt;return p.cmpn(1)===0?rt=B:rt=v,rt.cmpn(0)<0&&rt.iadd(u),rt},s.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var p=this.clone(),m=u.clone();p.negative=0,m.negative=0;for(var B=0;p.isEven()&&m.isEven();B++)p.iushrn(1),m.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;m.isEven();)m.iushrn(1);var v=p.cmp(m);if(v<0){var k=p;p=m,m=k}else if(v===0||m.cmpn(1)===0)break;p.isub(m)}while(!0);return m.iushln(B)},s.prototype.invm=function(u){return this.egcd(u).a.umod(u)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(u){return this.words[0]&u},s.prototype.bincn=function(u){n(typeof u=="number");var p=u%26,m=(u-p)/26,B=1<<p;if(this.length<=m)return this._expand(m+1),this.words[m]|=B,this;for(var v=B,k=m;v!==0&&k<this.length;k++){var F=this.words[k]|0;F+=v,v=F>>>26,F&=67108863,this.words[k]=F}return v!==0&&(this.words[k]=v,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(u){var p=u<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var m;if(this.length>1)m=1;else{p&&(u=-u),n(u<=67108863,"Number is too big");var B=this.words[0]|0;m=B===u?0:B<u?-1:1}return this.negative!==0?-m|0:m},s.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var p=this.ucmp(u);return this.negative!==0?-p|0:p},s.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var p=0,m=this.length-1;m>=0;m--){var B=this.words[m]|0,v=u.words[m]|0;if(B!==v){B<v?p=-1:B>v&&(p=1);break}}return p},s.prototype.gtn=function(u){return this.cmpn(u)===1},s.prototype.gt=function(u){return this.cmp(u)===1},s.prototype.gten=function(u){return this.cmpn(u)>=0},s.prototype.gte=function(u){return this.cmp(u)>=0},s.prototype.ltn=function(u){return this.cmpn(u)===-1},s.prototype.lt=function(u){return this.cmp(u)===-1},s.prototype.lten=function(u){return this.cmpn(u)<=0},s.prototype.lte=function(u){return this.cmp(u)<=0},s.prototype.eqn=function(u){return this.cmpn(u)===0},s.prototype.eq=function(u){return this.cmp(u)===0},s.red=function(u){return new Et(u)},s.prototype.toRed=function(u){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(u){return this.red=u,this},s.prototype.forceRed=function(u){return n(!this.red,"Already a number in reduction context"),this._forceRed(u)},s.prototype.redAdd=function(u){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},s.prototype.redIAdd=function(u){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},s.prototype.redSub=function(u){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},s.prototype.redISub=function(u){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},s.prototype.redShl=function(u){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},s.prototype.redMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},s.prototype.redIMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(u){return n(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var $={k256:null,p224:null,p192:null,p25519:null};function ht(I,u){this.name=I,this.p=new s(u,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ht.prototype._tmp=function(){var u=new s(null);return u.words=new Array(Math.ceil(this.n/13)),u},ht.prototype.ireduce=function(u){var p=u,m;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),m=p.bitLength();while(m>this.n);var B=m<this.n?-1:p.ucmp(this.p);return B===0?(p.words[0]=0,p.length=1):B>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},ht.prototype.split=function(u,p){u.iushrn(this.n,0,p)},ht.prototype.imulK=function(u){return u.imul(this.k)};function Ft(){ht.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(Ft,ht),Ft.prototype.split=function(u,p){for(var m=4194303,B=Math.min(u.length,9),v=0;v<B;v++)p.words[v]=u.words[v];if(p.length=B,u.length<=9){u.words[0]=0,u.length=1;return}var k=u.words[9];for(p.words[p.length++]=k&m,v=10;v<u.length;v++){var F=u.words[v]|0;u.words[v-10]=(F&m)<<4|k>>>22,k=F}k>>>=22,u.words[v-10]=k,k===0&&u.length>10?u.length-=10:u.length-=9},Ft.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var p=0,m=0;m<u.length;m++){var B=u.words[m]|0;p+=B*977,u.words[m]=p&67108863,p=B*64+(p/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function Gt(){ht.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(Gt,ht);function ke(){ht.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(ke,ht);function je(){ht.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(je,ht),je.prototype.imulK=function(u){for(var p=0,m=0;m<u.length;m++){var B=(u.words[m]|0)*19+p,v=B&67108863;B>>>=26,u.words[m]=v,p=B}return p!==0&&(u.words[u.length++]=p),u},s._prime=function(u){if($[u])return $[u];var p;if(u==="k256")p=new Ft;else if(u==="p224")p=new Gt;else if(u==="p192")p=new ke;else if(u==="p25519")p=new je;else throw new Error("Unknown prime "+u);return $[u]=p,p};function Et(I){if(typeof I=="string"){var u=s._prime(I);this.m=u.p,this.prime=u}else n(I.gtn(1),"modulus must be greater than 1"),this.m=I,this.prime=null}Et.prototype._verify1=function(u){n(u.negative===0,"red works only with positives"),n(u.red,"red works only with red numbers")},Et.prototype._verify2=function(u,p){n((u.negative|p.negative)===0,"red works only with positives"),n(u.red&&u.red===p.red,"red works only with red numbers")},Et.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(M(u,u.umod(this.m)._forceRed(this)),u)},Et.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},Et.prototype.add=function(u,p){this._verify2(u,p);var m=u.add(p);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},Et.prototype.iadd=function(u,p){this._verify2(u,p);var m=u.iadd(p);return m.cmp(this.m)>=0&&m.isub(this.m),m},Et.prototype.sub=function(u,p){this._verify2(u,p);var m=u.sub(p);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},Et.prototype.isub=function(u,p){this._verify2(u,p);var m=u.isub(p);return m.cmpn(0)<0&&m.iadd(this.m),m},Et.prototype.shl=function(u,p){return this._verify1(u),this.imod(u.ushln(p))},Et.prototype.imul=function(u,p){return this._verify2(u,p),this.imod(u.imul(p))},Et.prototype.mul=function(u,p){return this._verify2(u,p),this.imod(u.mul(p))},Et.prototype.isqr=function(u){return this.imul(u,u.clone())},Et.prototype.sqr=function(u){return this.mul(u,u)},Et.prototype.sqrt=function(u){if(u.isZero())return u.clone();var p=this.m.andln(3);if(n(p%2===1),p===3){var m=this.m.add(new s(1)).iushrn(2);return this.pow(u,m)}for(var B=this.m.subn(1),v=0;!B.isZero()&&B.andln(1)===0;)v++,B.iushrn(1);n(!B.isZero());var k=new s(1).toRed(this),F=k.redNeg(),A=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new s(2*d*d).toRed(this);this.pow(d,A).cmp(F)!==0;)d.redIAdd(F);for(var E=this.pow(d,B),rt=this.pow(u,B.addn(1).iushrn(1)),tt=this.pow(u,B),nt=v;tt.cmp(k)!==0;){for(var Kt=tt,ut=0;Kt.cmp(k)!==0;ut++)Kt=Kt.redSqr();n(ut<nt);var At=this.pow(E,new s(1).iushln(nt-ut-1));rt=rt.redMul(At),E=At.redSqr(),tt=tt.redMul(E),nt=ut}return rt},Et.prototype.invm=function(u){var p=u._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},Et.prototype.pow=function(u,p){if(p.isZero())return new s(1).toRed(this);if(p.cmpn(1)===0)return u.clone();var m=4,B=new Array(1<<m);B[0]=new s(1).toRed(this),B[1]=u;for(var v=2;v<B.length;v++)B[v]=this.mul(B[v-1],u);var k=B[0],F=0,A=0,d=p.bitLength()%26;for(d===0&&(d=26),v=p.length-1;v>=0;v--){for(var E=p.words[v],rt=d-1;rt>=0;rt--){var tt=E>>rt&1;if(k!==B[0]&&(k=this.sqr(k)),tt===0&&F===0){A=0;continue}F<<=1,F|=tt,A++,!(A!==m&&(v!==0||rt!==0))&&(k=this.mul(k,B[F]),A=0,F=0)}d=26}return k},Et.prototype.convertTo=function(u){var p=u.umod(this.m);return p===u?p.clone():p},Et.prototype.convertFrom=function(u){var p=u.clone();return p.red=null,p},s.mont=function(u){return new Ue(u)};function Ue(I){Et.call(this,I),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(Ue,Et),Ue.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},Ue.prototype.convertFrom=function(u){var p=this.imod(u.mul(this.rinv));return p.red=null,p},Ue.prototype.imul=function(u,p){if(u.isZero()||p.isZero())return u.words[0]=0,u.length=1,u;var m=u.imul(p),B=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=m.isub(B).iushrn(this.shift),k=v;return v.cmp(this.m)>=0?k=v.isub(this.m):v.cmpn(0)<0&&(k=v.iadd(this.m)),k._forceRed(this)},Ue.prototype.mul=function(u,p){if(u.isZero()||p.isZero())return new s(0)._forceRed(this);var m=u.mul(p),B=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=m.isub(B).iushrn(this.shift),k=v;return v.cmp(this.m)>=0?k=v.isub(this.m):v.cmpn(0)<0&&(k=v.iadd(this.m)),k._forceRed(this)},Ue.prototype.invm=function(u){var p=this.imod(u._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(r,ft)}(Li);var ys=Li.exports;const ws=kt(ys);var Di={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(r,t){var e=ye,n=e.Buffer;function a(f,h){for(var y in f)h[y]=f[y]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?r.exports=e:(a(e,t),t.Buffer=s);function s(f,h,y){return n(f,h,y)}s.prototype=Object.create(n.prototype),a(n,s),s.from=function(f,h,y){if(typeof f=="number")throw new TypeError("Argument must not be a number");return n(f,h,y)},s.alloc=function(f,h,y){if(typeof f!="number")throw new TypeError("Argument must be a number");var x=n(f);return h!==void 0?typeof y=="string"?x.fill(h,y):x.fill(h):x.fill(0),x},s.allocUnsafe=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return n(f)},s.allocUnsafeSlow=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return e.SlowBuffer(f)}})(Di,Di.exports);var eu=Di.exports,Ln=eu.Buffer;function ru(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var n=0;n<r.length;n++){var a=r.charAt(n),s=a.charCodeAt(0);if(t[s]!==255)throw new TypeError(a+" is ambiguous");t[s]=n}var f=r.length,h=r.charAt(0),y=Math.log(f)/Math.log(256),x=Math.log(256)/Math.log(f);function M(U){if((Array.isArray(U)||U instanceof Uint8Array)&&(U=Ln.from(U)),!Ln.isBuffer(U))throw new TypeError("Expected Buffer");if(U.length===0)return"";for(var D=0,T=0,_=0,H=U.length;_!==H&&U[_]===0;)_++,D++;for(var Q=(H-_)*x+1>>>0,N=new Uint8Array(Q);_!==H;){for(var it=U[_],$=0,ht=Q-1;(it!==0||$<T)&&ht!==-1;ht--,$++)it+=256*N[ht]>>>0,N[ht]=it%f>>>0,it=it/f>>>0;if(it!==0)throw new Error("Non-zero carry");T=$,_++}for(var Ft=Q-T;Ft!==Q&&N[Ft]===0;)Ft++;for(var Gt=h.repeat(D);Ft<Q;++Ft)Gt+=r.charAt(N[Ft]);return Gt}function S(U){if(typeof U!="string")throw new TypeError("Expected String");if(U.length===0)return Ln.alloc(0);for(var D=0,T=0,_=0;U[D]===h;)T++,D++;for(var H=(U.length-D)*y+1>>>0,Q=new Uint8Array(H);D<U.length;){var N=t[U.charCodeAt(D)];if(N===255)return;for(var it=0,$=H-1;(N!==0||it<_)&&$!==-1;$--,it++)N+=f*Q[$]>>>0,Q[$]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");_=it,D++}for(var ht=H-_;ht!==H&&Q[ht]===0;)ht++;var Ft=Ln.allocUnsafe(T+(H-ht));Ft.fill(0,0,T);for(var Gt=T;ht!==H;)Ft[Gt++]=Q[ht++];return Ft}function C(U){var D=S(U);if(D)return D;throw new Error("Non-base"+f+" character")}return{encode:M,decodeUnsafe:S,decode:C}}var nu=ru,iu=nu,ou="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",ms=iu(ou);const Fe=kt(ms),su=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),lr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),dr=new Uint32Array(64);class au extends ns{constructor(){super(64,32,8,!1),this.A=lr[0]|0,this.B=lr[1]|0,this.C=lr[2]|0,this.D=lr[3]|0,this.E=lr[4]|0,this.F=lr[5]|0,this.G=lr[6]|0,this.H=lr[7]|0}get(){const{A:t,B:e,C:n,D:a,E:s,F:f,G:h,H:y}=this;return[t,e,n,a,s,f,h,y]}set(t,e,n,a,s,f,h,y){this.A=t|0,this.B=e|0,this.C=n|0,this.D=a|0,this.E=s|0,this.F=f|0,this.G=h|0,this.H=y|0}process(t,e){for(let S=0;S<16;S++,e+=4)dr[S]=t.getUint32(e,!1);for(let S=16;S<64;S++){const C=dr[S-15],U=dr[S-2],D=Je(C,7)^Je(C,18)^C>>>3,T=Je(U,17)^Je(U,19)^U>>>10;dr[S]=T+dr[S-7]+D+dr[S-16]|0}let{A:n,B:a,C:s,D:f,E:h,F:y,G:x,H:M}=this;for(let S=0;S<64;S++){const C=Je(h,6)^Je(h,11)^Je(h,25),U=M+C+wc(h,y,x)+su[S]+dr[S]|0,T=(Je(n,2)^Je(n,13)^Je(n,22))+mc(n,a,s)|0;M=x,x=y,y=h,h=f+U|0,f=s,s=a,a=n,n=U+T|0}n=n+this.A|0,a=a+this.B|0,s=s+this.C|0,f=f+this.D|0,h=h+this.E|0,y=y+this.F|0,x=x+this.G|0,M=M+this.H|0,this.set(n,a,s,f,h,y,x,M)}roundClean(){dr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Ti=rs(()=>new au);var me={};function ir(r,t,e){return t<=r&&r<=e}function Dn(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function cu(r){for(var t=String(r),e=t.length,n=0,a=[];n<e;){var s=t.charCodeAt(n);if(s<55296||s>57343)a.push(s);else if(56320<=s&&s<=57343)a.push(65533);else if(55296<=s&&s<=56319)if(n===e-1)a.push(65533);else{var f=r.charCodeAt(n+1);if(56320<=f&&f<=57343){var h=s&1023,y=f&1023;a.push(65536+(h<<10)+y),n+=1}else a.push(65533)}n+=1}return a}function uu(r){for(var t="",e=0;e<r.length;++e){var n=r[e];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return t}var Tn=-1;function _i(r){this.tokens=[].slice.call(r)}_i.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Tn},prepend:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.push(t.shift());else this.tokens.push(r)}};var Tr=-1;function Oi(r,t){if(r)throw TypeError("Decoder error");return t||65533}var _n="utf-8";function On(r,t){if(!(this instanceof On))return new On(r,t);if(r=r!==void 0?String(r).toLowerCase():_n,r!==_n)throw new Error("Encoding not supported. Only utf-8 is supported");t=Dn(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}On.prototype={decode:function(t,e){var n;typeof t=="object"&&t instanceof ArrayBuffer?n=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):n=new Uint8Array(0),e=Dn(e),this._streaming||(this._decoder=new fu({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!e.stream;for(var a=new _i(n),s=[],f;!a.endOfStream()&&(f=this._decoder.handler(a,a.read()),f!==Tr);)f!==null&&(Array.isArray(f)?s.push.apply(s,f):s.push(f));if(!this._streaming){do{if(f=this._decoder.handler(a,a.read()),f===Tr)break;f!==null&&(Array.isArray(f)?s.push.apply(s,f):s.push(f))}while(!a.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),uu(s)}};function Pn(r,t){if(!(this instanceof Pn))return new Pn(r,t);if(r=r!==void 0?String(r).toLowerCase():_n,r!==_n)throw new Error("Encoding not supported. Only utf-8 is supported");t=Dn(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Pn.prototype={encode:function(t,e){t=t?String(t):"",e=Dn(e),this._streaming||(this._encoder=new hu(this._options)),this._streaming=!!e.stream;for(var n=[],a=new _i(cu(t)),s;!a.endOfStream()&&(s=this._encoder.handler(a,a.read()),s!==Tr);)Array.isArray(s)?n.push.apply(n,s):n.push(s);if(!this._streaming){for(;s=this._encoder.handler(a,a.read()),s!==Tr;)Array.isArray(s)?n.push.apply(n,s):n.push(s);this._encoder=null}return new Uint8Array(n)}};function fu(r){var t=r.fatal,e=0,n=0,a=0,s=128,f=191;this.handler=function(h,y){if(y===Tn&&a!==0)return a=0,Oi(t);if(y===Tn)return Tr;if(a===0){if(ir(y,0,127))return y;if(ir(y,194,223))a=1,e=y-192;else if(ir(y,224,239))y===224&&(s=160),y===237&&(f=159),a=2,e=y-224;else if(ir(y,240,244))y===240&&(s=144),y===244&&(f=143),a=3,e=y-240;else return Oi(t);return e=e<<6*a,null}if(!ir(y,s,f))return e=a=n=0,s=128,f=191,h.prepend(y),Oi(t);if(s=128,f=191,n+=1,e+=y-128<<6*(a-n),n!==a)return null;var x=e;return e=a=n=0,x}}function hu(r){r.fatal,this.handler=function(t,e){if(e===Tn)return Tr;if(ir(e,0,127))return e;var n,a;ir(e,128,2047)?(n=1,a=192):ir(e,2048,65535)?(n=2,a=224):ir(e,65536,1114111)&&(n=3,a=240);for(var s=[(e>>6*n)+a];n>0;){var f=e>>6*(n-1);s.push(128|f&63),n-=1}return s}}const lu=Qt(Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:On,TextEncoder:Pn},Symbol.toStringTag,{value:"Module"})));var du=ft&&ft.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),pu=ft&&ft.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),tr=ft&&ft.__decorate||function(r,t,e,n){var a=arguments.length,s=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,n);else for(var h=r.length-1;h>=0;h--)(f=r[h])&&(s=(a<3?f(s):a>3?f(t,e,s):f(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},gu=ft&&ft.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.hasOwnProperty.call(r,e)&&du(t,r,e);return pu(t,r),t},As=ft&&ft.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(me,"__esModule",{value:!0});var xs=me.deserializeUnchecked=Ss=me.deserialize=Is=me.serialize=me.BinaryReader=me.BinaryWriter=me.BorshError=me.baseDecode=me.baseEncode=void 0;const pr=As(ys),Bs=As(ms),yu=gu(lu),wu=typeof TextDecoder!="function"?yu.TextDecoder:TextDecoder,mu=new wu("utf-8",{fatal:!0});function Au(r){return typeof r=="string"&&(r=J.Buffer.from(r,"utf8")),Bs.default.encode(J.Buffer.from(r))}me.baseEncode=Au;function xu(r){return J.Buffer.from(Bs.default.decode(r))}me.baseDecode=xu;const Pi=1024;class Re extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}me.BorshError=Re;class bs{constructor(){this.buf=J.Buffer.alloc(Pi),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=J.Buffer.concat([this.buf,J.Buffer.alloc(Pi)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(J.Buffer.from(new pr.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(J.Buffer.from(new pr.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(J.Buffer.from(new pr.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(J.Buffer.from(new pr.default(t).toArray("le",64)))}writeBuffer(t){this.buf=J.Buffer.concat([J.Buffer.from(this.buf.subarray(0,this.length)),t,J.Buffer.alloc(Pi)]),this.length+=t.length}writeString(t){this.maybeResize();const e=J.Buffer.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(J.Buffer.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const n of t)this.maybeResize(),e(n)}toArray(){return this.buf.subarray(0,this.length)}}me.BinaryWriter=bs;function er(r,t,e){const n=e.value;e.value=function(...a){try{return n.apply(this,a)}catch(s){if(s instanceof RangeError){const f=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(f)>=0)throw new Re("Reached the end of buffer when deserializing")}throw s}}}class _e{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new pr.default(t,"le")}readU128(){const t=this.readBuffer(16);return new pr.default(t,"le")}readU256(){const t=this.readBuffer(32);return new pr.default(t,"le")}readU512(){const t=this.readBuffer(64);return new pr.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new Re(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return mu.decode(e)}catch(n){throw new Re(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),n=Array();for(let a=0;a<e;++a)n.push(t());return n}}tr([er],_e.prototype,"readU8",null),tr([er],_e.prototype,"readU16",null),tr([er],_e.prototype,"readU32",null),tr([er],_e.prototype,"readU64",null),tr([er],_e.prototype,"readU128",null),tr([er],_e.prototype,"readU256",null),tr([er],_e.prototype,"readU512",null),tr([er],_e.prototype,"readString",null),tr([er],_e.prototype,"readFixedArray",null),tr([er],_e.prototype,"readArray",null),me.BinaryReader=_e;function Es(r){return r.charAt(0).toUpperCase()+r.slice(1)}function xr(r,t,e,n,a){try{if(typeof n=="string")a[`write${Es(n)}`](e);else if(n instanceof Array)if(typeof n[0]=="number"){if(e.length!==n[0])throw new Re(`Expecting byte array of length ${n[0]}, but got ${e.length} bytes`);a.writeFixedArray(e)}else if(n.length===2&&typeof n[1]=="number"){if(e.length!==n[1])throw new Re(`Expecting byte array of length ${n[1]}, but got ${e.length} bytes`);for(let s=0;s<n[1];s++)xr(r,null,e[s],n[0],a)}else a.writeArray(e,s=>{xr(r,t,s,n[0],a)});else if(n.kind!==void 0)switch(n.kind){case"option":{e==null?a.writeU8(0):(a.writeU8(1),xr(r,t,e,n.type,a));break}case"map":{a.writeU32(e.size),e.forEach((s,f)=>{xr(r,t,f,n.key,a),xr(r,t,s,n.value,a)});break}default:throw new Re(`FieldType ${n} unrecognized`)}else vs(r,e,a)}catch(s){throw s instanceof Re&&s.addToFieldPath(t),s}}function vs(r,t,e){if(typeof t.borshSerialize=="function"){t.borshSerialize(e);return}const n=r.get(t.constructor);if(!n)throw new Re(`Class ${t.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([a,s])=>{xr(r,a,t[a],s,e)});else if(n.kind==="enum"){const a=t[n.field];for(let s=0;s<n.values.length;++s){const[f,h]=n.values[s];if(f===a){e.writeU8(s),xr(r,f,t[f],h,e);break}}}else throw new Re(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function Bu(r,t,e=bs){const n=new e;return vs(r,t,n),n.toArray()}var Is=me.serialize=Bu;function Br(r,t,e,n){try{if(typeof e=="string")return n[`read${Es(e)}`]();if(e instanceof Array){if(typeof e[0]=="number")return n.readFixedArray(e[0]);if(typeof e[1]=="number"){const a=[];for(let s=0;s<e[1];s++)a.push(Br(r,null,e[0],n));return a}else return n.readArray(()=>Br(r,t,e[0],n))}if(e.kind==="option")return n.readU8()?Br(r,t,e.type,n):void 0;if(e.kind==="map"){let a=new Map;const s=n.readU32();for(let f=0;f<s;f++){const h=Br(r,t,e.key,n),y=Br(r,t,e.value,n);a.set(h,y)}return a}return Ni(r,e,n)}catch(a){throw a instanceof Re&&a.addToFieldPath(t),a}}function Ni(r,t,e){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(e);const n=r.get(t);if(!n)throw new Re(`Class ${t.name} is missing in schema`);if(n.kind==="struct"){const a={};for(const[s,f]of r.get(t).fields)a[s]=Br(r,s,f,e);return new t(a)}if(n.kind==="enum"){const a=e.readU8();if(a>=n.values.length)throw new Re(`Enum index: ${a} is out of range`);const[s,f]=n.values[a],h=Br(r,s,f,e);return new t({[s]:h})}throw new Re(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function bu(r,t,e,n=_e){const a=new n(e),s=Ni(r,t,a);if(a.offset<e.length)throw new Re(`Unexpected ${e.length-a.offset} bytes after deserialized data`);return s}var Ss=me.deserialize=bu;function Eu(r,t,e,n=_e){const a=new n(e);return Ni(r,t,a)}xs=me.deserializeUnchecked=Eu;var R={};Object.defineProperty(R,"__esModule",{value:!0}),R.s16=R.s8=R.nu64be=R.u48be=R.u40be=R.u32be=R.u24be=R.u16be=Ae=R.nu64=R.u48=R.u40=et=R.u32=R.u24=qe=R.u16=wt=R.u8=Er=R.offset=R.greedy=R.Constant=R.UTF8=R.CString=R.Blob=R.Boolean=R.BitField=R.BitStructure=R.VariantLayout=R.Union=R.UnionLayoutDiscriminator=R.UnionDiscriminator=R.Structure=R.Sequence=R.DoubleBE=R.Double=R.FloatBE=R.Float=R.NearInt64BE=R.NearInt64=R.NearUInt64BE=R.NearUInt64=R.IntBE=R.Int=R.UIntBE=R.UInt=R.OffsetLayout=R.GreedyCount=R.ExternalLayout=R.bindConstructorLayout=R.nameWithProperty=R.Layout=R.uint8ArrayToBuffer=R.checkUint8Array=void 0,R.constant=R.utf8=R.cstr=Ct=R.blob=R.unionLayoutDiscriminator=R.union=Le=R.seq=R.bits=Z=R.struct=R.f64be=R.f64=R.f32be=R.f32=R.ns64be=R.s48be=R.s40be=R.s32be=R.s24be=R.s16be=Oe=R.ns64=R.s48=R.s40=R.s32=R.s24=void 0;const Hi=ye;function _r(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}R.checkUint8Array=_r;function gt(r){return _r(r),Hi.Buffer.from(r.buffer,r.byteOffset,r.length)}R.uint8ArrayToBuffer=gt;class bt{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}R.Layout=bt;function zi(r,t){return t.property?r+"["+t.property+"]":r}R.nameWithProperty=zi;function vu(r,t){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof bt))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=t,t.boundConstructor_=r,t.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(r,"decode",{value(e,n){return t.decode(e,n)},writable:!0})}R.bindConstructorLayout=vu;class De extends bt{isCount(){throw new Error("ExternalLayout is abstract")}}R.ExternalLayout=De;class Ms extends De{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e=0){_r(t);const n=t.length-e;return Math.floor(n/this.elementSpan)}encode(t,e,n){return 0}}R.GreedyCount=Ms;class Ki extends De{constructor(t,e=0,n){if(!(t instanceof bt))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof Qe||this.layout instanceof We}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,n=0){return this.layout.encode(t,e,n+this.offset)}}R.OffsetLayout=Ki;class Qe extends bt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return gt(t).readUIntLE(e,this.span)}encode(t,e,n=0){return gt(e).writeUIntLE(t,n,this.span),this.span}}R.UInt=Qe;class We extends bt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return gt(t).readUIntBE(e,this.span)}encode(t,e,n=0){return gt(e).writeUIntBE(t,n,this.span),this.span}}R.UIntBE=We;class br extends bt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return gt(t).readIntLE(e,this.span)}encode(t,e,n=0){return gt(e).writeIntLE(t,n,this.span),this.span}}R.Int=br;class Or extends bt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return gt(t).readIntBE(e,this.span)}encode(t,e,n=0){return gt(e).writeIntBE(t,n,this.span),this.span}}R.IntBE=Or;const Qi=Math.pow(2,32);function Nn(r){const t=Math.floor(r/Qi),e=r-t*Qi;return{hi32:t,lo32:e}}function Hn(r,t){return r*Qi+t}class ks extends bt{constructor(t){super(8,t)}decode(t,e=0){const n=gt(t),a=n.readUInt32LE(e),s=n.readUInt32LE(e+4);return Hn(s,a)}encode(t,e,n=0){const a=Nn(t),s=gt(e);return s.writeUInt32LE(a.lo32,n),s.writeUInt32LE(a.hi32,n+4),8}}R.NearUInt64=ks;class Us extends bt{constructor(t){super(8,t)}decode(t,e=0){const n=gt(t),a=n.readUInt32BE(e),s=n.readUInt32BE(e+4);return Hn(a,s)}encode(t,e,n=0){const a=Nn(t),s=gt(e);return s.writeUInt32BE(a.hi32,n),s.writeUInt32BE(a.lo32,n+4),8}}R.NearUInt64BE=Us;class Cs extends bt{constructor(t){super(8,t)}decode(t,e=0){const n=gt(t),a=n.readUInt32LE(e),s=n.readInt32LE(e+4);return Hn(s,a)}encode(t,e,n=0){const a=Nn(t),s=gt(e);return s.writeUInt32LE(a.lo32,n),s.writeInt32LE(a.hi32,n+4),8}}R.NearInt64=Cs;class Fs extends bt{constructor(t){super(8,t)}decode(t,e=0){const n=gt(t),a=n.readInt32BE(e),s=n.readUInt32BE(e+4);return Hn(a,s)}encode(t,e,n=0){const a=Nn(t),s=gt(e);return s.writeInt32BE(a.hi32,n),s.writeUInt32BE(a.lo32,n+4),8}}R.NearInt64BE=Fs;class Rs extends bt{constructor(t){super(4,t)}decode(t,e=0){return gt(t).readFloatLE(e)}encode(t,e,n=0){return gt(e).writeFloatLE(t,n),4}}R.Float=Rs;class Ls extends bt{constructor(t){super(4,t)}decode(t,e=0){return gt(t).readFloatBE(e)}encode(t,e,n=0){return gt(e).writeFloatBE(t,n),4}}R.FloatBE=Ls;class Ds extends bt{constructor(t){super(8,t)}decode(t,e=0){return gt(t).readDoubleLE(e)}encode(t,e,n=0){return gt(e).writeDoubleLE(t,n),8}}R.Double=Ds;class Ts extends bt{constructor(t){super(8,t)}decode(t,e=0){return gt(t).readDoubleBE(e)}encode(t,e,n=0){return gt(e).writeDoubleBE(t,n),8}}R.DoubleBE=Ts;class _s extends bt{constructor(t,e,n){if(!(t instanceof bt))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof De&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let a=-1;!(e instanceof De)&&0<t.span&&(a=e*t.span),super(a,n),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0,a=this.count;if(a instanceof De&&(a=a.decode(t,e)),0<this.elementLayout.span)n=a*this.elementLayout.span;else{let s=0;for(;s<a;)n+=this.elementLayout.getSpan(t,e+n),++s}return n}decode(t,e=0){const n=[];let a=0,s=this.count;for(s instanceof De&&(s=s.decode(t,e));a<s;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),a+=1;return n}encode(t,e,n=0){const a=this.elementLayout,s=t.reduce((f,h)=>f+a.encode(h,e,n+f),0);return this.count instanceof De&&this.count.encode(t.length,e,n),s}}R.Sequence=_s;class Os extends bt{constructor(t,e,n){if(!(Array.isArray(t)&&t.reduce((s,f)=>s&&f instanceof bt,!0)))throw new TypeError("fields must be array of Layout instances");typeof e=="boolean"&&n===void 0&&(n=e,e=void 0);for(const s of t)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let a=-1;try{a=t.reduce((s,f)=>s+f.getSpan(),0)}catch{}super(a,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((a,s)=>{const f=s.getSpan(t,e);return e+=f,a+f},0)}catch{throw new RangeError("indeterminate span")}return n}decode(t,e=0){_r(t);const n=this.makeDestinationObject();for(const a of this.fields)if(a.property!==void 0&&(n[a.property]=a.decode(t,e)),e+=a.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n=0){const a=n;let s=0,f=0;for(const h of this.fields){let y=h.span;if(f=0<y?y:0,h.property!==void 0){const x=t[h.property];x!==void 0&&(f=h.encode(x,e,n),0>y&&(y=h.getSpan(e,n)))}s=n,n+=y}return s+f-a}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}R.Structure=Os;class qi{constructor(t){this.property=t}decode(t,e){throw new Error("UnionDiscriminator is abstract")}encode(t,e,n){throw new Error("UnionDiscriminator is abstract")}}R.UnionDiscriminator=qi;class zn extends qi{constructor(t,e){if(!(t instanceof De&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}R.UnionLayoutDiscriminator=zn;class Gi extends bt{constructor(t,e,n){let a;if(t instanceof Qe||t instanceof We)a=new zn(new Ki(t));else if(t instanceof De&&t.isCount())a=new zn(t);else if(t instanceof qi)a=t;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(e===void 0&&(e=null),!(e===null||e instanceof bt))throw new TypeError("defaultLayout must be null or a Layout");if(e!==null){if(0>e.span)throw new Error("defaultLayout must have constant span");e.property===void 0&&(e=e.replicate("content"))}let s=-1;e&&(s=e.span,0<=s&&(t instanceof Qe||t instanceof We)&&(s+=a.layout.span)),super(s,n),this.discriminator=a,this.usesPrefixDiscriminator=t instanceof Qe||t instanceof We,this.defaultLayout=e,this.registry={};let f=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(h){return f(h)},this.configGetSourceVariant=function(h){f=h.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(n.property&&Object.prototype.hasOwnProperty.call(t,n.property))return n}throw new Error("unable to infer src variant")}decode(t,e=0){let n;const a=this.discriminator,s=a.decode(t,e),f=this.registry[s];if(f===void 0){const h=this.defaultLayout;let y=0;this.usesPrefixDiscriminator&&(y=a.layout.span),n=this.makeDestinationObject(),n[a.property]=s,n[h.property]=h.decode(t,e+y)}else n=f.decode(t,e);return n}encode(t,e,n=0){const a=this.getSourceVariant(t);if(a===void 0){const s=this.discriminator,f=this.defaultLayout;let h=0;return this.usesPrefixDiscriminator&&(h=s.layout.span),s.encode(t[s.property],e,n),h+f.encode(t[f.property],e,n+h)}return a.encode(t,e,n)}addVariant(t,e,n){const a=new Ps(this,t,e,n);return this.registry[t]=a,a}getVariant(t,e=0){let n;return t instanceof Uint8Array?n=this.discriminator.decode(t,e):n=t,this.registry[n]}}R.Union=Gi;class Ps extends bt{constructor(t,e,n,a){if(!(t instanceof Gi))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&a===void 0&&(a=n,n=null),n){if(!(n instanceof bt))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof a!="string")throw new TypeError("variant must have a String property")}let s=t.span;0>t.span&&(s=n?n.span:0,0<=s&&t.usesPrefixDiscriminator&&(s+=t.discriminator.layout.span)),super(s,a),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let a=0;return this.layout&&(a=this.layout.getSpan(t,e+n)),n+a}decode(t,e=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let a=0;return this.union.usesPrefixDiscriminator&&(a=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+a):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n=0){let a=0;if(this.union.usesPrefixDiscriminator&&(a=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let s=a;if(this.layout&&(this.layout.encode(t[this.property],e,n+a),s+=this.layout.getSpan(e,n+a),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}R.VariantLayout=Ps;function Pr(r){return 0>r&&(r+=4294967296),r}class ji extends bt{constructor(t,e,n){if(!(t instanceof Qe||t instanceof We))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof e=="string"&&n===void 0&&(n=e,e=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!e,this.fields=[];let a=0;this._packedSetValue=function(s){return a=Pr(s),this},this._packedGetValue=function(){return a}}decode(t,e=0){const n=this.makeDestinationObject(),a=this.word.decode(t,e);this._packedSetValue(a);for(const s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(t));return n}encode(t,e,n=0){const a=this.word.decode(e,n);this._packedSetValue(a);for(const s of this.fields)if(s.property!==void 0){const f=t[s.property];f!==void 0&&s.encode(f)}return this.word.encode(this._packedGetValue(),e,n)}addField(t,e){const n=new Wi(this,t,e);return this.fields.push(n),n}addBoolean(t){const e=new Ns(this,t);return this.fields.push(e),e}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}R.BitStructure=ji;class Wi{constructor(t,e,n){if(!(t instanceof ji))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const a=8*t.span,s=t.fields.reduce((f,h)=>f+h.bits,0);if(e+s>a)throw new Error("bits too long for span remainder ("+(a-s)+" of "+a+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,e===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=a-s-e),this.wordMask=Pr(this.valueMask<<this.start),this.property=n}decode(t,e){const n=this.container._packedGetValue();return Pr(n&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==Pr(t&this.valueMask))throw new TypeError(zi("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),n=Pr(t<<this.start);this.container._packedSetValue(Pr(e&~this.wordMask)|n)}}R.BitField=Wi;let Ns=class extends Wi{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}};R.Boolean=Ns;class Hs extends bt{constructor(t,e){if(!(t instanceof De&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof De||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e=0){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),gt(t).slice(e,e+n)}encode(t,e,n){let a=this.length;if(this.length instanceof De&&(a=t.length),!(t instanceof Uint8Array&&a===t.length))throw new TypeError(zi("Blob.encode",this)+" requires (length "+a+") Uint8Array as src");if(n+a>e.length)throw new RangeError("encoding overruns Uint8Array");const s=gt(t);return gt(e).write(s.toString("hex"),n,a,"hex"),this.length instanceof De&&this.length.encode(a,e,n),a}}R.Blob=Hs;class zs extends bt{constructor(t){super(-1,t)}getSpan(t,e=0){_r(t);let n=e;for(;n<t.length&&t[n]!==0;)n+=1;return 1+n-e}decode(t,e=0){const n=this.getSpan(t,e);return gt(t).slice(e,e+n-1).toString("utf-8")}encode(t,e,n=0){typeof t!="string"&&(t=String(t));const a=Hi.Buffer.from(t,"utf8"),s=a.length;if(n+s>e.length)throw new RangeError("encoding overruns Buffer");const f=gt(e);return a.copy(f,n),f[n+s]=0,s+1}}R.CString=zs;class Ks extends bt{constructor(t,e){if(typeof t=="string"&&e===void 0&&(e=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e=0){return _r(t),t.length-e}decode(t,e=0){const n=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return gt(t).slice(e,e+n).toString("utf-8")}encode(t,e,n=0){typeof t!="string"&&(t=String(t));const a=Hi.Buffer.from(t,"utf8"),s=a.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>e.length)throw new RangeError("encoding overruns Buffer");return a.copy(gt(e),n),s}}R.UTF8=Ks;class Qs extends bt{constructor(t,e){super(0,e),this.value=t}decode(t,e){return this.value}encode(t,e,n){return 0}}R.Constant=Qs,R.greedy=(r,t)=>new Ms(r,t);var Er=R.offset=(r,t,e)=>new Ki(r,t,e),wt=R.u8=r=>new Qe(1,r),qe=R.u16=r=>new Qe(2,r);R.u24=r=>new Qe(3,r);var et=R.u32=r=>new Qe(4,r);R.u40=r=>new Qe(5,r),R.u48=r=>new Qe(6,r);var Ae=R.nu64=r=>new ks(r);R.u16be=r=>new We(2,r),R.u24be=r=>new We(3,r),R.u32be=r=>new We(4,r),R.u40be=r=>new We(5,r),R.u48be=r=>new We(6,r),R.nu64be=r=>new Us(r),R.s8=r=>new br(1,r),R.s16=r=>new br(2,r),R.s24=r=>new br(3,r),R.s32=r=>new br(4,r),R.s40=r=>new br(5,r),R.s48=r=>new br(6,r);var Oe=R.ns64=r=>new Cs(r);R.s16be=r=>new Or(2,r),R.s24be=r=>new Or(3,r),R.s32be=r=>new Or(4,r),R.s40be=r=>new Or(5,r),R.s48be=r=>new Or(6,r),R.ns64be=r=>new Fs(r),R.f32=r=>new Rs(r),R.f32be=r=>new Ls(r),R.f64=r=>new Ds(r),R.f64be=r=>new Ts(r);var Z=R.struct=(r,t,e)=>new Os(r,t,e);R.bits=(r,t,e)=>new ji(r,t,e);var Le=R.seq=(r,t,e)=>new _s(r,t,e);R.union=(r,t,e)=>new Gi(r,t,e),R.unionLayoutDiscriminator=(r,t)=>new zn(r,t);var Ct=R.blob=(r,t)=>new Hs(r,t);R.cstr=r=>new zs(r),R.utf8=(r,t)=>new Ks(r,t),R.constant=(r,t)=>new Qs(r,t);var sn={};Object.defineProperty(sn,"__esModule",{value:!0});function Iu(r){{const t=ye.Buffer.from(r);t.reverse();const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}var Su=sn.toBigIntLE=Iu;function Mu(r){{const t=r.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}}sn.toBigIntBE=Mu;function ku(r,t){{const e=r.toString(16),n=ye.Buffer.from(e.padStart(t*2,"0").slice(0,t*2),"hex");return n.reverse(),n}}var Uu=sn.toBufferLE=ku;function Cu(r,t){{const e=r.toString(16);return ye.Buffer.from(e.padStart(t*2,"0").slice(0,t*2),"hex")}}sn.toBufferBE=Cu;class Fu extends TypeError{constructor(t,e){let n;const{message:a,...s}=t,{path:f}=t,h=f.length===0?a:"At path: "+f.join(".")+" -- "+a;super(h),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var y;return(y=n)!=null?y:n=[t,...e()]}}}function Ru(r){return gr(r)&&typeof r[Symbol.iterator]=="function"}function gr(r){return typeof r=="object"&&r!=null}function Ye(r){return typeof r=="string"?JSON.stringify(r):""+r}function Lu(r){const{done:t,value:e}=r.next();return t?void 0:e}function Du(r,t,e,n){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});const{path:a,branch:s}=t,{type:f}=e,{refinement:h,message:y="Expected a value of type `"+f+"`"+(h?" with refinement `"+h+"`":"")+", but received: `"+Ye(n)+"`"}=r;return{value:n,type:f,refinement:h,key:a[a.length-1],path:a,branch:s,...r,message:y}}function*qs(r,t,e,n){Ru(r)||(r=[r]);for(const a of r){const s=Du(a,t,e,n);s&&(yield s)}}function*Yi(r,t,e={}){const{path:n=[],branch:a=[r],coerce:s=!1,mask:f=!1}=e,h={path:n,branch:a};if(s&&(r=t.coercer(r,h),f&&t.type!=="type"&&gr(t.schema)&&gr(r)&&!Array.isArray(r)))for(const x in r)t.schema[x]===void 0&&delete r[x];let y=!0;for(const x of t.validator(r,h))y=!1,yield[x,void 0];for(let[x,M,S]of t.entries(r,h)){const C=Yi(M,S,{path:x===void 0?n:[...n,x],branch:x===void 0?a:[...a,M],coerce:s,mask:f});for(const U of C)U[0]?(y=!1,yield[U[0],void 0]):s&&(M=U[1],x===void 0?r=M:r instanceof Map?r.set(x,M):r instanceof Set?r.add(M):gr(r)&&(r[x]=M))}if(y)for(const x of t.refiner(r,h))y=!1,yield[x,void 0];y&&(yield[void 0,r])}let rr=class{constructor(t){const{type:e,schema:n,validator:a,refiner:s,coercer:f=y=>y,entries:h=function*(){}}=t;this.type=e,this.schema=n,this.entries=h,this.coercer=f,a?this.validator=(y,x)=>{const M=a(y,x);return qs(M,x,this,y)}:this.validator=()=>[],s?this.refiner=(y,x)=>{const M=s(y,x);return qs(M,x,this,y)}:this.refiner=()=>[]}assert(t){return Tu(t,this)}create(t){return an(t,this)}is(t){return Gs(t,this)}mask(t){return _u(t,this)}validate(t,e={}){return cn(t,this,e)}};function Tu(r,t){const e=cn(r,t);if(e[0])throw e[0]}function an(r,t){const e=cn(r,t,{coerce:!0});if(e[0])throw e[0];return e[1]}function _u(r,t){const e=cn(r,t,{coerce:!0,mask:!0});if(e[0])throw e[0];return e[1]}function Gs(r,t){return!cn(r,t)[0]}function cn(r,t,e={}){const n=Yi(r,t,e),a=Lu(n);return a[0]?[new Fu(a[0],function*(){for(const f of n)f[0]&&(yield f[0])}),void 0]:[void 0,a[1]]}function vr(r,t){return new rr({type:r,schema:null,validator:t})}function Ou(){return vr("any",()=>!0)}function W(r){return new rr({type:"array",schema:r,*entries(t){if(r&&Array.isArray(t))for(const[e,n]of t.entries())yield[e,n,r]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||"Expected an array value, but received: "+Ye(t)}})}function or(){return vr("boolean",r=>typeof r=="boolean")}function Vi(r){return vr("instance",t=>t instanceof r||"Expected a `"+r.name+"` instance, but received: "+Ye(t))}function Ht(r){const t=Ye(r),e=typeof r;return new rr({type:"literal",schema:e==="string"||e==="number"||e==="boolean"?r:null,validator(n){return n===r||"Expected the literal `"+t+"`, but received: "+Ye(n)}})}function Pu(){return vr("never",()=>!1)}function Y(r){return new rr({...r,validator:(t,e)=>t===null||r.validator(t,e),refiner:(t,e)=>t===null||r.refiner(t,e)})}function L(){return vr("number",r=>typeof r=="number"&&!isNaN(r)||"Expected a number, but received: "+Ye(r))}function st(r){return new rr({...r,validator:(t,e)=>t===void 0||r.validator(t,e),refiner:(t,e)=>t===void 0||r.refiner(t,e)})}function js(r,t){return new rr({type:"record",schema:null,*entries(e){if(gr(e))for(const n in e){const a=e[n];yield[n,n,r],yield[n,a,t]}},validator(e){return gr(e)||"Expected an object, but received: "+Ye(e)}})}function z(){return vr("string",r=>typeof r=="string"||"Expected a string, but received: "+Ye(r))}function Zi(r){const t=Pu();return new rr({type:"tuple",schema:null,*entries(e){if(Array.isArray(e)){const n=Math.max(r.length,e.length);for(let a=0;a<n;a++)yield[a,e[a],r[a]||t]}},validator(e){return Array.isArray(e)||"Expected an array, but received: "+Ye(e)}})}function P(r){const t=Object.keys(r);return new rr({type:"type",schema:r,*entries(e){if(gr(e))for(const n of t)yield[n,e[n],r[n]]},validator(e){return gr(e)||"Expected an object, but received: "+Ye(e)}})}function Te(r){const t=r.map(e=>e.type).join(" | ");return new rr({type:"union",schema:null,validator(e,n){const a=[];for(const s of r){const[...f]=Yi(e,s,n),[h]=f;if(h[0])for(const[y]of f)y&&a.push(y);else return[]}return["Expected the value to satisfy a union of `"+t+"`, but received: "+Ye(e),...a]}})}function un(){return vr("unknown",()=>!0)}function fn(r,t,e){return new rr({...r,coercer:(n,a)=>Gs(n,t)?r.coercer(e(n,a),a):r.coercer(n,a)})}var Xi={},Ji={},Ws={exports:{}};(function(r){var t=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function a(y,x,M){this.fn=y,this.context=x,this.once=M||!1}function s(y,x,M,S,C){if(typeof M!="function")throw new TypeError("The listener must be a function");var U=new a(M,S||y,C),D=e?e+x:x;return y._events[D]?y._events[D].fn?y._events[D]=[y._events[D],U]:y._events[D].push(U):(y._events[D]=U,y._eventsCount++),y}function f(y,x){--y._eventsCount===0?y._events=new n:delete y._events[x]}function h(){this._events=new n,this._eventsCount=0}h.prototype.eventNames=function(){var x=[],M,S;if(this._eventsCount===0)return x;for(S in M=this._events)t.call(M,S)&&x.push(e?S.slice(1):S);return Object.getOwnPropertySymbols?x.concat(Object.getOwnPropertySymbols(M)):x},h.prototype.listeners=function(x){var M=e?e+x:x,S=this._events[M];if(!S)return[];if(S.fn)return[S.fn];for(var C=0,U=S.length,D=new Array(U);C<U;C++)D[C]=S[C].fn;return D},h.prototype.listenerCount=function(x){var M=e?e+x:x,S=this._events[M];return S?S.fn?1:S.length:0},h.prototype.emit=function(x,M,S,C,U,D){var T=e?e+x:x;if(!this._events[T])return!1;var _=this._events[T],H=arguments.length,Q,N;if(_.fn){switch(_.once&&this.removeListener(x,_.fn,void 0,!0),H){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,M),!0;case 3:return _.fn.call(_.context,M,S),!0;case 4:return _.fn.call(_.context,M,S,C),!0;case 5:return _.fn.call(_.context,M,S,C,U),!0;case 6:return _.fn.call(_.context,M,S,C,U,D),!0}for(N=1,Q=new Array(H-1);N<H;N++)Q[N-1]=arguments[N];_.fn.apply(_.context,Q)}else{var it=_.length,$;for(N=0;N<it;N++)switch(_[N].once&&this.removeListener(x,_[N].fn,void 0,!0),H){case 1:_[N].fn.call(_[N].context);break;case 2:_[N].fn.call(_[N].context,M);break;case 3:_[N].fn.call(_[N].context,M,S);break;case 4:_[N].fn.call(_[N].context,M,S,C);break;default:if(!Q)for($=1,Q=new Array(H-1);$<H;$++)Q[$-1]=arguments[$];_[N].fn.apply(_[N].context,Q)}}return!0},h.prototype.on=function(x,M,S){return s(this,x,M,S,!1)},h.prototype.once=function(x,M,S){return s(this,x,M,S,!0)},h.prototype.removeListener=function(x,M,S,C){var U=e?e+x:x;if(!this._events[U])return this;if(!M)return f(this,U),this;var D=this._events[U];if(D.fn)D.fn===M&&(!C||D.once)&&(!S||D.context===S)&&f(this,U);else{for(var T=0,_=[],H=D.length;T<H;T++)(D[T].fn!==M||C&&!D[T].once||S&&D[T].context!==S)&&_.push(D[T]);_.length?this._events[U]=_.length===1?_[0]:_:f(this,U)}return this},h.prototype.removeAllListeners=function(x){var M;return x?(M=e?e+x:x,this._events[M]&&f(this,M)):(this._events=new n,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=e,h.EventEmitter=h,r.exports=h})(Ws);var Ys=Ws.exports;Object.defineProperty(Ji,"__esModule",{value:!0});const Nu=Ys;class Hu extends Nu.EventEmitter{constructor(e,n,a){super();ge(this,"socket");this.socket=new window.WebSocket(e,a),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=s=>this.emit("message",s.data),this.socket.onerror=s=>this.emit("error",s),this.socket.onclose=s=>{this.emit("close",s.code,s.reason)}}send(e,n,a){const s=a||n;try{this.socket.send(e),s()}catch(f){s(f)}}close(e,n){this.socket.close(e,n)}addEventListener(e,n,a){this.socket.addEventListener(e,n,a)}}function zu(r,t){return new Hu(r,t)}Ji.default=zu;var $i={},Nr={};Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.createError=Nr.DefaultDataPack=void 0;const Ku=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]);class Qu{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}}Nr.DefaultDataPack=Qu;function qu(r,t){const e={code:r,message:Ku.get(r)||"Internal Server Error"};return t&&(e.data=t),e}Nr.createError=qu,Object.defineProperty($i,"__esModule",{value:!0});const Gu=Ys,ju=Nr;class Wu extends Gu.EventEmitter{constructor(e,n="ws://localhost:8080",{autoconnect:a=!0,reconnect:s=!0,reconnect_interval:f=1e3,max_reconnects:h=5,...y}={},x,M){super();ge(this,"address");ge(this,"rpc_id");ge(this,"queue");ge(this,"options");ge(this,"autoconnect");ge(this,"ready");ge(this,"reconnect");ge(this,"reconnect_timer_id");ge(this,"reconnect_interval");ge(this,"max_reconnects");ge(this,"rest_options");ge(this,"current_reconnects");ge(this,"generate_request_id");ge(this,"socket");ge(this,"webSocketFactory");ge(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=a,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=f,this.max_reconnects=h,this.rest_options=y,this.current_reconnects=0,this.generate_request_id=x||(()=>++this.rpc_id),M?this.dataPack=M:this.dataPack=new ju.DefaultDataPack,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,n,a,s){return!s&&typeof a=="object"&&(s=a,a=null),new Promise((f,h)=>{if(!this.ready)return h(new Error("socket not ready"));const y=this.generate_request_id(e,n),x={jsonrpc:"2.0",method:e,params:n||void 0,id:y};this.socket.send(this.dataPack.encode(x),s,M=>{if(M)return h(M);this.queue[y]={promise:[f,h]},a&&(this.queue[y].timeout=setTimeout(()=>{delete this.queue[y],h(new Error("reply timeout"))},a))})})}async login(e){const n=await this.call("rpc.login",e);if(!n)throw new Error("authentication failed");return n}async listMethods(){return await this.call("__listMethods")}notify(e,n){return new Promise((a,s)=>{if(!this.ready)return s(new Error("socket not ready"));const f={jsonrpc:"2.0",method:e,params:n};this.socket.send(this.dataPack.encode(f),h=>{if(h)return s(h);a()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.on",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+n[e]);return n}async unsubscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.off",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+n);return n}close(e,n){this.socket.close(e||1e3,n)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,n){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,n),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:a})=>{a instanceof ArrayBuffer&&(a=ye.Buffer.from(a).toString());try{a=this.dataPack.decode(a)}catch{return}if(a.notification&&this.listeners(a.notification).length){if(!Object.keys(a.params).length)return this.emit(a.notification);const s=[a.notification];if(a.params.constructor===Object)s.push(a.params);else for(let f=0;f<a.params.length;f++)s.push(a.params[f]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[a.id])return a.method?Promise.resolve().then(()=>{this.emit(a.method,a==null?void 0:a.params)}):void 0;"error"in a=="result"in a&&this.queue[a.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[a.id].timeout&&clearTimeout(this.queue[a.id].timeout),a.error?this.queue[a.id].promise[1](a.error):this.queue[a.id].promise[0](a.result),delete this.queue[a.id]}),this.socket.addEventListener("error",a=>this.emit("error",a)),this.socket.addEventListener("close",({code:a,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",a,s),0),this.ready=!1,this.socket=void 0,a!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,n),this.reconnect_interval)))})}}$i.default=Wu;var Vs=ft&&ft.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.Client=void 0;const Yu=Vs(Ji),Vu=Vs($i);class Zu extends Vu.default{constructor(t="ws://localhost:8080",{autoconnect:e=!0,reconnect:n=!0,reconnect_interval:a=1e3,max_reconnects:s=5}={},f){super(Yu.default,t,{autoconnect:e,reconnect:n,reconnect_interval:a,max_reconnects:s},f)}}Xi.Client=Zu;var Kn,Xu=new Uint8Array(16);function Zs(){if(!Kn&&(Kn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Kn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Kn(Xu)}const Ju=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Qn(r){return typeof r=="string"&&Ju.test(r)}for(var xe=[],to=0;to<256;++to)xe.push((to+256).toString(16).substr(1));function qn(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(xe[r[t+0]]+xe[r[t+1]]+xe[r[t+2]]+xe[r[t+3]]+"-"+xe[r[t+4]]+xe[r[t+5]]+"-"+xe[r[t+6]]+xe[r[t+7]]+"-"+xe[r[t+8]]+xe[r[t+9]]+"-"+xe[r[t+10]]+xe[r[t+11]]+xe[r[t+12]]+xe[r[t+13]]+xe[r[t+14]]+xe[r[t+15]]).toLowerCase();if(!Qn(e))throw TypeError("Stringified UUID is invalid");return e}var Xs,eo,ro=0,no=0;function $u(r,t,e){var n=t&&e||0,a=t||new Array(16);r=r||{};var s=r.node||Xs,f=r.clockseq!==void 0?r.clockseq:eo;if(s==null||f==null){var h=r.random||(r.rng||Zs)();s==null&&(s=Xs=[h[0]|1,h[1],h[2],h[3],h[4],h[5]]),f==null&&(f=eo=(h[6]<<8|h[7])&16383)}var y=r.msecs!==void 0?r.msecs:Date.now(),x=r.nsecs!==void 0?r.nsecs:no+1,M=y-ro+(x-no)/1e4;if(M<0&&r.clockseq===void 0&&(f=f+1&16383),(M<0||y>ro)&&r.nsecs===void 0&&(x=0),x>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ro=y,no=x,eo=f,y+=122192928e5;var S=((y&268435455)*1e4+x)%4294967296;a[n++]=S>>>24&255,a[n++]=S>>>16&255,a[n++]=S>>>8&255,a[n++]=S&255;var C=y/4294967296*1e4&268435455;a[n++]=C>>>8&255,a[n++]=C&255,a[n++]=C>>>24&15|16,a[n++]=C>>>16&255,a[n++]=f>>>8|128,a[n++]=f&255;for(var U=0;U<6;++U)a[n+U]=s[U];return t||qn(a)}function Js(r){if(!Qn(r))throw TypeError("Invalid UUID");var t,e=new Uint8Array(16);return e[0]=(t=parseInt(r.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(r.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(r.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(r.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(r.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}function tf(r){r=unescape(encodeURIComponent(r));for(var t=[],e=0;e<r.length;++e)t.push(r.charCodeAt(e));return t}var ef="6ba7b810-9dad-11d1-80b4-00c04fd430c8",rf="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function $s(r,t,e){function n(a,s,f,h){if(typeof a=="string"&&(a=tf(a)),typeof s=="string"&&(s=Js(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var y=new Uint8Array(16+a.length);if(y.set(s),y.set(a,s.length),y=e(y),y[6]=y[6]&15|t,y[8]=y[8]&63|128,f){h=h||0;for(var x=0;x<16;++x)f[h+x]=y[x];return f}return qn(y)}try{n.name=r}catch{}return n.DNS=ef,n.URL=rf,n}function nf(r){if(typeof r=="string"){var t=unescape(encodeURIComponent(r));r=new Uint8Array(t.length);for(var e=0;e<t.length;++e)r[e]=t.charCodeAt(e)}return of(sf(af(r),r.length*8))}function of(r){for(var t=[],e=r.length*32,n="0123456789abcdef",a=0;a<e;a+=8){var s=r[a>>5]>>>a%32&255,f=parseInt(n.charAt(s>>>4&15)+n.charAt(s&15),16);t.push(f)}return t}function ta(r){return(r+64>>>9<<4)+14+1}function sf(r,t){r[t>>5]|=128<<t%32,r[ta(t)-1]=t;for(var e=1732584193,n=-271733879,a=-1732584194,s=271733878,f=0;f<r.length;f+=16){var h=e,y=n,x=a,M=s;e=be(e,n,a,s,r[f],7,-680876936),s=be(s,e,n,a,r[f+1],12,-389564586),a=be(a,s,e,n,r[f+2],17,606105819),n=be(n,a,s,e,r[f+3],22,-1044525330),e=be(e,n,a,s,r[f+4],7,-176418897),s=be(s,e,n,a,r[f+5],12,1200080426),a=be(a,s,e,n,r[f+6],17,-1473231341),n=be(n,a,s,e,r[f+7],22,-45705983),e=be(e,n,a,s,r[f+8],7,1770035416),s=be(s,e,n,a,r[f+9],12,-1958414417),a=be(a,s,e,n,r[f+10],17,-42063),n=be(n,a,s,e,r[f+11],22,-1990404162),e=be(e,n,a,s,r[f+12],7,1804603682),s=be(s,e,n,a,r[f+13],12,-40341101),a=be(a,s,e,n,r[f+14],17,-1502002290),n=be(n,a,s,e,r[f+15],22,1236535329),e=Ee(e,n,a,s,r[f+1],5,-165796510),s=Ee(s,e,n,a,r[f+6],9,-1069501632),a=Ee(a,s,e,n,r[f+11],14,643717713),n=Ee(n,a,s,e,r[f],20,-373897302),e=Ee(e,n,a,s,r[f+5],5,-701558691),s=Ee(s,e,n,a,r[f+10],9,38016083),a=Ee(a,s,e,n,r[f+15],14,-660478335),n=Ee(n,a,s,e,r[f+4],20,-405537848),e=Ee(e,n,a,s,r[f+9],5,568446438),s=Ee(s,e,n,a,r[f+14],9,-1019803690),a=Ee(a,s,e,n,r[f+3],14,-187363961),n=Ee(n,a,s,e,r[f+8],20,1163531501),e=Ee(e,n,a,s,r[f+13],5,-1444681467),s=Ee(s,e,n,a,r[f+2],9,-51403784),a=Ee(a,s,e,n,r[f+7],14,1735328473),n=Ee(n,a,s,e,r[f+12],20,-1926607734),e=ve(e,n,a,s,r[f+5],4,-378558),s=ve(s,e,n,a,r[f+8],11,-2022574463),a=ve(a,s,e,n,r[f+11],16,1839030562),n=ve(n,a,s,e,r[f+14],23,-35309556),e=ve(e,n,a,s,r[f+1],4,-1530992060),s=ve(s,e,n,a,r[f+4],11,1272893353),a=ve(a,s,e,n,r[f+7],16,-155497632),n=ve(n,a,s,e,r[f+10],23,-1094730640),e=ve(e,n,a,s,r[f+13],4,681279174),s=ve(s,e,n,a,r[f],11,-358537222),a=ve(a,s,e,n,r[f+3],16,-722521979),n=ve(n,a,s,e,r[f+6],23,76029189),e=ve(e,n,a,s,r[f+9],4,-640364487),s=ve(s,e,n,a,r[f+12],11,-421815835),a=ve(a,s,e,n,r[f+15],16,530742520),n=ve(n,a,s,e,r[f+2],23,-995338651),e=Ie(e,n,a,s,r[f],6,-198630844),s=Ie(s,e,n,a,r[f+7],10,1126891415),a=Ie(a,s,e,n,r[f+14],15,-1416354905),n=Ie(n,a,s,e,r[f+5],21,-57434055),e=Ie(e,n,a,s,r[f+12],6,1700485571),s=Ie(s,e,n,a,r[f+3],10,-1894986606),a=Ie(a,s,e,n,r[f+10],15,-1051523),n=Ie(n,a,s,e,r[f+1],21,-2054922799),e=Ie(e,n,a,s,r[f+8],6,1873313359),s=Ie(s,e,n,a,r[f+15],10,-30611744),a=Ie(a,s,e,n,r[f+6],15,-1560198380),n=Ie(n,a,s,e,r[f+13],21,1309151649),e=Ie(e,n,a,s,r[f+4],6,-145523070),s=Ie(s,e,n,a,r[f+11],10,-1120210379),a=Ie(a,s,e,n,r[f+2],15,718787259),n=Ie(n,a,s,e,r[f+9],21,-343485551),e=yr(e,h),n=yr(n,y),a=yr(a,x),s=yr(s,M)}return[e,n,a,s]}function af(r){if(r.length===0)return[];for(var t=r.length*8,e=new Uint32Array(ta(t)),n=0;n<t;n+=8)e[n>>5]|=(r[n/8]&255)<<n%32;return e}function yr(r,t){var e=(r&65535)+(t&65535),n=(r>>16)+(t>>16)+(e>>16);return n<<16|e&65535}function cf(r,t){return r<<t|r>>>32-t}function Gn(r,t,e,n,a,s){return yr(cf(yr(yr(t,r),yr(n,s)),a),e)}function be(r,t,e,n,a,s,f){return Gn(t&e|~t&n,r,t,a,s,f)}function Ee(r,t,e,n,a,s,f){return Gn(t&n|e&~n,r,t,a,s,f)}function ve(r,t,e,n,a,s,f){return Gn(t^e^n,r,t,a,s,f)}function Ie(r,t,e,n,a,s,f){return Gn(e^(t|~n),r,t,a,s,f)}var uf=$s("v3",48,nf);const ff=uf;function hf(r,t,e){r=r||{};var n=r.random||(r.rng||Zs)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){e=e||0;for(var a=0;a<16;++a)t[e+a]=n[a];return t}return qn(n)}function lf(r,t,e,n){switch(r){case 0:return t&e^~t&n;case 1:return t^e^n;case 2:return t&e^t&n^e&n;case 3:return t^e^n}}function io(r,t){return r<<t|r>>>32-t}function df(r){var t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var a=0;a<n.length;++a)r.push(n.charCodeAt(a))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var s=r.length/4+2,f=Math.ceil(s/16),h=new Array(f),y=0;y<f;++y){for(var x=new Uint32Array(16),M=0;M<16;++M)x[M]=r[y*64+M*4]<<24|r[y*64+M*4+1]<<16|r[y*64+M*4+2]<<8|r[y*64+M*4+3];h[y]=x}h[f-1][14]=(r.length-1)*8/Math.pow(2,32),h[f-1][14]=Math.floor(h[f-1][14]),h[f-1][15]=(r.length-1)*8&4294967295;for(var S=0;S<f;++S){for(var C=new Uint32Array(80),U=0;U<16;++U)C[U]=h[S][U];for(var D=16;D<80;++D)C[D]=io(C[D-3]^C[D-8]^C[D-14]^C[D-16],1);for(var T=e[0],_=e[1],H=e[2],Q=e[3],N=e[4],it=0;it<80;++it){var $=Math.floor(it/20),ht=io(T,5)+lf($,_,H,Q)+N+t[$]+C[it]>>>0;N=Q,Q=H,H=io(_,30)>>>0,_=T,T=ht}e[0]=e[0]+T>>>0,e[1]=e[1]+_>>>0,e[2]=e[2]+H>>>0,e[3]=e[3]+Q>>>0,e[4]=e[4]+N>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var pf=$s("v5",80,df);const gf=pf,yf="00000000-0000-0000-0000-000000000000";function wf(r){if(!Qn(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}const ea=Qt(Object.freeze(Object.defineProperty({__proto__:null,NIL:yf,parse:Js,stringify:qn,v1:$u,v3:ff,v4:hf,v5:gf,validate:Qn,version:wf},Symbol.toStringTag,{value:"Module"}))),mf=ea.v4;var Af=function(r,t,e,n){if(typeof r!="string")throw new TypeError(r+" must be a string");n=n||{};const a=typeof n.version=="number"?n.version:2;if(a!==1&&a!==2)throw new TypeError(a+" must be 1 or 2");const s={method:r};if(a===2&&(s.jsonrpc="2.0"),t){if(typeof t!="object"&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");s.params=t}if(typeof e>"u"){const f=typeof n.generator=="function"?n.generator:function(){return mf()};s.id=f(s,n)}else a===2&&e===null?n.notificationIdNull&&(s.id=null):s.id=e;return s};const xf=ea.v4,Bf=Af,jn=function(r,t){if(!(this instanceof jn))return new jn(r,t);t||(t={}),this.options={reviver:typeof t.reviver<"u"?t.reviver:null,replacer:typeof t.replacer<"u"?t.replacer:null,generator:typeof t.generator<"u"?t.generator:function(){return xf()},version:typeof t.version<"u"?t.version:2,notificationIdNull:typeof t.notificationIdNull=="boolean"?t.notificationIdNull:!1},this.callServer=r};jn.prototype.request=function(r,t,e,n){const a=this;let s=null;const f=Array.isArray(r)&&typeof t=="function";if(this.options.version===1&&f)throw new TypeError("JSON-RPC 1.0 does not support batching");if(f||!f&&r&&typeof r=="object"&&typeof t=="function")n=t,s=r;else{typeof e=="function"&&(n=e,e=void 0);const x=typeof n=="function";try{s=Bf(r,t,e,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(M){if(x)return n(M);throw M}if(!x)return s}let y;try{y=JSON.stringify(s,this.options.replacer)}catch(x){return n(x)}return this.callServer(y,function(x,M){a._parseResponse(x,M,n)}),s},jn.prototype._parseResponse=function(r,t,e){if(r){e(r);return}if(!t)return e();let n;try{n=JSON.parse(t,this.options.reviver)}catch(a){return e(a)}if(e.length===3)if(Array.isArray(n)){const a=function(f){return typeof f.error<"u"},s=function(f){return!a(f)};return e(null,n.filter(a),n.filter(s))}else return e(null,n.error,n.result);e(null,n)};class ra extends es{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,dc(t);const n=bi(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const a=this.blockLen,s=new Uint8Array(a);s.set(n.length>a?t.create().update(n).digest():n);for(let f=0;f<s.length;f++)s[f]^=54;this.iHash.update(s),this.oHash=t.create();for(let f=0;f<s.length;f++)s[f]^=106;this.oHash.update(s),s.fill(0)}update(t){return Mn(this),this.iHash.update(t),this}digestInto(t){Mn(this),xi(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:n,finished:a,destroyed:s,blockLen:f,outputLen:h}=this;return t=t,t.finished=a,t.destroyed=s,t.blockLen=f,t.outputLen=h,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const na=(r,t,e)=>new ra(r,t).update(e).digest();na.create=(r,t)=>new ra(r,t);/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const xt=BigInt(0),zt=BigInt(1),wr=BigInt(2),hn=BigInt(3),ia=BigInt(8),he=Object.freeze({a:xt,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:zt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),oa=(r,t)=>(r+t/wr)/t,Wn={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(r){const{n:t}=he,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-zt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=e,f=BigInt("0x100000000000000000000000000000000"),h=oa(s*r,t),y=oa(-n*r,t);let x=V(r-h*e-y*a,t),M=V(-h*n-y*s,t);const S=x>f,C=M>f;if(S&&(x=t-x),C&&(M=t-M),x>f||M>f)throw new Error("splitScalarEndo: Endomorphism failed, k="+r);return{k1neg:S,k1:x,k2neg:C,k2:M}}},Hr=32,ln=32,sa=Hr+1,aa=2*Hr+1;function ca(r){const{a:t,b:e}=he,n=V(r*r),a=V(n*r);return V(a+t*r+e)}const Yn=he.a===xt;class bf extends Error{constructor(t){super(t)}}function ua(r){if(!(r instanceof mt))throw new TypeError("JacobianPoint expected")}class mt{constructor(t,e,n){this.x=t,this.y=e,this.z=n}static fromAffine(t){if(!(t instanceof qt))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(qt.ZERO)?mt.ZERO:new mt(t.x,t.y,zt)}static toAffineBatch(t){const e=Mf(t.map(n=>n.z));return t.map((n,a)=>n.toAffine(e[a]))}static normalizeZ(t){return mt.toAffineBatch(t).map(mt.fromAffine)}equals(t){ua(t);const{x:e,y:n,z:a}=this,{x:s,y:f,z:h}=t,y=V(a*a),x=V(h*h),M=V(e*x),S=V(s*y),C=V(V(n*h)*x),U=V(V(f*a)*y);return M===S&&C===U}negate(){return new mt(this.x,V(-this.y),this.z)}double(){const{x:t,y:e,z:n}=this,a=V(t*t),s=V(e*e),f=V(s*s),h=t+s,y=V(wr*(V(h*h)-a-f)),x=V(hn*a),M=V(x*x),S=V(M-wr*y),C=V(x*(y-S)-ia*f),U=V(wr*e*n);return new mt(S,C,U)}add(t){ua(t);const{x:e,y:n,z:a}=this,{x:s,y:f,z:h}=t;if(s===xt||f===xt)return this;if(e===xt||n===xt)return t;const y=V(a*a),x=V(h*h),M=V(e*x),S=V(s*y),C=V(V(n*h)*x),U=V(V(f*a)*y),D=V(S-M),T=V(U-C);if(D===xt)return T===xt?this.double():mt.ZERO;const _=V(D*D),H=V(D*_),Q=V(M*_),N=V(T*T-H-wr*Q),it=V(T*(Q-N)-C*H),$=V(a*h*D);return new mt(N,it,$)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const e=mt.ZERO;if(typeof t=="bigint"&&t===xt)return e;let n=da(t);if(n===zt)return this;if(!Yn){let S=e,C=this;for(;n>xt;)n&zt&&(S=S.add(C)),C=C.double(),n>>=zt;return S}let{k1neg:a,k1:s,k2neg:f,k2:h}=Wn.splitScalar(n),y=e,x=e,M=this;for(;s>xt||h>xt;)s&zt&&(y=y.add(M)),h&zt&&(x=x.add(M)),M=M.double(),s>>=zt,h>>=zt;return a&&(y=y.negate()),f&&(x=x.negate()),x=new mt(V(x.x*Wn.beta),x.y,x.z),y.add(x)}precomputeWindow(t){const e=Yn?128/t+1:256/t+1,n=[];let a=this,s=a;for(let f=0;f<e;f++){s=a,n.push(s);for(let h=1;h<2**(t-1);h++)s=s.add(a),n.push(s);a=s.double()}return n}wNAF(t,e){!e&&this.equals(mt.BASE)&&(e=qt.BASE);const n=e&&e._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let a=e&&oo.get(e);a||(a=this.precomputeWindow(n),e&&n!==1&&(a=mt.normalizeZ(a),oo.set(e,a)));let s=mt.ZERO,f=mt.BASE;const h=1+(Yn?128/n:256/n),y=2**(n-1),x=BigInt(2**n-1),M=2**n,S=BigInt(n);for(let C=0;C<h;C++){const U=C*y;let D=Number(t&x);t>>=S,D>y&&(D-=M,t+=zt);const T=U,_=U+Math.abs(D)-1,H=C%2!==0,Q=D<0;D===0?f=f.add(Vn(H,a[T])):s=s.add(Vn(Q,a[_]))}return{p:s,f}}multiply(t,e){let n=da(t),a,s;if(Yn){const{k1neg:f,k1:h,k2neg:y,k2:x}=Wn.splitScalar(n);let{p:M,f:S}=this.wNAF(h,e),{p:C,f:U}=this.wNAF(x,e);M=Vn(f,M),C=Vn(y,C),C=new mt(V(C.x*Wn.beta),C.y,C.z),a=M.add(C),s=S.add(U)}else{const{p:f,f:h}=this.wNAF(n,e);a=f,s=h}return mt.normalizeZ([a,s])[0]}toAffine(t){const{x:e,y:n,z:a}=this,s=this.equals(mt.ZERO);t==null&&(t=s?ia:Xn(a));const f=t,h=V(f*f),y=V(h*f),x=V(e*h),M=V(n*y),S=V(a*f);if(s)return qt.ZERO;if(S!==zt)throw new Error("invZ was invalid");return new qt(x,M)}}mt.BASE=new mt(he.Gx,he.Gy,zt),mt.ZERO=new mt(xt,zt,xt);function Vn(r,t){const e=t.negate();return r?e:t}const oo=new WeakMap;class qt{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,oo.delete(this)}hasEvenY(){return this.y%wr===xt}static fromCompressedHex(t){const e=t.length===32,n=Mr(e?t:t.subarray(1));if(!co(n))throw new Error("Point is not on curve");const a=ca(n);let s=Sf(a);const f=(s&zt)===zt;e?f&&(s=V(-s)):(t[0]&1)===1!==f&&(s=V(-s));const h=new qt(n,s);return h.assertValidity(),h}static fromUncompressedHex(t){const e=Mr(t.subarray(1,Hr+1)),n=Mr(t.subarray(Hr+1,Hr*2+1)),a=new qt(e,n);return a.assertValidity(),a}static fromHex(t){const e=so(t),n=e.length,a=e[0];if(n===Hr)return this.fromCompressedHex(e);if(n===sa&&(a===2||a===3))return this.fromCompressedHex(e);if(n===aa&&a===4)return this.fromUncompressedHex(e);throw new Error(`Point.fromHex: received invalid point. Expected 32-${sa} compressed bytes or ${aa} uncompressed bytes, not ${n}`)}static fromPrivateKey(t){return qt.BASE.multiply(uo(t))}static fromSignature(t,e,n){const{r:a,s}=Cf(e);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");const f=Uf(so(t)),{n:h}=he,y=n===2||n===3?a+h:a,x=Xn(y,h),M=V(-f*x,h),S=V(s*x,h),C=n&1?"03":"02",U=qt.fromHex(C+Kr(y)),D=qt.BASE.multiplyAndAddUnsafe(U,M,S);if(!D)throw new Error("Cannot recover signature: point at infinify");return D.assertValidity(),D}toRawBytes(t=!1){return Sr(this.toHex(t))}toHex(t=!1){const e=Kr(this.x);return t?`${this.hasEvenY()?"02":"03"}${e}`:`04${e}${Kr(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:e,y:n}=this;if(!co(e)||!co(n))throw new Error(t);const a=V(n*n),s=ca(e);if(V(a-s)!==xt)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new qt(this.x,V(-this.y))}double(){return mt.fromAffine(this).double().toAffine()}add(t){return mt.fromAffine(this).add(mt.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return mt.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,e,n){const a=mt.fromAffine(this),s=e===xt||e===zt||this!==qt.BASE?a.multiplyUnsafe(e):a.multiply(e),f=mt.fromAffine(t).multiplyUnsafe(n),h=s.add(f);return h.equals(mt.ZERO)?void 0:h.toAffine()}}qt.BASE=new qt(he.Gx,he.Gy),qt.ZERO=new qt(xt,xt);function fa(r){return Number.parseInt(r[0],16)>=8?"00"+r:r}function ha(r){if(r.length<2||r[0]!==2)throw new Error(`Invalid signature integer tag: ${zr(r)}`);const t=r[1],e=r.subarray(2,t+2);if(!t||e.length!==t)throw new Error("Invalid signature integer: wrong length");if(e[0]===0&&e[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Mr(e),left:r.subarray(t+2)}}function Ef(r){if(r.length<2||r[0]!=48)throw new Error(`Invalid signature tag: ${zr(r)}`);if(r[1]!==r.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:e}=ha(r.subarray(2)),{data:n,left:a}=ha(e);if(a.length)throw new Error(`Invalid signature: left bytes after parsing: ${zr(a)}`);return{r:t,s:n}}class Ir{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromCompact(t){const e=t instanceof Uint8Array,n="Signature.fromCompact";if(typeof t!="string"&&!e)throw new TypeError(`${n}: Expected string or Uint8Array`);const a=e?zr(t):t;if(a.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new Ir(Zn(a.slice(0,64)),Zn(a.slice(64,128)))}static fromDER(t){const e=t instanceof Uint8Array;if(typeof t!="string"&&!e)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:n,s:a}=Ef(e?t:Sr(t));return new Ir(n,a)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:e}=this;if(!Jn(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Jn(e))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const t=he.n>>zt;return this.s>t}normalizeS(){return this.hasHighS()?new Ir(this.r,V(-this.s,he.n)):this}toDERRawBytes(){return Sr(this.toDERHex())}toDERHex(){const t=fa(pn(this.s)),e=fa(pn(this.r)),n=t.length/2,a=e.length/2,s=pn(n),f=pn(a);return`30${pn(a+n+4)}02${f}${e}02${s}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Sr(this.toCompactHex())}toCompactHex(){return Kr(this.r)+Kr(this.s)}}function dn(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(r.length===1)return r[0];const t=r.reduce((n,a)=>n+a.length,0),e=new Uint8Array(t);for(let n=0,a=0;n<r.length;n++){const s=r[n];e.set(s,a),a+=s.length}return e}const vf=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function zr(r){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let e=0;e<r.length;e++)t+=vf[r[e]];return t}const If=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Kr(r){if(typeof r!="bigint")throw new Error("Expected bigint");if(!(xt<=r&&r<If))throw new Error("Expected number 0 <= n < 2^256");return r.toString(16).padStart(64,"0")}function la(r){const t=Sr(Kr(r));if(t.length!==32)throw new Error("Error: expected 32 bytes");return t}function pn(r){const t=r.toString(16);return t.length&1?`0${t}`:t}function Zn(r){if(typeof r!="string")throw new TypeError("hexToNumber: expected string, got "+typeof r);return BigInt(`0x${r}`)}function Sr(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+r.length);const t=new Uint8Array(r.length/2);for(let e=0;e<t.length;e++){const n=e*2,a=r.slice(n,n+2),s=Number.parseInt(a,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[e]=s}return t}function Mr(r){return Zn(zr(r))}function so(r){return r instanceof Uint8Array?Uint8Array.from(r):Sr(r)}function da(r){if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)return BigInt(r);if(typeof r=="bigint"&&Jn(r))return r;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function V(r,t=he.P){const e=r%t;return e>=xt?e:t+e}function Ge(r,t){const{P:e}=he;let n=r;for(;t-- >xt;)n*=n,n%=e;return n}function Sf(r){const{P:t}=he,e=BigInt(6),n=BigInt(11),a=BigInt(22),s=BigInt(23),f=BigInt(44),h=BigInt(88),y=r*r*r%t,x=y*y*r%t,M=Ge(x,hn)*x%t,S=Ge(M,hn)*x%t,C=Ge(S,wr)*y%t,U=Ge(C,n)*C%t,D=Ge(U,a)*U%t,T=Ge(D,f)*D%t,_=Ge(T,h)*T%t,H=Ge(_,f)*D%t,Q=Ge(H,hn)*x%t,N=Ge(Q,s)*U%t,it=Ge(N,e)*y%t,$=Ge(it,wr);if($*$%t!==r)throw new Error("Cannot find square root");return $}function Xn(r,t=he.P){if(r===xt||t<=xt)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let e=V(r,t),n=t,a=xt,s=zt;for(;e!==xt;){const h=n/e,y=n%e,x=a-s*h;n=e,e=y,a=s,s=x}if(n!==zt)throw new Error("invert: does not exist");return V(a,t)}function Mf(r,t=he.P){const e=new Array(r.length),n=r.reduce((s,f,h)=>f===xt?s:(e[h]=s,V(s*f,t)),zt),a=Xn(n,t);return r.reduceRight((s,f,h)=>f===xt?s:(e[h]=V(s*e[h],t),V(s*f,t)),a),e}function kf(r){const t=r.length*8-ln*8,e=Mr(r);return t>0?e>>BigInt(t):e}function Uf(r,t=!1){const e=kf(r);if(t)return e;const{n}=he;return e>=n?e-n:e}let Qr,ao;function Jn(r){return xt<r&&r<he.n}function co(r){return xt<r&&r<he.P}function uo(r){let t;if(typeof r=="bigint")t=r;else if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)t=BigInt(r);else if(typeof r=="string"){if(r.length!==2*ln)throw new Error("Expected 32 bytes of private key");t=Zn(r)}else if(r instanceof Uint8Array){if(r.length!==ln)throw new Error("Expected 32 bytes of private key");t=Mr(r)}else throw new TypeError("Expected valid private key");if(!Jn(t))throw new Error("Expected private key: 0 < key < n");return t}function Cf(r){if(r instanceof Ir)return r.assertValidity(),r;try{return Ir.fromDER(r)}catch{return Ir.fromCompact(r)}}qt.BASE._setWindowSize(8);const Pe={node:vi,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},$n={},kr={bytesToHex:zr,hexToBytes:Sr,concatBytes:dn,mod:V,invert:Xn,isValidPrivateKey(r){try{return uo(r),!0}catch{return!1}},_bigintTo32Bytes:la,_normalizePrivateKey:uo,hashToPrivateKey:r=>{r=so(r);const t=ln+8;if(r.length<t||r.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");const e=V(Mr(r),he.n-zt)+zt;return la(e)},randomBytes:(r=32)=>{if(Pe.web)return Pe.web.getRandomValues(new Uint8Array(r));if(Pe.node){const{randomBytes:t}=Pe.node;return Uint8Array.from(t(r))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>kr.hashToPrivateKey(kr.randomBytes(ln+8)),precompute(r=8,t=qt.BASE){const e=t===qt.BASE?t:new qt(t.x,t.y);return e._setWindowSize(r),e.multiply(hn),e},sha256:async(...r)=>{if(Pe.web){const t=await Pe.web.subtle.digest("SHA-256",dn(...r));return new Uint8Array(t)}else if(Pe.node){const{createHash:t}=Pe.node,e=t("sha256");return r.forEach(n=>e.update(n)),Uint8Array.from(e.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(r,...t)=>{if(Pe.web){const e=await Pe.web.subtle.importKey("raw",r,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=dn(...t),a=await Pe.web.subtle.sign("HMAC",e,n);return new Uint8Array(a)}else if(Pe.node){const{createHmac:e}=Pe.node,n=e("sha256",r);return t.forEach(a=>n.update(a)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(r,...t)=>{let e=$n[r];if(e===void 0){const n=await kr.sha256(Uint8Array.from(r,a=>a.charCodeAt(0)));e=dn(n,n),$n[r]=e}return kr.sha256(e,...t)},taggedHashSync:(r,...t)=>{if(typeof Qr!="function")throw new bf("sha256Sync is undefined, you need to set it");let e=$n[r];if(e===void 0){const n=Qr(Uint8Array.from(r,a=>a.charCodeAt(0)));e=dn(n,n),$n[r]=e}return Qr(e,...t)},_JacobianPoint:mt};Object.defineProperties(kr,{sha256Sync:{configurable:!1,get(){return Qr},set(r){Qr||(Qr=r)}},hmacSha256Sync:{configurable:!1,get(){return ao},set(r){ao||(ao=r)}}}),Dr.sha512Sync=(...r)=>Oc(Dr.concatBytes(...r)),Dr.randomPrivateKey;function pa(r){try{return jt.fromHex(r,!0),!0}catch{return!1}}const ga=(r,t)=>gs.sign(r,t.slice(0,32)),Ff=gs.verify,fo=r=>J.Buffer.isBuffer(r)?r:r instanceof Uint8Array?J.Buffer.from(r.buffer,r.byteOffset,r.byteLength):J.Buffer.from(r);class Rf{constructor(t){Object.assign(this,t)}encode(){return J.Buffer.from(Is(ti,this))}static decode(t){return Ss(ti,this,t)}static decodeUnchecked(t){return xs(ti,this,t)}}const ti=new Map,Lf=32,nr=32;function Df(r){return r._bn!==void 0}let ya=1;class at extends Rf{constructor(t){if(super({}),this._bn=void 0,Df(t))this._bn=t._bn;else{if(typeof t=="string"){const e=Fe.decode(t);if(e.length!=nr)throw new Error("Invalid public key input");this._bn=new ws(e)}else this._bn=new ws(t);if(this._bn.byteLength()>nr)throw new Error("Invalid public key input")}}static unique(){const t=new at(ya);return ya+=1,new at(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return Fe.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){const t=this._bn.toArrayLike(J.Buffer);if(t.length===nr)return t;const e=J.Buffer.alloc(32);return t.copy(e,32-t.length),e}toString(){return this.toBase58()}static async createWithSeed(t,e,n){const a=J.Buffer.concat([t.toBuffer(),J.Buffer.from(e),n.toBuffer()]),s=Ti(a);return new at(s)}static createProgramAddressSync(t,e){let n=J.Buffer.alloc(0);t.forEach(function(s){if(s.length>Lf)throw new TypeError("Max seed length exceeded");n=J.Buffer.concat([n,fo(s)])}),n=J.Buffer.concat([n,e.toBuffer(),J.Buffer.from("ProgramDerivedAddress")]);const a=Ti(n);if(pa(a))throw new Error("Invalid seeds, address must fall off the curve");return new at(a)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let n=255,a;for(;n!=0;){try{const s=t.concat(J.Buffer.from([n]));a=this.createProgramAddressSync(s,e)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[a,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){const e=new at(t);return pa(e.toBytes())}}at.default=new at("11111111111111111111111111111111"),ti.set(at,{kind:"struct",fields:[["_bn","u256"]]}),new at("BPFLoader1111111111111111111111111111111111");const qr=1232,ho=127,gn=64;class ei{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((s,f)=>{n.set(s.toBase58(),f)});const a=s=>{const f=n.get(s.toBase58());if(f===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return f};return t.map(s=>({programIdIndex:a(s.programId),accountKeyIndexes:s.keys.map(f=>a(f.pubkey)),data:s.data}))}}const lt=(r="publicKey")=>Ct(32,r),Tf=(r="signature")=>Ct(64,r),Gr=(r="string")=>{const t=Z([et("length"),et("lengthPadding"),Ct(Er(et(),-8),"chars")],r),e=t.decode.bind(t),n=t.encode.bind(t),a=t;return a.decode=(s,f)=>e(s,f).chars.toString(),a.encode=(s,f,h)=>{const y={chars:J.Buffer.from(s,"utf8")};return n(y,f,h)},a.alloc=s=>et().span+et().span+J.Buffer.from(s,"utf8").length,a},_f=(r="authorized")=>Z([lt("staker"),lt("withdrawer")],r),Of=(r="lockup")=>Z([Oe("unixTimestamp"),Oe("epoch"),lt("custodian")],r),Pf=(r="voteInit")=>Z([lt("nodePubkey"),lt("authorizedVoter"),lt("authorizedWithdrawer"),wt("commission")],r),Nf=(r="voteAuthorizeWithSeedArgs")=>Z([et("voteAuthorizationType"),lt("currentAuthorityDerivedKeyOwnerPubkey"),Gr("currentAuthorityDerivedKeySeed"),lt("newAuthorized")],r);function Ne(r){let t=0,e=0;for(;;){let n=r.shift();if(t|=(n&127)<<e*7,e+=1,!(n&128))break}return t}function He(r,t){let e=t;for(;;){let n=e&127;if(e>>=7,e==0){r.push(n);break}else n|=128,r.push(n)}}function le(r,t){if(!r)throw new Error(t||"Assertion failed")}class ri{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const n=new Map,a=f=>{const h=f.toBase58();let y=n.get(h);return y===void 0&&(y={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(h,y)),y},s=a(e);s.isSigner=!0,s.isWritable=!0;for(const f of t){a(f.programId).isInvoked=!0;for(const h of f.keys){const y=a(h.pubkey);y.isSigner||(y.isSigner=h.isSigner),y.isWritable||(y.isWritable=h.isWritable)}}return new ri(e,n)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];le(t.length<=256,"Max static account keys length exceeded");const e=t.filter(([,y])=>y.isSigner&&y.isWritable),n=t.filter(([,y])=>y.isSigner&&!y.isWritable),a=t.filter(([,y])=>!y.isSigner&&y.isWritable),s=t.filter(([,y])=>!y.isSigner&&!y.isWritable),f={numRequiredSignatures:e.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{le(e.length>0,"Expected at least one writable signer key");const[y]=e[0];le(y===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const h=[...e.map(([y])=>new at(y)),...n.map(([y])=>new at(y)),...a.map(([y])=>new at(y)),...s.map(([y])=>new at(y))];return[f,h]}extractTableLookup(t){const[e,n]=this.drainKeysFoundInLookupTable(t.state.addresses,f=>!f.isSigner&&!f.isInvoked&&f.isWritable),[a,s]=this.drainKeysFoundInLookupTable(t.state.addresses,f=>!f.isSigner&&!f.isInvoked&&!f.isWritable);if(!(e.length===0&&a.length===0))return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:a},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(t,e){const n=new Array,a=new Array;for(const[s,f]of this.keyMetaMap.entries())if(e(f)){const h=new at(s),y=t.findIndex(x=>x.equals(h));y>=0&&(le(y<256,"Max lookup table index exceeded"),n.push(y),a.push(h),this.keyMetaMap.delete(s))}return[n,a]}}class jr{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(e=>new at(e)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Fe.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new ei(this.staticAccountKeys)}static compile(t){const e=ri.compile(t.instructions,t.payerKey),[n,a]=e.getMessageComponents(),f=new ei(a).compileInstructions(t.instructions).map(h=>({programIdIndex:h.programIdIndex,accounts:h.accountKeyIndexes,data:Fe.encode(h.data)}));return new jr({header:n,accountKeys:a,recentBlockhash:t.recentBlockhash,instructions:f})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const n=t-e,s=this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts;return n<s}else{const n=e-this.header.numReadonlySignedAccounts;return t<n}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,e)=>!this.isProgramId(e))}serialize(){const t=this.accountKeys.length;let e=[];He(e,t);const n=this.instructions.map(S=>{const{accounts:C,programIdIndex:U}=S,D=Array.from(Fe.decode(S.data));let T=[];He(T,C.length);let _=[];return He(_,D.length),{programIdIndex:U,keyIndicesCount:J.Buffer.from(T),keyIndices:C,dataLength:J.Buffer.from(_),data:D}});let a=[];He(a,n.length);let s=J.Buffer.alloc(qr);J.Buffer.from(a).copy(s);let f=a.length;n.forEach(S=>{const U=Z([wt("programIdIndex"),Ct(S.keyIndicesCount.length,"keyIndicesCount"),Le(wt("keyIndex"),S.keyIndices.length,"keyIndices"),Ct(S.dataLength.length,"dataLength"),Le(wt("userdatum"),S.data.length,"data")]).encode(S,s,f);f+=U}),s=s.slice(0,f);const h=Z([Ct(1,"numRequiredSignatures"),Ct(1,"numReadonlySignedAccounts"),Ct(1,"numReadonlyUnsignedAccounts"),Ct(e.length,"keyCount"),Le(lt("key"),t,"keys"),lt("recentBlockhash")]),y={numRequiredSignatures:J.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:J.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:J.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:J.Buffer.from(e),keys:this.accountKeys.map(S=>fo(S.toBytes())),recentBlockhash:Fe.decode(this.recentBlockhash)};let x=J.Buffer.alloc(2048);const M=h.encode(y,x);return s.copy(x,M),x.slice(0,M+s.length)}static from(t){let e=[...t];const n=e.shift();if(n!==(n&ho))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const a=e.shift(),s=e.shift(),f=Ne(e);let h=[];for(let C=0;C<f;C++){const U=e.slice(0,nr);e=e.slice(nr),h.push(new at(J.Buffer.from(U)))}const y=e.slice(0,nr);e=e.slice(nr);const x=Ne(e);let M=[];for(let C=0;C<x;C++){const U=e.shift(),D=Ne(e),T=e.slice(0,D);e=e.slice(D);const _=Ne(e),H=e.slice(0,_),Q=Fe.encode(J.Buffer.from(H));e=e.slice(_),M.push({programIdIndex:U,accounts:T,data:Q})}const S={header:{numRequiredSignatures:n,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:s},recentBlockhash:Fe.encode(J.Buffer.from(y)),accountKeys:h,instructions:M};return new jr(S)}}class ni{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new ei(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(t>=n){const a=t-n,s=this.addressTableLookups.reduce((f,h)=>f+h.writableIndexes.length,0);return a<s}else if(t>=this.header.numRequiredSignatures){const a=t-e,f=n-e-this.header.numReadonlyUnsignedAccounts;return a<f}else{const a=e-this.header.numReadonlySignedAccounts;return t<a}}resolveAddressTableLookups(t){const e={writable:[],readonly:[]};for(const n of this.addressTableLookups){const a=t.find(s=>s.key.equals(n.accountKey));if(!a)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const s of n.writableIndexes)if(s<a.state.addresses.length)e.writable.push(a.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(const s of n.readonlyIndexes)if(s<a.state.addresses.length)e.readonly.push(a.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return e}static compile(t){const e=ri.compile(t.instructions,t.payerKey),n=new Array,a={writable:new Array,readonly:new Array},s=t.addressLookupTableAccounts||[];for(const M of s){const S=e.extractTableLookup(M);if(S!==void 0){const[C,{writable:U,readonly:D}]=S;n.push(C),a.writable.push(...U),a.readonly.push(...D)}}const[f,h]=e.getMessageComponents(),x=new ei(h,a).compileInstructions(t.instructions);return new ni({header:f,staticAccountKeys:h,recentBlockhash:t.recentBlockhash,compiledInstructions:x,addressTableLookups:n})}serialize(){const t=Array();He(t,this.staticAccountKeys.length);const e=this.serializeInstructions(),n=Array();He(n,this.compiledInstructions.length);const a=this.serializeAddressTableLookups(),s=Array();He(s,this.addressTableLookups.length);const f=Z([wt("prefix"),Z([wt("numRequiredSignatures"),wt("numReadonlySignedAccounts"),wt("numReadonlyUnsignedAccounts")],"header"),Ct(t.length,"staticAccountKeysLength"),Le(lt(),this.staticAccountKeys.length,"staticAccountKeys"),lt("recentBlockhash"),Ct(n.length,"instructionsLength"),Ct(e.length,"serializedInstructions"),Ct(s.length,"addressTableLookupsLength"),Ct(a.length,"serializedAddressTableLookups")]),h=new Uint8Array(qr),x=f.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(M=>M.toBytes()),recentBlockhash:Fe.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:a},h);return h.slice(0,x)}serializeInstructions(){let t=0;const e=new Uint8Array(qr);for(const n of this.compiledInstructions){const a=Array();He(a,n.accountKeyIndexes.length);const s=Array();He(s,n.data.length);const f=Z([wt("programIdIndex"),Ct(a.length,"encodedAccountKeyIndexesLength"),Le(wt(),n.accountKeyIndexes.length,"accountKeyIndexes"),Ct(s.length,"encodedDataLength"),Ct(n.data.length,"data")]);t+=f.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(a),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0;const e=new Uint8Array(qr);for(const n of this.addressTableLookups){const a=Array();He(a,n.writableIndexes.length);const s=Array();He(s,n.readonlyIndexes.length);const f=Z([lt("accountKey"),Ct(a.length,"encodedWritableIndexesLength"),Le(wt(),n.writableIndexes.length,"writableIndexes"),Ct(s.length,"encodedReadonlyIndexesLength"),Le(wt(),n.readonlyIndexes.length,"readonlyIndexes")]);t+=f.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(a),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t];const n=e.shift(),a=n&ho;le(n!==a,"Expected versioned message but received legacy message");const s=a;le(s===0,`Expected versioned message with version 0 but found version ${s}`);const f={numRequiredSignatures:e.shift(),numReadonlySignedAccounts:e.shift(),numReadonlyUnsignedAccounts:e.shift()},h=[],y=Ne(e);for(let D=0;D<y;D++)h.push(new at(e.splice(0,nr)));const x=Fe.encode(e.splice(0,nr)),M=Ne(e),S=[];for(let D=0;D<M;D++){const T=e.shift(),_=Ne(e),H=e.splice(0,_),Q=Ne(e),N=new Uint8Array(e.splice(0,Q));S.push({programIdIndex:T,accountKeyIndexes:H,data:N})}const C=Ne(e),U=[];for(let D=0;D<C;D++){const T=new at(e.splice(0,nr)),_=Ne(e),H=e.splice(0,_),Q=Ne(e),N=e.splice(0,Q);U.push({accountKey:T,writableIndexes:H,readonlyIndexes:N})}return new ni({header:f,staticAccountKeys:h,recentBlockhash:x,compiledInstructions:S,addressTableLookups:U})}}const wa={deserializeMessageVersion(r){const t=r[0],e=t&ho;return e===t?"legacy":e},deserialize:r=>{const t=wa.deserializeMessageVersion(r);if(t==="legacy")return jr.from(r);if(t===0)return ni.deserialize(r);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let ma;(function(r){r[r.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",r[r.PROCESSED=1]="PROCESSED",r[r.TIMED_OUT=2]="TIMED_OUT",r[r.NONCE_INVALID=3]="NONCE_INVALID"})(ma||(ma={}));const Hf=J.Buffer.alloc(gn).fill(0);class Aa{constructor(t){this.keys=void 0,this.programId=void 0,this.data=J.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:e,isWritable:n})=>({pubkey:t.toJSON(),isSigner:e,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class ii{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:n}=t;this.minNonceContextSlot=e,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:n}=t;this.recentBlockhash=e,this.lastValidBlockHeight=n}else{const{recentBlockhash:e,nonceInfo:n}=t;n&&(this.nonceInfo=n),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new Aa(e))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?e=[this.nonceInfo.nonceInstruction,...this.instructions]:e=this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");e.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let T=0;T<e.length;T++)if(e[T].programId===void 0)throw new Error(`Transaction instruction index ${T} has undefined program id`);const a=[],s=[];e.forEach(T=>{T.keys.forEach(H=>{s.push({...H})});const _=T.programId.toString();a.includes(_)||a.push(_)}),a.forEach(T=>{s.push({pubkey:new at(T),isSigner:!1,isWritable:!1})});const f=[];s.forEach(T=>{const _=T.pubkey.toString(),H=f.findIndex(Q=>Q.pubkey.toString()===_);H>-1?(f[H].isWritable=f[H].isWritable||T.isWritable,f[H].isSigner=f[H].isSigner||T.isSigner):f.push(T)}),f.sort(function(T,_){return T.isSigner!==_.isSigner?T.isSigner?-1:1:T.isWritable!==_.isWritable?T.isWritable?-1:1:T.pubkey.toBase58().localeCompare(_.pubkey.toBase58())});const h=f.findIndex(T=>T.pubkey.equals(n));if(h>-1){const[T]=f.splice(h,1);T.isSigner=!0,T.isWritable=!0,f.unshift(T)}else f.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const T of this.signatures){const _=f.findIndex(H=>H.pubkey.equals(T.publicKey));if(_>-1)f[_].isSigner||(f[_].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${T.publicKey.toString()}`)}let y=0,x=0,M=0;const S=[],C=[];f.forEach(({pubkey:T,isSigner:_,isWritable:H})=>{_?(S.push(T.toString()),y+=1,H||(x+=1)):(C.push(T.toString()),H||(M+=1))});const U=S.concat(C),D=e.map(T=>{const{data:_,programId:H}=T;return{programIdIndex:U.indexOf(H.toString()),accounts:T.keys.map(Q=>U.indexOf(Q.pubkey.toString())),data:Fe.encode(_)}});return D.forEach(T=>{le(T.programIdIndex>=0),T.accounts.forEach(_=>le(_>=0))}),new jr({header:{numRequiredSignatures:y,numReadonlySignedAccounts:x,numReadonlyUnsignedAccounts:M},accountKeys:U,recentBlockhash:t,instructions:D})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every((a,s)=>e[s].equals(a.publicKey))||(this.signatures=e.map(n=>({signature:null,publicKey:n}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const e=new Set;this.signatures=t.filter(n=>{const a=n.toString();return e.has(a)?!1:(e.add(a),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...t){if(t.length===0)throw new Error("No signers");const e=new Set,n=[];for(const s of t){const f=s.publicKey.toString();e.has(f)||(e.add(f),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));const a=this._compile();this._partialSign(a,...n)}partialSign(...t){if(t.length===0)throw new Error("No signers");const e=new Set,n=[];for(const s of t){const f=s.publicKey.toString();e.has(f)||(e.add(f),n.push(s))}const a=this._compile();this._partialSign(a,...n)}_partialSign(t,...e){const n=t.serialize();e.forEach(a=>{const s=ga(n,a.secretKey);this._addSignature(a.publicKey,fo(s))})}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){le(e.length===64);const n=this.signatures.findIndex(a=>t.equals(a.publicKey));if(n<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[n].signature=J.Buffer.from(e)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(t,e){for(const{signature:n,publicKey:a}of this.signatures)if(n===null){if(e)return!1}else if(!Ff(n,t,a.toBytes()))return!1;return!0}serialize(t){const{requireAllSignatures:e,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),a=this.serializeMessage();if(n&&!this._verifySignatures(a,e))throw new Error("Signature verification failed");return this._serialize(a)}_serialize(t){const{signatures:e}=this,n=[];He(n,e.length);const a=n.length+e.length*64+t.length,s=J.Buffer.alloc(a);return le(e.length<256),J.Buffer.from(n).copy(s,0),e.forEach(({signature:f},h)=>{f!==null&&(le(f.length===64,"signature has invalid length"),J.Buffer.from(f).copy(s,n.length+h*64))}),t.copy(s,n.length+e.length*64),le(s.length<=qr,`Transaction too large: ${s.length} > ${qr}`),s}get keys(){return le(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return le(this.instructions.length===1),this.instructions[0].programId}get data(){return le(this.instructions.length===1),this.instructions[0].data}static from(t){let e=[...t];const n=Ne(e);let a=[];for(let s=0;s<n;s++){const f=e.slice(0,gn);e=e.slice(gn),a.push(Fe.encode(J.Buffer.from(f)))}return ii.populate(jr.from(e),a)}static populate(t,e=[]){const n=new ii;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),e.forEach((a,s)=>{const f={signature:a==Fe.encode(Hf)?null:Fe.decode(a),publicKey:t.accountKeys[s]};n.signatures.push(f)}),t.instructions.forEach(a=>{const s=a.accounts.map(f=>{const h=t.accountKeys[f];return{pubkey:h,isSigner:n.signatures.some(y=>y.publicKey.toString()===h.toString())||t.isAccountSigner(f),isWritable:t.isAccountWritable(f)}});n.instructions.push(new Aa({keys:s,programId:t.accountKeys[a.programIdIndex],data:Fe.decode(a.data)}))}),n._message=t,n._json=n.toJSON(),n}}class Wr{get version(){return this.message.version}constructor(t,e){if(this.signatures=void 0,this.message=void 0,e!==void 0)le(e.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=e;else{const n=[];for(let a=0;a<t.header.numRequiredSignatures;a++)n.push(new Uint8Array(gn));this.signatures=n}this.message=t}serialize(){const t=this.message.serialize(),e=Array();He(e,this.signatures.length);const n=Z([Ct(e.length,"encodedSignaturesLength"),Le(Tf(),this.signatures.length,"signatures"),Ct(t.length,"serializedMessage")]),a=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(e),signatures:this.signatures,serializedMessage:t},a);return a.slice(0,s)}static deserialize(t){let e=[...t];const n=[],a=Ne(e);for(let f=0;f<a;f++)n.push(new Uint8Array(e.splice(0,gn)));const s=wa.deserialize(new Uint8Array(e));return new Wr(s,n)}sign(t){const e=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const a of t){const s=n.findIndex(f=>f.equals(a.publicKey));le(s>=0,`Cannot sign with non signer key ${a.publicKey.toBase58()}`),this.signatures[s]=ga(e,a.secretKey)}}addSignature(t,e){le(e.byteLength===64,"Signature must be 64 bytes long");const a=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(t));le(a>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[a]=e}}new at("SysvarC1ock11111111111111111111111111111111"),new at("SysvarEpochSchedu1e111111111111111111111111"),new at("Sysvar1nstructions1111111111111111111111111"),new at("SysvarRecentB1ockHashes11111111111111111111"),new at("SysvarRent111111111111111111111111111111111"),new at("SysvarRewards111111111111111111111111111111"),new at("SysvarS1otHashes111111111111111111111111111"),new at("SysvarS1otHistory11111111111111111111111111"),new at("SysvarStakeHistory1111111111111111111111111");const zf=Ae("lamportsPerSignature");Z([et("version"),et("state"),lt("authorizedPubkey"),lt("nonce"),Z([zf],"feeCalculator")]).span;const Kf=r=>{const t=r.decode.bind(r),e=r.encode.bind(r);return{decode:t,encode:e}},Yr=(r=>t=>{const e=Ct(r,t),{encode:n,decode:a}=Kf(e),s=e;return s.decode=(f,h)=>{const y=a(f,h);return Su(J.Buffer.from(y))},s.encode=(f,h,y)=>{const x=Uu(f,r);return n(x,h,y)},s})(8);Object.freeze({Create:{index:0,layout:Z([et("instruction"),Oe("lamports"),Oe("space"),lt("programId")])},Assign:{index:1,layout:Z([et("instruction"),lt("programId")])},Transfer:{index:2,layout:Z([et("instruction"),Yr("lamports")])},CreateWithSeed:{index:3,layout:Z([et("instruction"),lt("base"),Gr("seed"),Oe("lamports"),Oe("space"),lt("programId")])},AdvanceNonceAccount:{index:4,layout:Z([et("instruction")])},WithdrawNonceAccount:{index:5,layout:Z([et("instruction"),Oe("lamports")])},InitializeNonceAccount:{index:6,layout:Z([et("instruction"),lt("authorized")])},AuthorizeNonceAccount:{index:7,layout:Z([et("instruction"),lt("authorized")])},Allocate:{index:8,layout:Z([et("instruction"),Oe("space")])},AllocateWithSeed:{index:9,layout:Z([et("instruction"),lt("base"),Gr("seed"),Oe("space"),lt("programId")])},AssignWithSeed:{index:10,layout:Z([et("instruction"),lt("base"),Gr("seed"),lt("programId")])},TransferWithSeed:{index:11,layout:Z([et("instruction"),Yr("lamports"),Gr("seed"),lt("programId")])},UpgradeNonceAccount:{index:12,layout:Z([et("instruction")])}}),new at("11111111111111111111111111111111"),new at("BPFLoader2111111111111111111111111111111111"),Z([et("typeIndex"),Yr("deactivationSlot"),Ae("lastExtendedSlot"),wt("lastExtendedStartIndex"),wt(),Le(lt(),Er(wt(),-1),"authority")]);const de=fn(Vi(at),z(),r=>new at(r)),xa=Zi([z(),Ht("base64")]),lo=fn(Vi(J.Buffer),xa,r=>J.Buffer.from(r[0],"base64"));function Ba(r){return Te([P({jsonrpc:Ht("2.0"),id:z(),result:r}),P({jsonrpc:Ht("2.0"),id:z(),error:P({code:un(),message:z(),data:st(Ou())})})])}const Qf=Ba(un());function Lt(r){return fn(Ba(r),Qf,t=>"error"in t?t:{...t,result:an(t.result,r)})}function Ve(r){return Lt(P({context:P({slot:L()}),value:r}))}function oi(r){return P({context:P({slot:L()}),value:r})}const qf=P({foundation:L(),foundationTerm:L(),initial:L(),taper:L(),terminal:L()});Lt(W(Y(P({epoch:L(),effectiveSlot:L(),amount:L(),postBalance:L()}))));const Gf=P({epoch:L(),slotIndex:L(),slotsInEpoch:L(),absoluteSlot:L(),blockHeight:st(L()),transactionCount:st(L())}),jf=P({slotsPerEpoch:L(),leaderScheduleSlotOffset:L(),warmup:or(),firstNormalEpoch:L(),firstNormalSlot:L()}),Wf=js(z(),W(L())),Ur=Y(Te([P({}),z()])),Yf=P({err:Ur}),Vf=Ht("receivedSignature");P({"solana-core":z(),"feature-set":st(L())}),Ve(P({err:Y(Te([P({}),z()])),logs:Y(W(z())),accounts:st(Y(W(Y(P({executable:or(),owner:z(),lamports:L(),data:W(z()),rentEpoch:st(L())}))))),unitsConsumed:st(L()),returnData:st(Y(P({programId:z(),data:Zi([z(),Ht("base64")])})))})),Ve(P({byIdentity:js(z(),W(L())),range:P({firstSlot:L(),lastSlot:L()})})),Lt(qf),Lt(Gf),Lt(jf),Lt(Wf),Lt(L()),Ve(P({total:L(),circulating:L(),nonCirculating:L(),nonCirculatingAccounts:W(de)}));const Zf=P({amount:z(),uiAmount:Y(L()),decimals:L(),uiAmountString:st(z())});Ve(W(P({address:de,amount:z(),uiAmount:Y(L()),decimals:L(),uiAmountString:st(z())}))),Ve(W(P({pubkey:de,account:P({executable:or(),owner:de,lamports:L(),data:lo,rentEpoch:L()})})));const po=P({program:z(),parsed:un(),space:L()});Ve(W(P({pubkey:de,account:P({executable:or(),owner:de,lamports:L(),data:po,rentEpoch:L()})}))),Ve(W(P({lamports:L(),address:de})));const go=P({executable:or(),owner:de,lamports:L(),data:lo,rentEpoch:L()});P({pubkey:de,account:go});const Xf=fn(Te([Vi(J.Buffer),po]),Te([xa,po]),r=>Array.isArray(r)?an(r,lo):r),Jf=P({executable:or(),owner:de,lamports:L(),data:Xf,rentEpoch:L()});P({pubkey:de,account:Jf}),P({state:Te([Ht("active"),Ht("inactive"),Ht("activating"),Ht("deactivating")]),active:L(),inactive:L()}),Lt(W(P({signature:z(),slot:L(),err:Ur,memo:Y(z()),blockTime:st(Y(L()))}))),Lt(W(P({signature:z(),slot:L(),err:Ur,memo:Y(z()),blockTime:st(Y(L()))}))),P({subscription:L(),result:oi(go)});const $f=P({pubkey:de,account:go});P({subscription:L(),result:oi($f)});const t0=P({parent:L(),slot:L(),root:L()});P({subscription:L(),result:t0});const e0=Te([P({type:Te([Ht("firstShredReceived"),Ht("completed"),Ht("optimisticConfirmation"),Ht("root")]),slot:L(),timestamp:L()}),P({type:Ht("createdBank"),parent:L(),slot:L(),timestamp:L()}),P({type:Ht("frozen"),slot:L(),timestamp:L(),stats:P({numTransactionEntries:L(),numSuccessfulTransactions:L(),numFailedTransactions:L(),maxTransactionsPerEntry:L()})}),P({type:Ht("dead"),slot:L(),timestamp:L(),err:z()})]);P({subscription:L(),result:e0}),P({subscription:L(),result:oi(Te([Yf,Vf]))}),P({subscription:L(),result:L()}),P({pubkey:z(),gossip:Y(z()),tpu:Y(z()),rpc:Y(z()),version:Y(z())});const ba=P({votePubkey:z(),nodePubkey:z(),activatedStake:L(),epochVoteAccount:or(),epochCredits:W(Zi([L(),L(),L()])),commission:L(),lastVote:L(),rootSlot:Y(L())});Lt(P({current:W(ba),delinquent:W(ba)}));const r0=Te([Ht("processed"),Ht("confirmed"),Ht("finalized")]),n0=P({slot:L(),confirmations:Y(L()),err:Ur,confirmationStatus:st(r0)});Ve(W(Y(n0))),Lt(L());const Ea=P({accountKey:de,writableIndexes:W(L()),readonlyIndexes:W(L())}),yo=P({signatures:W(z()),message:P({accountKeys:W(z()),header:P({numRequiredSignatures:L(),numReadonlySignedAccounts:L(),numReadonlyUnsignedAccounts:L()}),instructions:W(P({accounts:W(L()),data:z(),programIdIndex:L()})),recentBlockhash:z(),addressTableLookups:st(W(Ea))})}),va=P({pubkey:de,signer:or(),writable:or(),source:st(Te([Ht("transaction"),Ht("lookupTable")]))}),Ia=P({accountKeys:W(va),signatures:W(z())}),Sa=P({parsed:un(),program:z(),programId:de}),Ma=P({accounts:W(de),data:z(),programId:de}),i0=Te([Ma,Sa]),o0=Te([P({parsed:un(),program:z(),programId:z()}),P({accounts:W(z()),data:z(),programId:z()})]),ka=fn(i0,o0,r=>"accounts"in r?an(r,Ma):an(r,Sa)),Ua=P({signatures:W(z()),message:P({accountKeys:W(va),instructions:W(ka),recentBlockhash:z(),addressTableLookups:st(Y(W(Ea)))})}),si=P({accountIndex:L(),mint:z(),owner:st(z()),uiTokenAmount:Zf}),Ca=P({writable:W(de),readonly:W(de)}),ai=P({err:Ur,fee:L(),innerInstructions:st(Y(W(P({index:L(),instructions:W(P({accounts:W(L()),data:z(),programIdIndex:L()}))})))),preBalances:W(L()),postBalances:W(L()),logMessages:st(Y(W(z()))),preTokenBalances:st(Y(W(si))),postTokenBalances:st(Y(W(si))),loadedAddresses:st(Ca),computeUnitsConsumed:st(L())}),wo=P({err:Ur,fee:L(),innerInstructions:st(Y(W(P({index:L(),instructions:W(ka)})))),preBalances:W(L()),postBalances:W(L()),logMessages:st(Y(W(z()))),preTokenBalances:st(Y(W(si))),postTokenBalances:st(Y(W(si))),loadedAddresses:st(Ca),computeUnitsConsumed:st(L())}),Vr=Te([Ht(0),Ht("legacy")]),Cr=P({pubkey:z(),lamports:L(),postBalance:Y(L()),rewardType:Y(z())});Lt(Y(P({blockhash:z(),previousBlockhash:z(),parentSlot:L(),transactions:W(P({transaction:yo,meta:Y(ai),version:st(Vr)})),rewards:st(W(Cr)),blockTime:Y(L()),blockHeight:Y(L())}))),Lt(Y(P({blockhash:z(),previousBlockhash:z(),parentSlot:L(),rewards:st(W(Cr)),blockTime:Y(L()),blockHeight:Y(L())}))),Lt(Y(P({blockhash:z(),previousBlockhash:z(),parentSlot:L(),transactions:W(P({transaction:Ia,meta:Y(ai),version:st(Vr)})),rewards:st(W(Cr)),blockTime:Y(L()),blockHeight:Y(L())}))),Lt(Y(P({blockhash:z(),previousBlockhash:z(),parentSlot:L(),transactions:W(P({transaction:Ua,meta:Y(wo),version:st(Vr)})),rewards:st(W(Cr)),blockTime:Y(L()),blockHeight:Y(L())}))),Lt(Y(P({blockhash:z(),previousBlockhash:z(),parentSlot:L(),transactions:W(P({transaction:Ia,meta:Y(wo),version:st(Vr)})),rewards:st(W(Cr)),blockTime:Y(L()),blockHeight:Y(L())}))),Lt(Y(P({blockhash:z(),previousBlockhash:z(),parentSlot:L(),rewards:st(W(Cr)),blockTime:Y(L()),blockHeight:Y(L())}))),Lt(Y(P({blockhash:z(),previousBlockhash:z(),parentSlot:L(),transactions:W(P({transaction:yo,meta:Y(ai)})),rewards:st(W(Cr)),blockTime:Y(L())}))),Lt(Y(P({blockhash:z(),previousBlockhash:z(),parentSlot:L(),signatures:W(z()),blockTime:Y(L())}))),Lt(Y(P({slot:L(),meta:ai,blockTime:st(Y(L())),transaction:yo,version:st(Vr)}))),Lt(Y(P({slot:L(),transaction:Ua,meta:Y(wo),blockTime:st(Y(L())),version:st(Vr)}))),Ve(P({blockhash:z(),feeCalculator:P({lamportsPerSignature:L()})})),Ve(P({blockhash:z(),lastValidBlockHeight:L()}));const s0=P({slot:L(),numTransactions:L(),numSlots:L(),samplePeriodSecs:L()});Lt(W(s0)),Ve(Y(P({feeCalculator:P({lamportsPerSignature:L()})}))),Lt(z()),Lt(z());const a0=P({err:Ur,logs:W(z()),signature:z()});P({result:oi(a0),subscription:L()}),Object.freeze({CreateLookupTable:{index:0,layout:Z([et("instruction"),Yr("recentSlot"),wt("bumpSeed")])},FreezeLookupTable:{index:1,layout:Z([et("instruction")])},ExtendLookupTable:{index:2,layout:Z([et("instruction"),Yr(),Le(lt(),Er(et(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Z([et("instruction")])},CloseLookupTable:{index:4,layout:Z([et("instruction")])}}),new at("AddressLookupTab1e1111111111111111111111111"),Object.freeze({RequestUnits:{index:0,layout:Z([wt("instruction"),et("units"),et("additionalFee")])},RequestHeapFrame:{index:1,layout:Z([wt("instruction"),et("bytes")])},SetComputeUnitLimit:{index:2,layout:Z([wt("instruction"),et("units")])},SetComputeUnitPrice:{index:3,layout:Z([wt("instruction"),Yr("microLamports")])}}),new at("ComputeBudget111111111111111111111111111111"),Z([wt("numSignatures"),wt("padding"),qe("signatureOffset"),qe("signatureInstructionIndex"),qe("publicKeyOffset"),qe("publicKeyInstructionIndex"),qe("messageDataOffset"),qe("messageDataSize"),qe("messageInstructionIndex")]),new at("Ed25519SigVerify111111111111111111111111111"),kr.hmacSha256Sync=(r,...t)=>{const e=na.create(Ti,r);return t.forEach(n=>e.update(n)),e.digest()},kr.isValidPrivateKey,Z([wt("numSignatures"),qe("signatureOffset"),wt("signatureInstructionIndex"),qe("ethAddressOffset"),wt("ethAddressInstructionIndex"),qe("messageDataOffset"),qe("messageDataSize"),wt("messageInstructionIndex"),Ct(20,"ethAddress"),Ct(64,"signature"),wt("recoveryId")]),new at("KeccakSecp256k11111111111111111111111111111"),new at("StakeConfig11111111111111111111111111111111");class Fa{constructor(t,e,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=n}}Fa.default=new Fa(0,0,at.default),Object.freeze({Initialize:{index:0,layout:Z([et("instruction"),_f(),Of()])},Authorize:{index:1,layout:Z([et("instruction"),lt("newAuthorized"),et("stakeAuthorizationType")])},Delegate:{index:2,layout:Z([et("instruction")])},Split:{index:3,layout:Z([et("instruction"),Oe("lamports")])},Withdraw:{index:4,layout:Z([et("instruction"),Oe("lamports")])},Deactivate:{index:5,layout:Z([et("instruction")])},Merge:{index:7,layout:Z([et("instruction")])},AuthorizeWithSeed:{index:8,layout:Z([et("instruction"),lt("newAuthorized"),et("stakeAuthorizationType"),Gr("authoritySeed"),lt("authorityOwner")])}}),new at("Stake11111111111111111111111111111111111111"),Object.freeze({InitializeAccount:{index:0,layout:Z([et("instruction"),Pf()])},Authorize:{index:1,layout:Z([et("instruction"),lt("newAuthorized"),et("voteAuthorizationType")])},Withdraw:{index:3,layout:Z([et("instruction"),Oe("lamports")])},AuthorizeWithSeed:{index:10,layout:Z([et("instruction"),Nf()])}}),new at("Vote111111111111111111111111111111111111111"),new at("Va1idator1nfo111111111111111111111111111111"),P({name:z(),website:st(z()),details:st(z()),keybaseUsername:st(z())}),new at("Vote111111111111111111111111111111111111111"),Z([lt("nodePubkey"),lt("authorizedWithdrawer"),wt("commission"),Ae(),Le(Z([Ae("slot"),et("confirmationCount")]),Er(et(),-8),"votes"),wt("rootSlotValid"),Ae("rootSlot"),Ae(),Le(Z([Ae("epoch"),lt("authorizedVoter")]),Er(et(),-8),"authorizedVoters"),Z([Le(Z([lt("authorizedPubkey"),Ae("epochOfLastAuthorizedSwitch"),Ae("targetEpoch")]),32,"buf"),Ae("idx"),wt("isEmpty")],"priorVoters"),Ae(),Le(Z([Ae("epoch"),Ae("credits"),Ae("prevCredits")]),Er(et(),-8),"epochCredits"),Z([Ae("slot"),Ae("timestamp")],"lastTimestamp")]);function ci(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ci=function(e){return typeof e}:ci=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ci(r)}function c0(r){var t=typeof r=="string"||r instanceof String;if(!t){var e=ci(r);throw r===null?e="null":e==="object"&&(e=r.constructor.name),new TypeError("Expected a string but received a ".concat(e))}}for(var Se={"en-US":".",ar:""},Ra=["AU","GB","HK","IN","NZ","ZA","ZM"],La,mo=0;mo<Ra.length;mo++)La="en-".concat(Ra[mo]),Se[La]=Se["en-US"];for(var Da=["AE","BH","DZ","EG","IQ","JO","KW","LB","LY","MA","QM","QA","SA","SD","SY","TN","YE"],Ta,Ao=0;Ao<Da.length;Ao++)Ta="ar-".concat(Da[Ao]),Se[Ta]=Se.ar;for(var _a=["IR","AF"],Oa,xo=0;xo<_a.length;xo++)Oa="fa-".concat(_a[xo]),Se[Oa]=Se.ar;for(var Pa=["BD","IN"],Na,Bo=0;Bo<Pa.length;Bo++)Na="bn-".concat(Pa[Bo]),Se[Na]=Se["en-US"];for(var Ha=["ar-EG","ar-LB","ar-LY"],za=["bg-BG","cs-CZ","da-DK","de-DE","el-GR","en-ZM","es-ES","fr-CA","fr-FR","id-ID","it-IT","ku-IQ","hi-IN","hu-HU","nb-NO","nn-NO","nl-NL","pl-PL","pt-PT","ru-RU","kk-KZ","si-LK","sl-SI","sr-RS@latin","sr-RS","sv-SE","tr-TR","uk-UA","vi-VN"],bo=0;bo<Ha.length;bo++)Se[Ha[bo]]=Se["en-US"];for(var Eo=0;Eo<za.length;Eo++)Se[za[Eo]]=",";Se["pt-BR"]=Se["pt-PT"],Se["pl-Pl"]=Se["pl-PL"];function u0(r,t){return c0(r),new RegExp("^[+-]?([0-9]*[".concat({}.locale?Se[t.locale]:".","])?[0-9]+$")).test(r)}const vo=()=>"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^crypto.getRandomValues(new Uint8Array(1))[0]&15>>+r/4).toString(16)),f0=(()=>{const r=setInterval(()=>{window.postMessage({$hot:"ping-content-script"},"*")},500);return new Promise(t=>{window.addEventListener("message",e=>{var n;((n=e.data)==null?void 0:n.$hot)==="pong-content-script"&&(clearInterval(r),t())})})})(),pe={_events:{},_requests:{},request:async(r,t,e)=>{await f0;const n=vo();return new Promise((a,s)=>{pe._requests[n]={resolve:a,reject:s},window.postMessage({$hot:"request",method:r,request:t,id:n,context:e},"*")})},subscribe:(r,t)=>{const e=vo();return pe._events[r]==null&&(pe._events[r]=new Set),pe._events[r].add(t),window.postMessage({$hot:"subscribe",event:r,id:e},"*"),()=>pe.unsubscribe(r,t)},unsubscribe:(r,t)=>{var n;const e=vo();pe._events[r].delete(t),!((n=pe._events[r])!=null&&n.size)&&window.postMessage({$hot:"unsubscribe",event:r,id:e},"*")}};window.addEventListener("message",r=>{var t,e,n,a,s,f;((t=r.data)==null?void 0:t.$hot)==="response:success"&&((e=pe._requests[r.data.id])==null||e.resolve(r.data.payload)),((n=r.data)==null?void 0:n.$hot)==="response:failed"&&((a=pe._requests[r.data.id])==null||a.reject(r.data.payload)),((s=r.data)==null?void 0:s.$hot)==="signal"&&((f=pe._events[r.data.event])==null||f.forEach(h=>h(r.data.payload)))});function h0(r){const t=({register:e})=>e(r);try{window.dispatchEvent(new l0(t))}catch(e){console.error(`wallet-standard:register-wallet event could not be dispatched
`,e)}try{window.addEventListener("wallet-standard:app-ready",({detail:e})=>t(e))}catch(e){console.error(`wallet-standard:app-ready event listener could not be added
`,e)}}class l0 extends Event{constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1});Rt(this,yn);Ze(this,yn,e)}get detail(){return X(this,yn)}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}yn=new WeakMap;const Ka="solana:signAndSendTransaction",d0="solana:signIn",Qa="solana:signMessage",qa="solana:signTransaction",p0="standard:connect",g0="standard:disconnect",y0="standard:events";function w0(r){if(r.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let x=0;x<t.length;x++)t[x]=255;for(let x=0;x<r.length;x++){const M=r.charAt(x),S=M.charCodeAt(0);if(t[S]!==255)throw new TypeError(M+" is ambiguous");t[S]=x}const e=r.length,n=r.charAt(0),a=Math.log(e)/Math.log(256),s=Math.log(256)/Math.log(e);function f(x){if(x instanceof Uint8Array||(ArrayBuffer.isView(x)?x=new Uint8Array(x.buffer,x.byteOffset,x.byteLength):Array.isArray(x)&&(x=Uint8Array.from(x))),!(x instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(x.length===0)return"";let M=0,S=0,C=0;const U=x.length;for(;C!==U&&x[C]===0;)C++,M++;const D=(U-C)*s+1>>>0,T=new Uint8Array(D);for(;C!==U;){let Q=x[C],N=0;for(let it=D-1;(Q!==0||N<S)&&it!==-1;it--,N++)Q+=256*T[it]>>>0,T[it]=Q%e>>>0,Q=Q/e>>>0;if(Q!==0)throw new Error("Non-zero carry");S=N,C++}let _=D-S;for(;_!==D&&T[_]===0;)_++;let H=n.repeat(M);for(;_<D;++_)H+=r.charAt(T[_]);return H}function h(x){if(typeof x!="string")throw new TypeError("Expected String");if(x.length===0)return new Uint8Array;let M=0,S=0,C=0;for(;x[M]===n;)S++,M++;const U=(x.length-M)*a+1>>>0,D=new Uint8Array(U);for(;x[M];){let Q=t[x.charCodeAt(M)];if(Q===255)return;let N=0;for(let it=U-1;(Q!==0||N<C)&&it!==-1;it--,N++)Q+=e*D[it]>>>0,D[it]=Q%256>>>0,Q=Q/256>>>0;if(Q!==0)throw new Error("Non-zero carry");C=N,M++}let T=U-C;for(;T!==U&&D[T]===0;)T++;const _=new Uint8Array(S+(U-T));let H=S;for(;T!==U;)_[H++]=D[T++];return _}function y(x){const M=h(x);if(M)return M;throw new Error("Non-base"+e+" character")}return{encode:f,decodeUnsafe:h,decode:y}}var m0="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const A0=w0(m0),Io=["solana:mainnet","solana:mainnet-beta"];function So(r){return Io.includes(r)}function Ga(r){return"version"in r}const x0=Io,B0=[Ka,qa,Qa],Uo=class Uo{constructor({address:t,publicKey:e,label:n,icon:a}){Rt(this,wn);Rt(this,mn);Rt(this,An);Rt(this,xn);Rt(this,Bn);Rt(this,bn);new.target===Uo&&Object.freeze(this),Ze(this,wn,t),Ze(this,mn,e),Ze(this,An,x0),Ze(this,xn,B0),Ze(this,Bn,n),Ze(this,bn,a)}get address(){return X(this,wn)}get publicKey(){return X(this,mn).slice()}get chains(){return X(this,An).slice()}get features(){return X(this,xn).slice()}get label(){return X(this,Bn)}get icon(){return X(this,bn)}};wn=new WeakMap,mn=new WeakMap,An=new WeakMap,xn=new WeakMap,Bn=new WeakMap,bn=new WeakMap;let Mo=Uo;function b0(r,t){return E0(r,t)}function E0(r,t){if(r===t)return!0;const e=r.length;if(e!==t.length)return!1;for(let n=0;n<e;n++)if(r[n]!==t[n])return!1;return!0}const v0="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAAtFBMVEX9vxw/NzJBODI5NTI7NjI0MzQ2MzNOPDBeQi4yMjREOTFRPTBTPjBLOzA9NjJkRC1IOjFWPy9JOzEuMTRZQC9DODFhQy5nRS0wMTRGOTFVPzBcQS5bQS5ZQS5gQi77vRwqLzT/yBprRy3/wxseJjYhKDUmLDX1uR2yiyTapyCFbSrHmiKnhCbjrR93YytuXSzssx4/PTKbfCdGQTFeUi5lVy2QdCjQoCFXTS9MRjC8kyNSSi9fEIHQAAAi60lEQVR42ryciXrbNhCESV2WqIOyaEmW7ciwbClJm7O5m/d/rwKGxCEwWIBVm2wct1/PzI/ZA0sqWRWJ62aM6uiP+n39vRmDgf7ZjC5Hr6e/dOCPwej2uqEY1GH+T+arGSM3rp2oYhEDcNTt6e9zDNLi/02AADNAGAoCgmsicA6AayfOlA/tZyBgED4BQgAGbvwXABYn9HvWZ/lp9bNg6L9OEIiCC8BSQEB/awRZW/029ylE9T2oD0rPZ1KQG+yXnAohAv8TgET6u8cfP3Yo9yMII14ZHPnkAXLBKEIga1H+4X8/oupZ+rPSXAoAOhJhIzSCAEilwFKQAZxfAAcAICe9lWRVtQkrHzx8CmEGCDLBCAjOADBCCGeflC8J73Q6+meCRJ6AABfor/RU0BYA1X4drSofO1/QHgqRRgxBvBZyOWwB4Br+j6pn+Sn1nZbRnkEaATeEJIBk7kt9r736pf221GG+22AKjCBtAgFBEgDUn6v/pN3KJ/WQHA1LBzBaMSAAiCQCBoC+kSx+4cPP0+ILIQiGCUIQNYEr3wWASAKw+i0CVi/rl44e0pNBDEx4DPjaSPoZQgIAp//RAWn3xw4fR8/iN+bHKWQMnWWAAd+dZQQ0FCUAaOVIfwkAiTeZL599U7Yf8/kG4UMCAR2xTOBSiBCmQgaAsweA4KW3G9JP6km81buZC7GZhyggFXwG5IEuZmNhVQCHCw4wwqXzH0T0myD1rvzjcaciZAaqByAg94NzANSVHxHR32svP6B94YaAIWiDUCkQ+0GaQAb50E+3f7Y/zK9DtD6f/CIRTCHGAHmQuiRyLwgA4NNP63cP3052UB/XPp1O9Tf9ww8XgtsZgi6I3xFHMQ9kggH6cf1s/sbZs/Nd3UIIFHwGUiIIBBBhAhnJZ/1c/Vi+CSHv09oZxNRnwAWRS0FiLKJlIQDE9cvHz6WPEj8s/cKNIAYLgW0gmECeDOWZsCUAOn9Kfvf0U+KjEXBDEMGyJoCViegCGIAJZBgAEbHzp+Onw5878ll3OjwCzOA0H9YEgCBaCAK3gox2XzT+JPXj9P3EJ/FnQ0AquLWATcDrMmFnDgDU/1l/q+Nvqo96fixEGwbNycC6oF4jswfkJQkAcP+PjX/Qj9oH90M+zj4qPc0BBAgBCNgQCPSdIAIZ7T7T55+H9IdOn5S3jhAC2MAgsASiMwFWxpGZUANoN/6h+0E95KPws35WPwnHeCIxqCOJgE1A8j0AyfHXG35nVPxQ+4KFj4SnIgjBR4A8SKcBM2gPgKd/6KfaHyr7CfVpCiEE8xgCeR5IA0jLnyXk22ih/uZGfzWjDQNCgGIIAmkPEAChAEI+lf+w+yXvO8JTMWmiYAScB7gjuWnQ0gJZzP+Sfpy/l/wsP6z9UgiyA9sAYwGbgD3ABGQAony0Pzp/cr8g36pm3TIGcKCSKBXDpeMBJuBPhAQg7v9A/rutj+Uj2wXpV1fmm/3TIAPPB44Jpv+aQHAUyOLnzwawq/6C9AflawW+469iQQwmMQQwARUCEAgOhQSA8j9R/x350wXLb2Y9aU+FAKGJALMhTUWhgQAzPVkgExsgzX8YfgsdVj+S35EP/Sz+hRAyAxmBS6DApiSVBSCQtdOf2yD9OoLy3XJP2iUELoUrtgG7QEeUQNfzgJsEIwtAGoBx/YX/oZ+yH6d/0zz9oPo7LywBA8D+tBGwARNgD6R7AS4FWWsDyPqp9omHP7zzpN/ab3Wc/mH9xTYIm2DRRIDLEU9EMoD4DWgm1D9UPz/7IR/qjaS7F+Or4fD2Vkvm8O1g/qUIAiYwDxCQt2QA0Fo/p79Q/Fz5DcsPczXqXFzeDocGw9ALF8OVWxqBACYIEkAWcCvgOggHpPXndP6kPyrfHHtfKVX1ltPJ3TAQ5AVjAx1pAlOXwLJdK4ADCADphwHc9ifKP1of4k0MB6qqKtXv9fK5ToatDAEYLEAgENJA8kAeHAdSAKz8cAJg+Kfir4NPX2u36rW4YVdVh0Olqq55l2o5BgLGYEqF/iIEVAlaEhAtkEkdwG+AS0k/Hz8fvtW17anD949P2gSjnvmFFZcrQhAqCmQCiUC6EvJEnAkVgC4ATv+L2B+nD/HHWM2qp6/37w77SqlBnue93vR2lSIABFwJuBRiLLYAyANEIJMNIOtfsH7IN2G9f7Q+AOTV0x8PD9++P6lKF0ODIB9vV9tTBCEMgaDZEVMe0CFbYBAAAAPw+TvX3wWdv1XvH3+tHlEu1f7dw8uHxzfdp6MJcp0H5Wq7Wh0xSAjggpYEihgBHDoADEi/kP9J/UY9yd+ar7JQ+/cP9/f3Dx/eGxOMbKeaDsvtdmUCVqBcYBPYQsAEcD2WC6HWywC4AOD80QD99tcs/q77G+qPUc7V/svDfZbdPz68Gu2vbRroPLgpjfwYA84DjVwmUCQJnCIMAAbA/ofqP6ofeh+Kn6/faCsXav/5UQPItAne/nyyhcAgmK6AIAjBED2fAAMAgkzWD/+L5z+Wjv/WOfyjrnJ6AmBMkL0zDbFrCSzvNAFmkEoDqQ5ISdAjAgAg6NcRLoAo/97x+/Khag0AmkD28NdeaQL28a5NA2bgm8AZjVt5gG+GAQBCAeg4F2D4X9QP97P80gVg0uCVqgnks3FpIgDBNQEPRTIB9xWCKADuAOIABP2of+h9SH4rH/o1gFMRPCF4+FMdagK9aXmKJgIDwTcBbojkAewHqAygFfoAeAlECYACGNCP03ePH9ptrAszBxgAIFCBwGxRIlwXcCVIEEASiBboDwiAYwAuAFPodwtgWD/OvgZgJkELAARMFsw6uY7ObF56CADBbwdXFgFngZwEPSJgEGSSAaDfAlgsAvphAMgn/QDQrZ7+sgBA4O+DRpATAbZBiAD3Ai4DsEBgNQAA6QRA/lMCcPGrC58jaFTt/z4CAIE3+0qNOrklsCi9CJvAroxkAtMoAdRBAOh2hQSgCdjRj/OXsx8GuK2Uen3qAiDw9elaDU4ELtalHwKCq7YeMEL8KtBtOCCeAADQUr8ov1xP1OHjSwJw//heE+iaz5EaAhORwJYIXEU8ELQANYLBCQAbACMw9OMC4BZA6JeOf71el7uN7oKufjsTvvx0qEwZsFuMKxCImcD0QxBIFkKqAqcymAUyIPAIqJkAE1m/JN/GADXQTYJvSukyYCPvDNc6iAHXQq8S8kBEnSBUBbLQGtieBul3zx8JYOUn9d+q6vDNAGACf5kkWB4JbOw/LiWCOxbCA5QEIBCbhjJ+DlQ/BOUdAOsPnX9J8k3sFurww8qnePy+N0lgI79YHyPsga3jAR4HkATYDYgWsA7w9FsAoRGY9F95+hnAuo6+3ghaA3AZeK2U6h8tYMpAEIFXCxuXI4yEbhlAEoh10KYAAeA7IPTfNAoAAOD8y6D83URVThPkXjg7JcGyXCNC7YDqQKgMLEJJQJ3QAWD1A8BGMgDr3wr6Ed0KPYAAZPe6E4yWlAQmgh5ALxAKISzgXwlAAADIAMtOYwRcsH7rf/H8Wf7uStEY6I7E+0r1agK3O0aQJjAhAtQKyQIZZQBuwZQAzg3IxN1dQj8AzNThZ4bgMvB5X113TgDm63WUwGrrzwOCBXAx5oGYAeAWEBuBYAA9kkM/yXf0X6rrp1dkAOdeaC7GhQWwzC93CQQnAvZ6nCTg7YbQCDKuAAAgG+AKBqDzh3ynAhy+P0JviMB7bYH6M2GF/5+QRyJcjNALA/MgcoAACD1Q91AyACWA0/9E+bsLqgCcA9+eLWAJLPPJrj0B2wzlOhizQCb2QOjHDCgZwJXP+suq2r+H/rgFLAK0Qkbgz4TNJLgRLLAUqkBGq2AACCYAVuAoANAfyH7zI1eqeoseGKkCvcISgAUiHgCBF0iCSBXgpwQGQJdLYAcG8PRPsAL2EgDjnyvffBurEa5B8UYwKpY2ohYovVbQ3gIMgEtgvQaCAZAANYC6AwwjBtg9O2CoCwBVQGkWyE8EYAEEzYRIAuoEVAWSACgBAhUQ+m9d/StBvvkaKFVhCI7Fj0M1qC1QrAPhEqA6yBaYBgDMIg7gCkD6/Tsg6XczYJfLIwBfi6uqU1gENAvECJAFuArwrbhnCGR1CfA2gXQJAADSH2wBOyt/Nz+MsAxPFIEPXaW6m6VF0Jnb/0icAFkAqwFYIJIDGfRjEeBlAEYAGCA8AvuHr7+mugB+fswAIGoB/cB0dPpgaNEZ2hoaqwPbdCukPuDkQOYZAFMgHgVb/TeTWj+WoO4IRPJNA7jef6JNqNwJn8vgMToXO+0gIEhY4A4WCJVBYTmYhTLAMwA9BUgkABCYCfDQwwSQCnMrVl18TL6kFCAC222iDsp9AABoF2oBUAXAFjw8A/v9T/v/+tB/jQKQtsAfNgdsdC61AXb6ZzoJ8MxQsADvh7s9AGj2QGQAeqCzBW6vv9D6B6Q/OQ12agssjPrJcKcjlQT1o3M0AmyIKQdiADAFwQDhx2B0B/L6f+8w2n8k/fF4aXJgXpwIrHa7/FAVk9vSYSDUQVhgIpRBXotk6AEwAF0DG2vQhAGAYDjS9f/HW9Kf7gP9TZ0DN7tVVSnV6xQXl6s1GHAVwJWAOiGVwQQA2QCX1gDcAUx4/X+iVPX0hep/EsCrfVUVBXLgQmkC1azI8858rI3AFtjSNOQOQ3IfOALocQbQKlhuAeE70G6hKrX/+kj6k7PQ25FS+aYmUPZUtVfmlvj8S19e7mIWaJ8DBCDnMbjWTwACMxC02/J3uD5Urx54/knHz0OFIlBcVEr9MTpuy8yvfhyvAl4OgEDwPlADmDkAQlMgGwD6+fzzWPlLF4FBDWDTVYdP9lWiQYGVuUcAFsA4CADoA837AAD0qAn6BhiTATgDoP6o/+cH0t8OwBs9CeA3khvZ96sHh+uawJQtEM+BCwtgHgbQoxIQ2oQ4Q0DKAB19/fnO5a/9JFAtNxbBJn9+oPry4fXH/bXqHgksShDAkhidkMsgZiEG4G7DJQDpCgADFFr/53vS37oK9pXqzIuN/lHMB9Xh5zOWtx/rrfkyn5dkgQCAG6cMSjkAAHwTpgyAAeAAOv+p9v/3s/TjOjDTADYawbKyrxQYAj2zMTx6oCjJApwDAHDBd+LZjAFwD8AuEBkQqgDN+jfR178f5/kfm8Ge/W2z5mY98MG+Xv3wuq8J5CAgAMAocCPmQBrAnHpA2wwY6qT9+OE8/diOd58BGAOYXUpdHJSqOktLYFNSGeQ7Ic9C3AgzYQpIAliFhwCdwNW3RP1PXwgHzwDmA6X65i6NIVGNis6xEqZygHaDvBy2AFAD+SJk9aMEJA2Qq2qP/d95AL4eAcxzdW1fqQAa2wrsPMAW4FnIEgAAXgpk0XWwUwLTAHZjldj/tdyM9g2AoqoOn15mAJCZ8qDy5ZHAJDAM6Skt1QhFB1j9qIEEQCoB0L+qnh8A/D8A5oP6eSJaZFc1nqG/oBtBLAeaADqSA4pAE/BuwpEeuJvRA4DzASx66hpuapaBwSkJOqs1AbAERAAbGQBKwMbLANRAugc4BEwHfHpDCXBeDZh39Pnrl8ru/RbxhCSYLWABH8CVcyGiSQBtINP6PQC8Do1mADrAqMIHQv5jF5jqAsBuMk8OekrV7xLhvVoAaDRCBjAXAcjbMFoFiAaY82tgZ96GRtWgQjvx/y7eJcrz4ZrLoADAEmAA9F7QBjUQJSByEWpUwPM6AB/yYVSdZmD+29/xLhGSYOVYQHCAAYBJgB2wpEFYALANAiiU6tEIeN59cPS0f9pjAuBnJ93lsQzOLtfxKjjGZtAHkAOAcBUkAJESsNsqOrOzCbz9+u6PPx8kh3zZV1XdCpf00ow3CRAA9AEAEAdh7INRAtgB1gD8YYDzs+BBx72E55u5Fnp1kADIVdDoFwB4XRBPRLgGEoBSSNrzCJjIEGyB+uX6vLP1AAzJAdQG8IyUADgOGEcBlI4BpqgAvzBQBWZ1FRivtX6/CFzRXqwVgGUagDQHDtACfnk86sVxfwkLRKogA9g0PkVkAcyCDpAeCaEEOAa4OncGOHdvWuUdWIAA3AkA6DrkzAEddwxgAOiC1AOW+FTwrw28SFL/RikFtQEDoF4MRhajSAEGcBEF4A8B5ajCLeCXBl4kOQEws8CqDAK4jC2F0gDGcgr4GXCD1c0vDbxPd8oBI2MhOACjUGQjwF2AaiBfhgEAGfDlN+jHB+0+Hho5kA9dADwLRjYCmf9+6FwA8CKWAv3flwF4iI4cGK9XqTbQHgA7AO/GwQAOgN2tUr+nB2AxYl4orHNgU67ENiDvhCyBLD0GYB0iAbjAB+J+beBTZpWys5AVciv2wRtKAQJAKSA44E4GkKund78rA/BSbRc5MPmHuTPBThuGomjtpNQ0YGghNIRAaKZO6XzScf/7qhyTXOSnbxcOVuLDBnR5f5T0NbBSQQtAYipgujmAV52oLgAnQBwQAFINbWsCCkATwYnT489YLoBk8IgRsocTaQtaYXBaA0ATIWakSRQEwNk4SiGkm+gJBMYAIA+AQFUBh0EARAGthmsBPFtyIar9j030HBvoDdQH2HlAswKMYjAL+oCz6ZILQbG+4qYpvdG832QCtgI2qYbL9QuAhFvRET420fee39vAVLbHCIM1qfAKQC47gyEAdkt4L2IQIAxcjjoAcE0BAEgU2ADA8zoTyIwo0GEPL8LH9glNkVUqpMUQTrARgDZEdGdUFbCqha8+xAPADmIXAPnYBCAbAz4ArQYJg4YTnFQBxEwDSAQAkJZhwCuH50EAOEEbwNAAMD6ZGU5wwS5ejI99YjKhYhad0Q8QBQgA6QmaAIwwmI2W3Y8PAwAFPFMAekxoKABysy0OgILA2AsDk0cGoFhKvwTAYA0SQaMp2gCgXwdgLRV8LABeDsiDBIAeEGj2AcRBQwETABQ+4FECcOsPAkgNAIGGgChAbKAsBt89dBQYDoiCAJBayIgC+RqAoZkLB8PAY8gDABA4KWdsj1sA7GLAVsDg6UNkgj/IBDGBAICeDSAvAagXtMtBBRCxFtB7FVUAWc22AAP26IjZAIiDnhc0DornD1EN3txXg0kZBheLOgDW9UkFQDlohwFPAoMzhsXG+07Xu6K3iZC3LRIEMNwCQO8AABwTrADoR9wZZX/U64vnBx4A0oCDHlFwGwCcFbdzwbNjTse0/XFOxu8J5j0AeFcGLB/YCKC6PcrWkHrBLHIiQFeY4eljvxLYGgBtUWuDXO6LlXHwbTwnQD8EAMnJRF2ADcA7JgcBuTFjHZJZVGwgiXg+hhGUewDI00wB2FdGcAECQDsC7kc2jAQg4AD0I/bF6YrvrwGYsn4sAB/YBKD+lFAFwEy94HgZrx7kijUuoEwDACAWQBqwAYB+YHoKNuA7ge7oIpoT4IwMBPZ7AsBOhFMTQLMTmM8MJxBva4QxC4d+EMhWALAAATAFABcm/JujYgNSEkMABZz1ou0OMmgjSQGQZn4hwJ0he5JKDgAk0AjAOCs5GcWyAUatpADIXyIAsYCwCwCAP0JGrkzIHHXTBm4iAeCMFBZwMMkAYFoAAFJVQLMTIA5Ia3jgbCBOW4wTQknqpUHl+jMsQGOAD8CtHwXItSEzEI4BIHEgRknM3MF1AUwDFhAao4IJME2qBLDPRPVGG9CDMsXo/GG0gogLA2oBFEJ6Z07SIAFQmoBtAxoHsAFXEEVoC5EEHKViARID/BEaHJUnCJYAPC9o2oAhAbxA6oZ9tLx+BrH7LnA4CU0VtC0gSREAAEgG1QYAMLcAvDpZti4BBFCkwQA4DlnAMfelJA0SAEigPg68mDNKrJIMDVwk5KozXxsC4NbY7XeYLQgB4SSgLyMFAeAPFDUag5IKIAHekOGyewsfAuDSGC4wUAjKhTk2hQgCjNKScyIqAQaKzsISOGy3JuSkvC+ANJMyIOgCuSzD+gHAyxqGGwwFgsz3AhMZH7379RdlEHuCZT/4Lgk6QQCB6REIwACAE7BTAYpiKYncV4xPbK01RhXASxSlAGZSBpEFSgxAAAAISaAEYElgDAB/mlqnxaKQMrDcEKIfvvb8VpMAAOCP0zNtQGZq1hOYu1DYlhHwJFOaBkKA+1brVwBaCfsAsAHG6qoEDvzGUDASnL10keBbCwQYn3DkkmDJAYgA1njxaf1UWZWAzpVVLxDaKt9btrNVzntMGABJ4EwF4L05ZQgAAOoEGr2AkQy4kuAKN9CCAzhKPQuYTcQArLHC/hApAHSQQOLlQsZUwQYjOHaR4O9pCwTcLK3usmwDIIAe658jAFpheAAKQQVgxAGVwH8R6LtZcjeM0tnhduhXrs3fPc84kQjAYzueBzAtoLMCQFNA3GDYCKrDdbGC1BH4DIGdBYDfl/cPstEK5SnagAHQC5ROgAAgHUYC1Qn7tgQWXjawv+xefILAjtb/93LlAAHwwo8AoYG6AEAAAOB9AX+2LpM1NRfoiR8URzjYWxYawA/sQv+sn9Ox9vpVADpR9x5ABwBrXQHTCPSVHSXQcQRu8IQ7GCryvbr+NO+vFYH++mse2MACFAAEABBKB4WAoQGZqrrt8l0TcN9bf1pmAAvWX/fWlpQBOQLgoSUIyIx5m8CJTeB2rLibK3i6gwLQPVFOBXA3NWGaLcQAjt1XNQA6IcRAG0BefI3PDepro0rAxYKjq+X1a8xga/M/f3951wOCwPOMDEACgPXSlhqAKkCMAADB69Q2gWK29sWnN4hgS/l//HUxCq2fScJSA3k5kCUAAAgB0sF6I5jPawi4zaKRq4y+f9hGBDxJfH7ddeY/Srz1O/2zfikBWL+8tichAACmBEiIxQgKADppGhFkHfe+wtWnL0wY33ie0rubCyekp6m//qGxflIg94VeIM9zA4DhBQJ+0NNA0YINaAAzmLrk/eLr9Tl2sJHze/Nj5BqAVfnnfSZpSwYgHtBshPDoalACaZ0fRANjNBB8du3F08IT/P1z7lSwCYNTt/wn11+Lv7+b+OtPDli/NAHMt6c1CQSAJQFNBsQNQGBmEBj84+zctpoIgijqBAiZRC5mIoZIJCxIQLxfgeX//5fd0yGbnkNNMSl1KTyoe9ep6s4ocLwIc7D8HRRcosCf/Yvrm4erVZj+nRB/6MO3dP+VG4B9BbA3YBKwZ0WAPWgPgW5CUXAWP9Hocvnv5vrikhi0N//iy89fV6sqHP5FI/7jQcYfGkD+QzknQLoDNb/y9J5EIFT2ZETPwlhrA2TACMG72U5YBaurH7d3l7WDcxs+9v7i/NPXfo1fHiZ8AvD6JOef03+XXwcgCdhDQDYEYuCgNQP5IlAFi6Bgdf/z7vwiScg9rN8R6K8/3T4s4+wrfjF+n/DhT/1nAHQBaACyFYgAGYKe7EHTwKRpQBW8Kao6BouH25uPQULQkDwkE5eX8T3XHz9//bGqm1/1iyb+cHbyhP+M/BsLwAhAzh8FOBGQNeBkwFIwGPcXtYNl9fDt783dl+vzgJ1UnH//8unz7Z9fi6uaflHuCH5vFKcffvrvvAZSfhUgezDyyxDYBuZzViFzIAqOJsPawWK1vFquyh8P93++hfrz+/5hd7q6Cu9bxN6X/aIn+PuDow/wp/iHBMCfDQD8DIARgCiANZgb4OmYvQhtA6ogOpgfHJZRQtSwWj7WKqJH+GpvB3rCPxocbdrP+psnfnMBDDUACEj8JMA2oGtALkQYkDHgy/HzYYZvjnfLKligIvq07O8G+EbvQ41nH5r4qf/Mv70AbX4EYEAEiAF7D8giCApwQA5OagmD2biIf5n1HxueRwd24Is1/WFxPHrP5waBv67ELzfA7ATkCqh3QATYBvwMEILGnYgU4IAKQTgbjd8+/u6w0/miNx6dhfQEePpP+4m/8I/hRwD8KqCPADkJdBFKBjgMogEU4MCQcDR4sz8e9gqt3vBgNBlEevC1/dr/9hNQA0ACdA9ma8AxIIvAVKBr8WQwmY324+u29Gcc7I9mkf0oJn/Dz/P/VHb/ZQD0DqgCjJOACMhRYBnQELAMREPoMDYyOQEeeqP9Pr+/ARHAELSsASMDKJjYIagloMGqRA69TP8L+Z0BQEApAjCAgnYDEoLwlIQUiAWnoG/ga/tNfhagF4AyS4AYcDIghwEhmGQKRAIelF3hwX8Z/ynnyvP8GChJgBWBF2Ygf1ye/fOpWtAghLczdMGf1K+5wPf5EZDxgy8C1AACbAO6CDaV34vUAgV8Tg9+FGDgb8WPgBIBZgbUQCjLQCwU4KBTQR/xU3H2P8M/tvh9AeWjAHMNxHIN2Apqkg7gOf18si6GP+ETf+V/+2J+BGgGdo0LEQZYBKpggoK1hIiW2JzOCz348NN+p/++AI2AGugVpgFCgAIMpOdFScKmAqRgR3LgiT74T9Nv8A+1/4et/ElA6xo4zDLAnZBV2B6C9Mo95QAPdp0Z9G77Nf+F038EEAIEqIHiSQZOJQOEgBfJoZKDVE8kRA31MCg8ydfwgw9/s/89l59LAAJKBDyfAQQwBcdqQBWsBSQL6Y1EGXkTNeih8XOlZ/eRfsX3+Hek/7YANcCH1cWzQBeBl4IIvyZb35W1kqlMgI1P/JW/kP1nLQAEqAEEuAbMFBADv8AHXsJvtB9+HqfY/OBrAnwDehjIHGgKKF8C8Fnzpf10n/Xn5F8CgAAxIIehcRhgQOZAJPgWIFd6TT/tl/nX/EsAVMA2Bk4NA5mCmGHHAuwmPfjw037678y/KUCvQyhAAFciDLgKkDBTBeGn+Ath9/GZfrn+cAF2BUwR0CUDughUQSxRoFkQdNgF32w//ecRuPLLBBgCUOAbsBUQA98C6LBDD74uf41/YfKrAEbANoACDPTWlRlwFWABD1REB16ab+Lr+Cu/tQGnUwS0DYEaKDDgKhAJoiPUM+gJXuiZfsVn/tv5ETBlBDBgKPAMMAcoQIJjQRtv48MPvsTf5EdAgI/1alqKAvtSzGGAAUOBOECCTw49+PBL++389+HXACQB4YcIcBTIk0JRoDGIEigbHXalt/Hpv/DbCwABXTLAGGgI2AUsA5WgpfBKDz7pl/YLPyUDgAAM6CZ0jkNRgAMdBep5bNCt7uvud/ntAUCAZaDf2QApIAbkoGNp9A18Xv2x/jUAyo+Ajhngabmh4BgFOAjVEV3pwR9m4Zfrj9N/WYLbGUBBMsAgOA48dqH38fk/UD6/joAaEH65EMhpIIOAAyTgQbAjubAfRPgMn91H9sHvwI+AyjCQqs2AzsFGAZOABCxoKTu9h74x/PSe+Ov5T5WegKka0ClQBXkIZBngAA1jB1zpT6HPN5/D32/nr6oqCqg0A3vGHuikAAdY8At46LfC9/Nf1QIqEeBsQhRgQBTgQKPgswMPvYHP9Dv8poBYLQJ0EfirAAdEIS8LXODB51WftN/k74PfJkAN+LsQAyhAAgoaWVAXOXXibsJHfum/g6/3X10ACPAM9L0QYAAHrRIyDeENyJ9vvY2/PT8CpmkT2lPgK8ABMcBBZgERlKBn+JSffuhNfhGQFFhXQn8VcDuWjUgStijgt8C3+aGXHYAAw4C3CvJtgISooSM78Hb47eVnn39lzs8poA4wQBkXQxSIA5KQao2nyPFH/Gawp3LxQXeOPwTQ/64pwAAK1iUK8OBWT6pGj98FvzO/CmADVCLAWIYUBjo4YDCYEN5uFp1PZdMrf2mufx0BYmAawMGehiB+l1GQlejaUPj8zgc+ZeJ7/UcAa4DDwL0SoIBCAcXtoGMBL5vPCr+z/OFXASkCeiVSA+mK6SpAwKa6scOv3bf5KZ8fARsJXRcBCmwHhVmRE94C7lDdwl+PpfB3E0AMbANUFO4oEAmiwiuBt5pv4+v8/y+0DFIAAGEYhv//tBQPhQWXKojHROdsWAIQsF0C/ouogMVQOAj5H73jzwg+BTTlVwUx4A74KGact2SbmRS88Irvzd8FzIgBVUAHteAhOvEnPJq/8zcXD2M10WKU0JIAAAAASUVORK5CYII=",I0="hot:",Co=class Co{constructor(t){Rt(this,Fr);Rt(this,mr,{});Rt(this,ui,"1.0.0");Rt(this,fi,"HOT Wallet");Rt(this,hi,v0);Rt(this,Be,null);Rt(this,Me);Rt(this,li,(t,e)=>{var n;return(n=X(this,mr)[t])!=null&&n.push(e)||(X(this,mr)[t]=[e]),()=>mi(this,Fr,nc).call(this,t,e)});Rt(this,Rr,()=>{var e;const t=(e=X(this,Me).publicKey)==null?void 0:e.toBase58();if(t){const n=X(this,Me).publicKey.toBytes(),a=X(this,Be);(!a||a.address!==t||!b0(a.publicKey,n))&&(Ze(this,Be,new Mo({address:t,publicKey:n})),mi(this,Fr,Jo).call(this,"change",{accounts:this.accounts}))}});Rt(this,En,()=>{X(this,Be)&&(Ze(this,Be,null),mi(this,Fr,Jo).call(this,"change",{accounts:this.accounts}))});Rt(this,di,()=>{X(this,Me).publicKey?X(this,Rr).call(this):X(this,En).call(this)});Rt(this,pi,async({silent:t}={})=>(X(this,Be)||await X(this,Me).connect(t?{onlyIfTrusted:!0}:void 0),X(this,Rr).call(this),{accounts:this.accounts}));Rt(this,gi,async()=>{await X(this,Me).disconnect()});Rt(this,vn,async(...t)=>{if(!X(this,Be))throw new Error("not connected");const e=[];if(t.length===1){const{transaction:n,account:a,chain:s,options:f}=t[0],{minContextSlot:h,preflightCommitment:y,skipPreflight:x,maxRetries:M}=f||{};if(a!==X(this,Be))throw new Error("invalid account");if(!So(s))throw new Error("invalid chain");const{signature:S}=await X(this,Me).signAndSendTransaction(Wr.deserialize(n),{preflightCommitment:y,minContextSlot:h,maxRetries:M,skipPreflight:x});e.push({signature:A0.decode(S)})}else if(t.length>1)for(const n of t)e.push(...await X(this,vn).call(this,n));return e});Rt(this,yi,async(...t)=>{if(!X(this,Be))throw new Error("not connected");const e=[];if(t.length===1){const{transaction:n,account:a,chain:s}=t[0];if(a!==X(this,Be))throw new Error("invalid account");if(s&&!So(s))throw new Error("invalid chain");const f=await X(this,Me).signTransaction(Wr.deserialize(n)),h=Ga(f)?f.serialize():new Uint8Array(f.serialize({requireAllSignatures:!1,verifySignatures:!1}));e.push({signedTransaction:h})}else if(t.length>1){let n;for(const f of t){if(f.account!==X(this,Be))throw new Error("invalid account");if(f.chain){if(!So(f.chain))throw new Error("invalid chain");if(n){if(f.chain!==n)throw new Error("conflicting chain")}else n=f.chain}}const a=t.map(({transaction:f})=>Wr.deserialize(f)),s=await X(this,Me).signAllTransactions(a);e.push(...s.map(f=>({signedTransaction:Ga(f)?f.serialize():new Uint8Array(f.serialize({requireAllSignatures:!1,verifySignatures:!1}))})))}return e});Rt(this,In,async(...t)=>{if(!X(this,Be))throw new Error("not connected");const e=[];if(t.length===1){const{message:n,account:a}=t[0];if(a!==X(this,Be))throw new Error("invalid account");const{signature:s}=await X(this,Me).signMessage(n);e.push({signedMessage:n,signature:s})}else if(t.length>1)for(const n of t)e.push(...await X(this,In).call(this,n));return e});Rt(this,wi,async(...t)=>{const e=[];if(t.length>1)for(const n of t)e.push(await X(this,Me).signIn(n));else return[await X(this,Me).signIn(t[0])];return e});new.target===Co&&Object.freeze(this),Ze(this,Me,t),t.on("connect",X(this,Rr),this),t.on("disconnect",X(this,En),this),t.on("accountChanged",X(this,di),this),X(this,Rr).call(this)}get version(){return X(this,ui)}get name(){return X(this,fi)}get icon(){return X(this,hi)}get chains(){return Io.slice()}get features(){return{[p0]:{version:"1.0.0",connect:X(this,pi)},[g0]:{version:"1.0.0",disconnect:X(this,gi)},[y0]:{version:"1.0.0",on:X(this,li)},[Ka]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:X(this,vn)},[qa]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:X(this,yi)},[Qa]:{version:"1.0.0",signMessage:X(this,In)},[d0]:{version:"1.0.0",signIn:X(this,wi)},[I0]:{ghost:X(this,Me)}}}get accounts(){return X(this,Be)?[X(this,Be)]:[]}};mr=new WeakMap,ui=new WeakMap,fi=new WeakMap,hi=new WeakMap,Be=new WeakMap,Me=new WeakMap,li=new WeakMap,Fr=new WeakSet,Jo=function(t,...e){var n;(n=X(this,mr)[t])==null||n.forEach(a=>a.apply(null,e))},nc=function(t,e){var n;X(this,mr)[t]=(n=X(this,mr)[t])==null?void 0:n.filter(a=>e!==a)},Rr=new WeakMap,En=new WeakMap,di=new WeakMap,pi=new WeakMap,gi=new WeakMap,vn=new WeakMap,yi=new WeakMap,In=new WeakMap,wi=new WeakMap;let ko=Co;function S0(r){h0(new ko(r))}const ja=r=>{let t=ye.Buffer.alloc(0);if(ye.Buffer.isBuffer(r))t=ye.Buffer.from(r);else{const e=r.split(",");e.every(n=>u0(n))?t=ye.Buffer.from(new Uint8Array(e.map(n=>+n))):t=ye.Buffer.from(r,"base64")}try{return Wr.deserialize(t)}catch{return ii.from(t)}},Zr={publicKey:null,async connect(r){const{publicKey:t}=await pe.request("solana:connect",r);return Zr.publicKey=new at(t),console.log({publicKey:Zr.publicKey}),{publicKey:Zr.publicKey}},async disconnect(){return await pe.request("solana:disconnect",{})},async signAllTransactions(r){return(await pe.request("solana:signAllTransactions",{transactions:r.map(e=>e.serialize().toString("base64"))})).transactions.map(e=>ja(e))},async signTransaction(r){const t=await pe.request("solana:signAllTransactions",{transactions:[r.serialize().toString("base64")]});return ja(t.transactions[0])},async signAndSendTransaction(r,t){return{signature:(await pe.request("solana:signAndSendTransaction",{transaction:r.serialize().toString("base64"),options:t})).transactions[0]}},async signIn(r){throw"Not supported"},async signMessage(r){const t=await pe.request("solana:signMessage",{message:ye.Buffer.from(r).toString("base64")});return{signature:ye.Buffer.from(t.signature,"base64")}},off(r,t){pe.unsubscribe(`solana:${r}`,t)},on(r,t){pe.subscribe(`solana:${r}`,t)}};pe.subscribe("solana:accountChanged",r=>{Zr.publicKey=r?new at(r):null}),S0(Zr);try{Object.defineProperty(window,"hotSolana",{value:Zr})}catch(r){console.error(r)}})();
